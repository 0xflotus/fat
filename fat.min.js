/*
 FAT v0.5.0
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(L,P,B){var q;(q=B.define)&&q.amd?q([],function(){return P}):(q=B.modules)?q[L.toLowerCase()]=P:"object"===typeof exports?module.exports=P:B[L]=P})("Fat",function(){function L(a,b,c,d,e,g,f,h,da,k,n,l,r,t,u,w,C,J){this.b=a;this.v=a.o;this.style=b;this.a=d;this.c=e;this.h=d;this.g=g;this.i=f;this.duration=h;this.j=da;this.ease=ea(da);this.start=0;this.l=k;this.u=n;this.T=c;this.O=l;this.s=r;this.H=t;this.S=C?"%"===g||-1!==b.indexOf("A"):"px"!==g;C&&(this.w=C,this.I=J);u&&(this.transform=
u);w&&(this.filter=w)}function P(a,b,c){var d=c||-1,e;if("#"===a[0])if(4===a.length){c=D[(e=a[1])+e];var g=D[(e=a[2])+e];var f=D[(e=a[3])+e]}else c=D[a[1]+a[2]],g=D[a[3]+a[4]],f=D[a[5]+a[6]];else e=z(a,"(",")").split(","),c=parseInt(e[0],10),g=parseInt(e[1],10),f=parseInt(e[2],10),3<e.length&&(d=y(e[3])),-1!==a.indexOf("hsl")&&(0===g?g=f=a=f:(a=.5>f?f*(1+g):f+g-f*g,e=2*f-a,g=B(e,a,c+1/3),f=B(e,a,c),a=B(e,a,c-1/3)),c=255*g+.5>>0,g=255*f+.5>>0,f=255*a+.5>>0);a={};a[b+"R"]=c;a[b+"G"]=g;a[b+"B"]=f;-1!==
d&&(a[b+"A"]=d);return a}function B(a,b,c){0>c?c+=1:1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function q(a){this.id=++oa;this.stack=[];this.N=pa.bind(this);this.exec=0;this.G=!1;this.F=!a||!1!==a.autostart;this.direction=!0;this.ratio=1}function V(a){G(a)?a=document.querySelectorAll(a):a.length||(a=[a]);return a}function ea(a){if(G(a))if(a){var b;if(!(b=fa[a])){if(b=M[a]||(M[a]=W.apply(W,qa[a]))){for(var c=new (Int16Array||Array)(R),d=0;d<R;d++)c[d]=1E4*b(d/R)+.5>>0;b=c}else b=
[];b=fa[a]=b}a=b}else a=[];else a=null;return a}function pa(a){var b=this.stack.length;if(b){this.exec=requestAnimationFrame(this.N);ba&&(S?S===this.id&&(X={}):(X={},S=this.id));for(var c=!1,d=0;d<b;d++){var e=this.stack[d];e&&(c=!0,e.X(this,a)||(this.stack[d]=null))}ha=a;c||this.destroy()}}function G(a){return"string"===typeof a}function E(a){return"undefined"===typeof a}function ia(a,b,c){b=y(b);"+"===c?b=a+b:"-"===c?b=a-b:"*"===c?b*=a:"/"===c&&(b=a/b);return b}function N(a,b,c){if("scrollTop"===
b)return E(c)?a.scrollTop:c;var d=a.o||(a.o=a.style);return(c=E(c)?d[b]:c)?c:(a.K||(a.K=getComputedStyle(a)))[b]}function ja(a,b,c,d){if("none"===b)return b=a.substring(0,a.length-1),c[a]="scale"===b?1:0,d&&(d[d.length]=b),c;-1!==b.indexOf("matrix")&&(b=z(b,"(",")").split(","),b=a+"("+(parseFloat(b[ra[a]])||"")+")");a=b.replace(/, /g,",").split(" ");b={};for(var e=0,g=0;g<a.length;g++){var f=a[g],h=z(f,"(");if(h){f=z(f,"(",")").split(",");var k=f.length;2<k&&(h=h.replace("3d",""),c[h+"Z"]=f[2]);1<
k?(c[h+"X"]=f[0],c[h+"Y"]=f[1]):(c[h]=f[0],h=h.substring(0,h.length-1));b[h]||(d&&(d[e++]=h),b[h]=1)}}return c}function ka(a,b,c,d){if("none"===b)return c[a]=T[a]-1,d&&(d[d.length]=a),c;if(8>(""+b).length)return c[a]=b,d&&(d[d.length]=a),c;a=b.split(" ");b={};for(var e=0,g=0;g<a.length;g++){var f=a[g],h=z(f,"(");h&&(c[h]=z(f,"(",")"),h=h.substring(0,h.length),b[h]||(d&&(d[e++]=h),b[h]=1))}return c}function sa(a,b,c){var d=a.B;if(d)var e=a.L;else a.B=d={},a.L=e=[];if(!d||E(d[b]))a=c||N(a,Y||"transform"),
ja(b,a,d,e);return d[b]}function ta(a,b,c){var d=a.A;if(d)var e=a.J;else a.A=d={},a.J=e=[];if(!d||E(d[b]))a=c||N(a,ua||"filter"),ka(b,a,d,e);return d[b]||T[b]-1}function va(a,b,c,d){var e="_"+d,g=a[e];g||(c=c||N(a,d),a[e]=g=P(c,d,1));return g[b]}function z(a,b,c){var d=a.indexOf(b);return-1!==d?c?a.substring(d+b.length,a.indexOf(c)):a.substring(0,d):""}function wa(a){if(a){var b;if(G(a)){if(b=z(a,"bezier(",")")){b=b.replace(/ /g,"");var c=b.split(",")}}else a.constructor===Array&&(b=a.join(","),c=
a);b&&(M[b]||(M[b]=W.apply(W,c)),a=b)}return a}function ca(a,b,c){if(a&&b){if(c){var d=c.engine;if("css"===d)return this.transition(a,b,c);if("native"===d)return this.native(a,b,c)}else c={};a=V(a);if(b.constructor===Array){var e=b;b=b[0]}d=c.callback||e&&function(){};var g=c.step||0,f=c.force||0,h=c.strict||0,k=this.G||c.init,Q=c.loop,n=c.delay||0,l=c.duration||400;c=wa(c.ease)||"";for(var r=Object.keys(b),t=r.length,u,w,C,J,q,O=t;0<O--;){var m=r[O];if("transform"===m){u=ja(m,b[m],{});m=Object.keys(u);
for(var x=0;x<m.length;x++){var p=m[x];r.push(p);b[p]=u[p];t++}u=m[m.length-1]}else if(!u&&la[m])u=m;else if("filter"===m)for(m=ka(m,b[m],{}),x=Object.keys(m),p=0;p<x.length;p++)w=x[p],"hue"===w&&(w="hue-rotate"),r.push(w),b[w]=m[w],t++;else if("hue"===m&&(m="hue-rotate"),!w&&T[m])w=m;else if(x=ma[m]){if(0>x){p=b[m];"object"===typeof p&&(p=p.to);var H=P(p,m),y=p=void 0;r.push(p=m+"R");b[p]=H[p];r.push(p=m+"G");b[p]=H[p];r.push(p=m+"B");b[p]=H[p];(H=!E(y=H[p=m+"A"]))?(r.push(p),b[p]=y,m=p):m+="B";
t+=H?4:3;x*=-1}C||1!==x?J||2!==x?q||3!==x||(q=m):J=m:C=m}}for(O=0;O<t;O++){var v=H=y=p=x=m=void 0,F=r[O],I=b[F],B=void 0,D=void 0,z=O===t-1,G="_fat_"+F+this.id;"object"===typeof I&&(n=I.delay||n,l=I.duration||l,c=I.ease||c,B=I.from,D=I.unit,I=I.to);if("transform"!==F&&(m=la[F]&&u,"filter"!==F)){"hue"===F&&(F="hue-rotate");x=T[F]&&w;var K=ma[F];if(K){if(0>K)continue;1===K?(p=C,v="color"):2===K?(y=J,v="backgroundColor"):3===K&&(H=q,v="borderColor")}K=0;for(var N=a.length;K<N;K++){var A=a[K],L=h&&F+
(A._id||(A._id=ba++));z&&e&&(A.D=e,A.C=0);k&&0===O&&(A.K=null,u?A.B=null:C?A.aa=null:J?A.Z=null:q?A.$=null:w&&(A.A=null));var M=A[G];M&&!L?M.V(B,I,D,f,l,c,z&&d,z&&g,n,m,x,p||y||H,v):this.W(A,F,G,B,I,D,f,l,c,z&&d,z&&g,L,n,Q,m,x,p||y||H,v)}}}k&&(this.G=!1);this.exec||(this.exec=requestAnimationFrame(this.N))}return this}function v(a,b,c,d){a.setProperty(b,c,d?"important":void 0)}var R=Math.max(screen.width,screen.height),na=R,fa={},M={},X,l=function(){var a=getComputedStyle(document.body);if(E(a.transform))for(var b=
["ms","moz","webkit","o"],c=0,d;c<b.length;c++){if(!E(a[(d=b[c])+"Transform"]))return d}else return""}(),Y=l&&l+"Transform",xa=l&&"-"+Y.replace("T","-t"),Z=l&&l+"Transition",ya=l&&"-"+Z.replace("T","-t"),ua=l&&l+"Filter",za=l&&"-"+Z.replace("F","-f"),y=parseFloat,S,oa=0,ba=0,ha=0,qa={easeIn:[.55,.085,.68,.53],easeOut:[.25,.46,.45,.94],easeInOut:[.455,.03,.515,.955],cubicIn:[.55,.055,.675,.19],cubicOut:[.215,.61,.355,1],cubicInOut:[.645,.045,.355,1],quartIn:[.895,.03,.685,.22],quartOut:[.165,.84,.44,
1],quartInOut:[.77,0,.175,1],quintIn:[.755,.05,.855,.06],quintOut:[.23,1,.32,1],quintInOut:[.86,0,.07,1],expoIn:[.95,.05,.795,.035],expoOut:[.19,1,.22,1],expoInOut:[1,0,0,1],circIn:[.6,.04,.98,.335],circOut:[.075,.82,.165,1],circInOut:[.785,.135,.15,.86],sineIn:[.47,0,.745,.715],sineOut:[.39,.575,.565,1],sineInOut:[.445,.05,.55,.95],backIn:[.6,-.28,.735,.045],backOut:[.175,.885,.32,1.275],backInOut:[.68,-.55,.265,1.55],snap:[.1,1,.1,1]},W=function(){function a(a,c,d,e){this.a=a;this.j=c;this.b=d;
this.l=e}a.prototype.c=function(a,c){return 1-3*c+3*a};a.prototype.g=function(a,c){return 3*c-6*a};a.prototype.h=function(a){return 3*a};a.prototype.i=function(a,c,d){return((this.c(c,d)*a+this.g(c,d))*a+this.h(c))*a};a.prototype.u=function(a,c,d){return 3*this.c(c,d)*a*a+2*this.g(c,d)*a+this.h(c)};a.prototype.v=function(a){for(var b=a,d=0;4>d;++d){var e=this.u(b,this.a,this.b);if(0===e)break;b-=(this.i(b,this.a,this.b)-a)/e}return b};a.prototype.w=function(a){return 0===a||1===a||this.a===this.j&&
this.b===this.l?a:this.i(this.v(a),this.j,this.l)};return function(b,c,d,e){b=new a(b,c,d,e);return b.w.bind(b)}}();l=L.prototype;l.animate=function(a,b,c){var d=this.O,e=this.a===this.c||d&&X[d],g=this.b;a=Math.max((a-(this.start||(this.start=a)))*b,0);b=a>=this.duration;if(!e)if(d&&(X[d]=1),b)var f=c?this.c:this.a;else this.ease?f=this.ease.length?(this.c-this.a)*this.ease[R/this.duration*a+.5>>0]/1E4:(this.c-this.a)*a/this.duration:f=1===this.j.length?this.j(a/this.duration):this.j(a,this.a,this.c,
this.duration),c?f=this.a+f:f=this.c-f,f=this.S?(f*na+.5>>0)/na:f+.5>>0;c=this.style;e||this.h===f||(this.h=f,this.transform?g.B[c]=f+this.g:this.w?g["_"+this.I][c]=f:this.filter?g.A[c]=f+this.g:this.Y(c,f));c===this.transform?this.U():c===this.w?this.P(this.I):c===this.filter&&this.R();this.u&&this.u.call(g,a/this.duration);if(b&&(this.start=-1,this.l)){if(e=g.D){f=++g.C;this.H&&f>=e.length&&(this.H--,g.C=f=0);if(f<e.length)return;g.D=null}this.l.call(g)}};l.X=function(a,b){if(-1===this.start){if(this.l){b=
this.b;var c=b.D;if(c&&(a.animate(b,c[b.C],{duration:this.duration,ease:this.j,callback:this.l,step:this.u,force:this.i,loop:this.H}),0===this.start))return!0}this.O||(this.b[this.T]=null)}else{c=b-ha;if(this.s){if(0<(this.s-=c))return!0;this.s=0}if(!a.F)return this.start+=c,!0;this.animate(b,a.ratio,a.direction);return!0}};l.Y=function(a,b){"scrollTop"===a?this.b.scrollTop=b:v(this.v,a,b+this.g,this.i)};l.seek=function(a,b){b=this.duration/b;this.start+=(this.h-this.a)/(this.c-this.a)*b-a*b};l.update=
function(a){if(this.h===a)return!1;G(a)?a=y(a):E(a)&&(a=this.a);-1!==this.start&&(this.a=a);this.h=a;this.g&&(a+=this.g);return a};var ma=function(a){function b(b,d){a[b]=-d;a[b+"R"]=d;a[b+"G"]=d;a[b+"B"]=d;a[b+"A"]=d}b("color",1);b("backgroundColor",2);b("borderColor",3);return a}({}),la=function(a){function b(b,d){a[b]=d;a[b+"X"]=d;a[b+"Y"]=d;a[b+"Z"]=d;a[b+"3d"]=d}b("translate",1);b("scale",2);b("rotate",3);b("skew",4);return a}({}),ra={scaleX:0,skewY:1,skewX:2,scaleY:3,translateX:4,translateY:5},
T={blur:1,brightness:2,contrast:2,grayscale:1,"hue-rotate":1,invert:1,saturate:2,sepia:1};var D={};var aa=Array(255);for(var k=0;256>k;k++){var U=k.toString(16);U.length%2&&(U="0"+U);D[U]=k;aa[k]=U}l.U=function(){for(var a=this.b.B,b=this.v,c=this.b.L,d="",e=0,g=c.length;e<g;e++){var f=c[e],h="scale"===f?1:0,k=a[f+"X"],l=a[f+"Y"],n=a[f+"Z"];if(k||l||n)"rotate"===f&&(k&&(d+=f+"X("+(k||h)+") "),l&&(d+=f+"Y("+(l||h)+") ")),n&&y(n)!==h?d="rotate"===f?d+(f+"Z("+(n||h)+") "):d+(f+"3d("+(k||h)+","+(l||h)+
","+n+") "):"rotate"!==f&&(d+=f+"("+(k||h)+","+(l||h)+") ")}v(b,xa||"transform",d,this.i)};l.R=function(){for(var a=this.b.A,b=this.b.J,c="",d=0,e=b.length;d<e;d++){var g=b[d],f=(T[g]||1)-1,h=a[g];h&&h!==f&&(c+=g+"("+h+") ")}v(this.v,za||"filter",c,this.i)};l.P=function(a){var b=this.b["_"+a],c=this.v,d=a.replace("C","-c"),e=b[a+"R"]||0,g=b[a+"G"]||0,f=b[a+"B"]||0;a=b[a+"A"];"%"===this.g&&(e=2.55*e+.5>>0,g=2.55*g+.5>>0,f=2.55*f+.5>>0,a&&(a/=100));v(c,d,1===a||E(a)?"#"+aa[e]+aa[g]+aa[f]:"rgba("+e+
","+g+","+f+","+a+")",this.i)};k=q.prototype;k.W=function(a,b,c,d,e,g,f,h,k,l,n,q,r,t,u,w,C,J){var Q=""+(u?sa:C?va:w?ta:N)(a,b,d,J);"auto"===Q&&(Q="0");d=y(Q);if(G(e)){var v=e;e="="===e[1]?ia(d,v=e.substring(2),e[0]):y(e);g||(g=v.substring((""+e).length))}g||(g=Q.substring((""+d).length)||"");b=new L(a,b,c,d,e,g,f,h,k,l,n,q,r,t,u,w,C,J);this.stack[this.stack.length]=b;q||(a[c]=b)};k.animate=ca;k.destroy=function(){this.exec&&(this.exec=0,this.stack=[],ba&&S===this.id&&(S=0));return this};k.init=function(){this.G=
!0;return this};k.ease=M;k.transform=ca;k.filter=ca;k.transition=function(a,b,c){if(a&&b){c||(c={});a=V(a);var d=Object.keys(b),e=d.length,g=(c.duration||400)+"ms",f=c.ease||"linear",h=c.callback||!1,k=(c.delay||0)+"ms",l=c.force;if(Y)for(c=0;c<e;c++)"transform"===d[c]&&(d[c]=Y);c=Z?Z+"End":"transitionend";for(var n={},q=0,r=a.length;q<r;n={f:n.f},q++){n.f=a[q];var t=n.f.M;h&&h===t||(t&&(n.f.removeEventListener(c,t,!1),n.f.M=null),h&&(n.f.M=h,n.f.addEventListener(c,h,!1)));requestAnimationFrame(function(a){return function(){var c=
" "+g+" "+f+" "+k,h=d.join(c+",")+c;c=a.f.o||(a.f.o=a.f.style);v(c,ya||"transition",h,l);for(h=0;h<e;h++){var n=d[h];v(c,n,b[n],l)}}}(n))}}return this};k.native=function(a,b,c){if(a&&b){c||(c={});var d=Object.keys(b);a=V(a);var e=c.duration||400,g=c.ease||"linear",f=c.callback,h=c.cancel;c=c.delay||0;for(var k=d.length,l={},n=0,q=a.length;n<q;l={m:l.m},n++){l.m=a[n];for(var r={},t=0;t<k;t++){var u=d[t];r[u]=[N(l.m,u),b[u]]}r=l.m.animate(r,{s:c,duration:e,ease:g});f&&(r.ca=function(a){return function(){for(var c=
0;c<k;c++){var e=d[c];v(a.m.o,e,b[e])}f.call(a.m)}}(l));h&&(r.ba=function(a){return function(){h.call(a.m)}}(l))}}return this};k.update=function(a,b,c,d){a=V(a);if(G(b))for(var e=0,g=a.length;e<g;e++){var f=a[e],h=f["_fat_"+b+this.id],k=!0;h?k=h.update(c,d):N(f,b)===c&&(k=!1);k&&(f=f.o||(f.o=f.style),v(f,b,c,d))}else for(d=Object.keys(b),e=0,g=d.length;e<g;e++)f=d[e],this.update(a,f,b[f],c);return this};k.seek=function(a){for(var b=this.stack,c=this.ratio,d=0,e=b.length;d<e;b[d++].seek(a,c));return this};
k.pause=function(){this.F=!1;return this};k.start=function(){this.F=!0;return this};k.stop=function(){return this.reset().pause()};k.speed=function(a){this.ratio=a;return this};k.reset=function(){return this.seek(0)};k.finish=function(){return this.seek(1)};k.reverse=function(a){this.direction=E(a)?!this.direction:!a;return this};k.create=function(){return new q};l.V=function(a,b,c,d,e,g,f,h,k,l,n,q,r){E(a)?a=this.h:a=y(a);G(b)&&(b="="===b[1]?ia(a,b.substring(2),b[0]):y(b));this.a=a;this.c=b;this.duration=
e;this.start=0;this.i=d;this.j!==g&&(this.ease=ea(g),this.j=g);this.l=f;this.u=h;this.s=k;c&&(this.g=c);l&&(this.transform=l);q&&(this.w=q,this.I=r);n&&(this.filter=n)};return new q}(),this);
