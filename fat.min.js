/*
 FAT v0.5.1
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(P,Q,B){var q;(q=B.define)&&q.amd?q([],function(){return Q}):(q=B.modules)?q[P.toLowerCase()]=Q:"object"===typeof exports?module.exports=Q:B[P]=Q})("Fat",function(){function P(a,b,c,d,e,g,f,h,da,k,n,x,r,u,y,t,m,F,z){this.b=a;this.s=a.o;this.style=b;this.a=d;this.c=e;this.i=d;this.f=g;this.h=f;this.duration=h;this.j=da;this.ease=ea(da);this.start=0;this.l=k;this.v=n;this.W=c;this.R=x;this.u=r;this.I=u;this.V=F?"%"===g||-1!==b.indexOf("A"):"px"!==g;F&&(this.w=F,this.J=z);y&&(this.transform=
y);t&&(this.filter=t);m&&(this.K=m)}function Q(a,b,c){var d=c||-1,e;if("#"===a[0])if(a=a.toLowerCase(),4===a.length){c=G[(e=a[1])+e];var g=G[(e=a[2])+e];var f=G[(e=a[3])+e]}else c=G[a[1]+a[2]],g=G[a[3]+a[4]],f=G[a[5]+a[6]];else e=H(a,"(",")").split(","),c=parseInt(e[0],10),g=parseInt(e[1],10),f=parseInt(e[2],10),3<e.length&&(d=D(e[3])),-1!==a.indexOf("hsl")&&(0===g?g=f=a=f:(a=.5>f?f*(1+g):f+g-f*g,e=2*f-a,g=B(e,a,c+1/3),f=B(e,a,c),a=B(e,a,c-1/3)),c=255*g+.5>>0,g=255*f+.5>>0,f=255*a+.5>>0);a={};a[b+
"R"]=c;a[b+"G"]=g;a[b+"B"]=f;-1!==d&&(a[b+"A"]=d);return a}function B(a,b,c){0>c?c+=1:1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function q(a){this.id=++pa;this.stack=[];this.P=qa.bind(this);this.exec=0;this.H=!1;this.G=!a||!1!==a.autostart;this.direction=!0;this.ratio=1}function W(a){C(a)?a=document.querySelectorAll(a):a.length||(a=[a]);return a}function ea(a){if(C(a))if(a){var b;if(!(b=fa[a])){if(b=M[a]||(M[a]=X.apply(X,ra[a]))){for(var c=new (Int16Array||Array)(N),d=0;d<
N;d++)c[d]=1E4*b(d/N)+.5>>0;b=c}else b=[];b=fa[a]=b}a=b}else a=[];else a=null;return a}function qa(a){var b=this.stack.length;if(b){this.exec=requestAnimationFrame(this.P);ba&&(T?T===this.id&&(Y={}):(Y={},T=this.id));for(var c=!1,d=0;d<b;d++){var e=this.stack[d];e&&(c=!0,e.aa(this,a)||(this.stack[d]=null))}ha=a;c||this.destroy()}}function C(a){return"string"===typeof a}function z(a){return"undefined"===typeof a}function ia(a,b,c){b=D(b);"+"===c?b=a+b:"-"===c?b=a-b:"*"===c?b*=a:"/"===c&&(b=a/b);return b}
function I(a,b,c){if("scrollTop"===b)return z(c)?a.scrollTop:c;var d=a.o||(a.o=a.style);return(c=z(c)?d[b]:c)?c:(a.M||(a.M=getComputedStyle(a)))[b]}function ja(a,b,c,d){if("none"===b)return b=a.substring(0,a.length-1),c[a]="scale"===b?1:0,d&&(d[d.length]=b),c;-1!==b.indexOf("matrix")&&(b=H(b,"(",")").split(","),b=a+"("+(parseFloat(b[sa[a]])||"")+")");a=b.replace(/, /g,",").split(" ");b={};for(var e=0,g=0;g<a.length;g++){var f=a[g],h=H(f,"(");if(h){f=H(f,"(",")").split(",");var k=f.length;2<k&&(h=
h.replace("3d",""),c[h+"Z"]=f[2]);1<k?(c[h+"X"]=f[0],c[h+"Y"]=f[1]):(c[h]=f[0],h=h.substring(0,h.length-1));b[h]||(d&&(d[e++]=h),b[h]=1)}}return c}function ka(a,b,c,d){if("none"===b)return c[a]=S[a]-1,d&&(d[d.length]=a),c;if(8>(""+b).length)return c[a]=b,d&&(d[d.length]=a),c;a=b.split(" ");b={};for(var e=0,g=0;g<a.length;g++){var f=a[g],h=H(f,"(");h&&(c[h]=H(f,"(",")"),h=h.substring(0,h.length),b[h]||(d&&(d[e++]=h),b[h]=1))}return c}function la(a,b,c){b=b.split(" ");for(var d=0;d<b.length;d++)c[a+
ta[d]]=b[d];return c}function ua(a,b,c){var d=a.B;if(d)var e=a.N;else a.B=d={},a.N=e=[];if(!d||z(d[b]))a=c||I(a,U||"transform"),ja(b,a,d,e);return d[b]}function va(a,b,c){var d=a.A;if(d)var e=a.L;else a.A=d={},a.L=e=[];if(!d||z(d[b]))a=c||I(a,wa||"filter"),ka(b,a,d,e);return d[b]||S[b]-1}function xa(a,b,c){var d=a.F;d||(a.F=d={});if(!d||z(d[b]))a=c||I(a,b),la(b,a,d);return d[b]}function ya(a,b,c,d){var e="_"+d,g=a[e];g||(c=c||I(a,d),a[e]=g=Q(c,d,1));return g[b]}function H(a,b,c){var d=a.indexOf(b);
return-1!==d?c?a.substring(d+b.length,a.indexOf(c)):a.substring(0,d):""}function za(a){if(a){var b;if(C(a)){if(b=H(a,"bezier(",")")){b=b.replace(/ /g,"");var c=b.split(",")}}else a.constructor===Array&&(b=a.join(","),c=a);b&&(M[b]||(M[b]=X.apply(X,c)),a=b)}return a}function ca(a,b,c){if(a&&b){if(c){var d=c.engine;if("css"===d)return this.transition(a,b,c);if("native"===d)return this.native(a,b,c)}else c={};a=W(a);if(b.constructor===Array){var e=b;b=b[0]}d=c.callback||e&&function(){};var g=c.step||
0,f=c.force||0,h=c.strict||0,k=this.H||c.init,m=c.loop,n=c.delay||0,x=c.duration||400;c=za(c.ease)||"";for(var r=Object.keys(b),u=r.length,y,t,R,F,q,O=u;0<O--;){var l=r[O];if("transform"===l){y=ja(l,b[l],{});l=Object.keys(y);for(var v=0;v<l.length;v++){var p=l[v];r.push(p);b[p]=y[p];u++}y=l[l.length-1]}else if(!y&&ma[l])y=l;else if("filter"===l)for(l=ka(l,b[l],{}),v=Object.keys(l),p=0;p<v.length;p++)t=v[p],"hue"===t&&(t="hue-rotate"),r.push(t),b[t]=l[t],u++;else if("hue"===l&&(l="hue-rotate"),!t&&
S[l])t=l;else if("textShadow"===l||"boxShadow"===l)for(l=la(l,b[l],{}),v=Object.keys(l),p=0;p<v.length;p++)t=v[p],r.push(t),b[t]=l[t],u++;else if("hue"===l&&(l="hue-rotate"),!t&&S[l])t=l;else if(v=na[l]){if(0>v){p=b[l];"object"===typeof p&&(p=p.to);var J=Q(p,l),w=p=void 0;r.push(p=l+"R");b[p]=J[p];r.push(p=l+"G");b[p]=J[p];r.push(p=l+"B");b[p]=J[p];(J=!z(w=J[p=l+"A"]))?(r.push(p),b[p]=w,l=p):l+="B";u+=J?4:3;v*=-1}R||1!==v?F||2!==v?q||3!==v||(q=l):F=l:R=l}}for(O=0;O<u;O++){var D=J=w=p=v=l=void 0,B=
void 0,A=r[O],K=b[A],G=void 0,H=void 0,C=O===u-1,I="_fat_"+A+this.id;"object"===typeof K&&(n=K.delay||n,x=K.duration||x,c=K.ease||c,G=K.from,H=K.unit,K=K.to);if("transform"!==A&&(l=ma[A]&&y,"filter"!==A&&("hue"===A&&(A="hue-rotate"),v=S[A]&&t,"textShadow"!==A&&"boxShadow"!==A))){p=S[A]&&void 0;var L=na[A];if(L){if(0>L)continue;1===L?(w=R,B="color"):2===L?(J=F,B="backgroundColor"):3===L&&(D=q,B="borderColor")}L=0;for(var P=a.length;L<P;L++){var E=a[L],M=h&&A+(E._id||(E._id=ba++));C&&e&&(E.D=e,E.C=
0);k&&0===O&&(E.M=null,y?E.B=null:R?E.da=null:F?E.ba=null:q?E.ca=null:t&&(E.A=null));var N=E[I];N&&!M?N.Z(G,K,H,f,x,c,C&&d,C&&g,n,l,v,p,w||J||D,B):this.$(E,A,I,G,K,H,f,x,c,C&&d,C&&g,M,n,m,l,v,p,w||J||D,B)}}}k&&(this.H=!1);this.exec||(this.exec=requestAnimationFrame(this.P))}return this}function Aa(a){return a.replace(/[\w]([A-Z])/g,function(a){return a[0]+"-"+a[1]}).toLowerCase()}function w(a,b,c,d){a.setProperty(b,c,d?"important":void 0)}var N=Math.max(screen.width,screen.height),oa=N,fa={},M={},
Y,m=function(){var a=getComputedStyle(document.body);if(z(a.transform))for(var b=["ms","moz","webkit","o"],c=0,d;c<b.length;c++){if(!z(a[(d=b[c])+"Transform"]))return d}else return""}(),U=m&&m+"Transform",Ba=m&&"-"+U.replace("T","-t"),Z=m&&m+"Transition",Ca=m&&"-"+Z.replace("T","-t"),wa=m&&m+"Filter",Da=m&&"-"+Z.replace("F","-f"),D=parseFloat,T,pa=0,ba=0,ha=0,ra={easeIn:[.55,.085,.68,.53],easeOut:[.25,.46,.45,.94],easeInOut:[.455,.03,.515,.955],cubicIn:[.55,.055,.675,.19],cubicOut:[.215,.61,.355,
1],cubicInOut:[.645,.045,.355,1],quartIn:[.895,.03,.685,.22],quartOut:[.165,.84,.44,1],quartInOut:[.77,0,.175,1],quintIn:[.755,.05,.855,.06],quintOut:[.23,1,.32,1],quintInOut:[.86,0,.07,1],expoIn:[.95,.05,.795,.035],expoOut:[.19,1,.22,1],expoInOut:[1,0,0,1],circIn:[.6,.04,.98,.335],circOut:[.075,.82,.165,1],circInOut:[.785,.135,.15,.86],sineIn:[.47,0,.745,.715],sineOut:[.39,.575,.565,1],sineInOut:[.445,.05,.55,.95],backIn:[.6,-.28,.735,.045],backOut:[.175,.885,.32,1.275],backInOut:[.68,-.55,.265,
1.55],snap:[.1,1,.1,1]},X=function(){function a(a,c,d,e){this.a=a;this.j=c;this.b=d;this.l=e}a.prototype.c=function(a,c){return 1-3*c+3*a};a.prototype.f=function(a,c){return 3*c-6*a};a.prototype.h=function(a){return 3*a};a.prototype.i=function(a,c,d){return((this.c(c,d)*a+this.f(c,d))*a+this.h(c))*a};a.prototype.s=function(a,c,d){return 3*this.c(c,d)*a*a+2*this.f(c,d)*a+this.h(c)};a.prototype.v=function(a){for(var b=a,d=0;4>d;++d){var e=this.s(b,this.a,this.b);if(0===e)break;b-=(this.i(b,this.a,this.b)-
a)/e}return b};a.prototype.w=function(a){return 0===a||1===a||this.a===this.j&&this.b===this.l?a:this.i(this.v(a),this.j,this.l)};return function(b,c,d,e){b=new a(b,c,d,e);return b.w.bind(b)}}();m=P.prototype;m.animate=function(a,b,c){var d=this.R,e=this.a===this.c||d&&Y[d],g=this.b;a=Math.max((a-(this.start||(this.start=a)))*b,0);b=a>=this.duration;if(!e)if(d&&(Y[d]=1),b)var f=c?this.c:this.a;else this.ease?f=this.ease.length?(this.c-this.a)*this.ease[N/this.duration*a+.5>>0]/1E4:(this.c-this.a)*
a/this.duration:f=1===this.j.length?this.j(a/this.duration):this.j(a,this.a,this.c,this.duration),c?f=this.a+f:f=this.c-f,f=this.V?(f*oa+.5>>0)/oa:f+.5>>0;c=this.style;e||this.i===f||(this.i=f,this.transform?g.B[c]=f+this.f:this.w?g["_"+this.J][c]=f:this.filter?g.A[c]=f+this.f:this.K?g.F[c]=f+this.f:this.S(c,f));c===this.transform?this.Y():c===this.w?this.T(this.J):c===this.filter?this.U():c===this.K&&this.X();this.v&&this.v.call(g,a/this.duration);if(b&&(this.start=-1,this.l)){if(e=g.D){f=++g.C;
this.I&&f>=e.length&&(this.I--,g.C=f=0);if(f<e.length)return;g.D=null}this.l.call(g)}};m.aa=function(a,b){if(-1===this.start){if(this.l){b=this.b;var c=b.D;if(c&&(a.animate(b,c[b.C],{duration:this.duration,ease:this.j,callback:this.l,step:this.v,force:this.h,loop:this.I}),0===this.start))return!0}this.R||(this.b[this.W]=null)}else{c=b-ha;if(this.u){if(0<(this.u-=c))return!0;this.u=0}if(!a.G)return this.start+=c,!0;this.animate(b,a.ratio,a.direction);return!0}};m.S=function(a,b){"scrollTop"===a?this.b.scrollTop=
b:w(this.s,a,b+this.f,this.h)};m.seek=function(a,b){b=this.duration/b;this.start+=(this.i-this.a)/(this.c-this.a)*b-a*b};m.update=function(a){if(this.i===a)return!1;C(a)?a=D(a):z(a)&&(a=this.a);-1!==this.start&&(this.a=a);this.i=a;this.f&&(a+=this.f);return a};var na=function(a){function b(b,d){a[b]=-d;a[b+"R"]=d;a[b+"G"]=d;a[b+"B"]=d;a[b+"A"]=d}b("color",1);b("backgroundColor",2);b("borderColor",3);return a}({}),ma=function(a){function b(b,d){a[b]=d;a[b+"X"]=d;a[b+"Y"]=d;a[b+"Z"]=d;a[b+"3d"]=d}b("translate",
1);b("scale",2);b("rotate",3);b("skew",4);return a}({}),sa={scaleX:0,skewY:1,skewX:2,scaleY:3,translateX:4,translateY:5},S={blur:1,brightness:2,contrast:2,grayscale:1,"hue-rotate":1,invert:1,saturate:2,sepia:1};var G={};var aa=Array(255);for(var k=0;256>k;k++){var V=k.toString(16);V.length%2&&(V="0"+V);G[V]=k;aa[k]=V}m.Y=function(){for(var a=this.b.B,b=this.s,c=this.b.N,d="",e=0,g=c.length;e<g;e++){var f=c[e],h="scale"===f?1:0,k=a[f+"X"],m=a[f+"Y"],n=a[f+"Z"];if(k||m||n)"rotate"===f&&(k&&(d+=f+"X("+
(k||h)+") "),m&&(d+=f+"Y("+(m||h)+") ")),n&&D(n)!==h?d="rotate"===f?d+(f+"Z("+(n||h)+") "):d+(f+"3d("+(k||h)+","+(m||h)+","+n+") "):"rotate"!==f&&(d+=f+"("+(k||h)+","+(m||h)+") ")}w(b,Ba||"transform",d,this.h)};m.U=function(){for(var a=this.b.A,b=this.b.L,c="",d=0,e=b.length;d<e;d++){var g=b[d],f=(S[g]||1)-1,h=a[g];h&&h!==f&&(c+=g+"("+h+") ")}w(this.s,Da||"filter",c,this.h)};m.X=function(){var a=this.b.F,b=this.style;w(this.s,this.style,a[b+"H"]+" "+a[b+"V"]+" "+a[b+"B"]+" "+a[b+"S"]+" "+a[b+"C"],
this.h)};m.T=function(a){var b=this.b["_"+a],c=this.s,d=a.replace("C","-c"),e=b[a+"R"]||0,g=b[a+"G"]||0,f=b[a+"B"]||0;a=b[a+"A"];"%"===this.f&&(e=2.55*e+.5>>0,g=2.55*g+.5>>0,f=2.55*f+.5>>0,a&&(a/=100));w(c,d,1===a||z(a)?"#"+aa[e]+aa[g]+aa[f]:"rgba("+e+","+g+","+f+","+a+")",this.h)};k=q.prototype;k.$=function(a,b,c,d,e,g,f,h,k,m,n,x,r,u,y,t,R,F,w){var q=""+(y?ua:F?ya:t?va:R?xa:I)(a,b,d,w);"auto"===q&&(q="0");d=D(q);if(C(e)){var l=e;e="="===e[1]?ia(d,l=e.substring(2),e[0]):D(e);g||(g=l.substring((""+
e).length))}g||(g=q.substring((""+d).length)||"");b=new P(a,b,c,d,e,g,f,h,k,m,n,x,r,u,y,t,R,F,w);this.stack[this.stack.length]=b;x||(a[c]=b)};k.animate=ca;k.destroy=function(){this.exec&&(this.exec=0,this.stack=[],ba&&T===this.id&&(T=0));return this};k.init=function(){this.H=!0;return this};k.ease=M;k.transform=ca;k.filter=ca;k.transition=function(a,b,c){if(a&&b){c||(c={});a=W(a);var d=Object.keys(b),e=d.length,g=(c.duration||400)+"ms",f=c.ease||"linear",h=c.callback||!1,k=(c.delay||0)+"ms",m=c.force;
for(c=0;c<e;c++){var n=d[c];if(U&&"transform"===n)b[U]=b[n],d[c]=U;else{var x=Aa(n);b[x]=b[n];d[c]=x}}c=Z?Z+"End":"transitionend";n={};x=0;for(var r=a.length;x<r;n={g:n.g},x++){n.g=a[x];var u=n.g.O;h&&h===u||(u&&(n.g.removeEventListener(c,u,!1),n.g.O=null),h&&(n.g.O=h,n.g.addEventListener(c,h,!1)));requestAnimationFrame(function(a){return function(){var c=" "+g+" "+f+" "+k,h=d.join(c+",")+c;c=a.g.o||(a.g.o=a.g.style);w(c,Ca||"transition",h,m);for(h=0;h<e;h++){var n=d[h];w(c,n,b[n],m)}}}(n))}}return this};
k.native=function(a,b,c){if(a&&b){c||(c={});var d=Object.keys(b);a=W(a);var e=c.duration||400,g=c.ease||"linear",f=c.callback,h=c.cancel;c=c.delay||0;for(var k=d.length,m={},n=0,x=a.length;n<x;m={m:m.m},n++){m.m=a[n];for(var r={},u=0;u<k;u++){var q=d[u];r[q]=[I(m.m,q),b[q]]}r=m.m.animate(r,{u:c,duration:e,ease:g});f&&(r.fa=function(a){return function(){for(var c=0;c<k;c++){var e=d[c];w(a.m.o,e,b[e])}f.call(a.m)}}(m));h&&(r.ea=function(a){return function(){h.call(a.m)}}(m))}}return this};k.update=
function(a,b,c,d){a=W(a);if(C(b))for(var e=0,g=a.length;e<g;e++){var f=a[e],h=f["_fat_"+b+this.id],k=!0;h?k=h.update(c,d):I(f,b)===c&&(k=!1);k&&(f=f.o||(f.o=f.style),w(f,b,c,d))}else for(d=Object.keys(b),e=0,g=d.length;e<g;e++)f=d[e],this.update(a,f,b[f],c);return this};k.seek=function(a){for(var b=this.stack,c=this.ratio,d=0,e=b.length;d<e;b[d++].seek(a,c));return this};k.pause=function(){this.G=!1;return this};k.start=function(){this.G=!0;return this};k.stop=function(){return this.reset().pause()};
k.speed=function(a){this.ratio=a;return this};k.reset=function(){return this.seek(0)};k.finish=function(){return this.seek(1)};k.reverse=function(a){this.direction=z(a)?!this.direction:!a;return this};k.create=function(){return new q};m.Z=function(a,b,c,d,e,g,f,h,k,m,n,q,r,u){z(a)?a=this.i:a=D(a);C(b)&&(b="="===b[1]?ia(a,b.substring(2),b[0]):D(b));this.a=a;this.c=b;this.duration=e;this.start=0;this.h=d;this.j!==g&&(this.ease=ea(g),this.j=g);this.l=f;this.v=h;this.u=k;c&&(this.f=c);m&&(this.transform=
m);r&&(this.w=r,this.J=u);n&&(this.filter=n);q&&(this.K=q)};var ta=["H","V","B","S","C"];return new q}(),this);
