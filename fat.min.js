/*
 FAT v0.3.0
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(K,L,t){var n;(n=t.define)&&n.amd?n([],function(){return L}):(n=t.modules)?n[K.toLowerCase()]=L:"object"===typeof exports?module.exports=L:t[K]=L})("Fat",function(){function K(a,b,c,d,e,f,g,N,q,k,m,h,r,M,v,w){this.l=a;this.H=a.g;this.style=b;this.a=d;this.c=e;this.h=d;this.s=f;this.m=g;this.duration=N;this.j=q;this.ease=U(q);this.start=0;this.o=k;this.v=m;this.M=c;this.i=h;this.C=r;this.L=v?"%"===f||-1!==b.indexOf("A"):"px"!==f;v&&(this.B=v,this.G=w);M&&(this.transform=M)}function L(a,
b,c){var d=c||-1,e;if("#"===a[0])if(4===a.length){c=x[(e=a[1])+e];var f=x[(e=a[2])+e];var g=x[(e=a[3])+e]}else c=x[a[1]+a[2]],f=x[a[3]+a[4]],g=x[a[5]+a[6]];else e=O(a,"(",")").split(","),c=parseInt(e[0],10),f=parseInt(e[1],10),g=parseInt(e[2],10),3<e.length&&(d=z(e[3])),-1!==a.indexOf("hsl")&&(0===f?f=g=a=g:(a=.5>g?g*(1+f):g+f-g*f,e=2*g-a,f=t(e,a,c+1/3),g=t(e,a,c),a=t(e,a,c-1/3)),c=255*f+.5>>0,f=255*g+.5>>0,g=255*a+.5>>0);a={};a[b+"R"]=c;a[b+"G"]=f;a[b+"B"]=g;-1!==d&&(a[b+"A"]=d);return a}function t(a,
b,c){0>c?c+=1:1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function n(a){this.id=ea++;this.stack=[];this.K=fa.bind(this);this.exec=0;this.F=!1;this.D=!a||!1!==a.autostart;this.direction=!0;this.ratio=1}function P(a){B(a)?a=document.querySelectorAll(a):a.length||(a=[a]);return a}function U(a){if(B(a))if(a){var b;if(!(b=V[a])){if(b=E[a]||(E[a]=W.apply(null,ha[a]))){for(var c=new (Int16Array||Array)(F),d=0;d<F;d++)c[d]=1E4*b(d/F)+.5>>0;b=c}else b=[];b=V[a]=b}a=b}else a=[];else a=
null;return a}function fa(a){var b=this.stack.length;if(b){this.exec=requestAnimationFrame(this.K);for(var c=!1,d=0;d<b;d++){var e=this.stack[d];e&&(e.O(this,a)?c=!0:this.stack[d]=null)}X=a;c||this.destroy()}}function B(a){return"string"===typeof a}function C(a){return"undefined"===typeof a}function Y(a,b,c){if(3>b.length)return parseInt(b,10);c||(c=b[0]+b[1],Z[c]&&(b=b.substring(2)));b=z(b);"+="===c?b=a+b:"-="===c?b=a-b:"*="===c?b*=a:"/="===c&&(b=a/b);return b}function G(a,b,c){if("scrollTop"===
b)return C(c)?a.scrollTop:c;var d=a.g||(a.g=a.style);return(c=C(c)?d[b]:c)?c:(a.I||(a.I=getComputedStyle(a)))[b]}function ia(a,b,c){var d=a.u;if(!d&&(a.u=d={},(a=c||G(a,Q||"transform"))&&"none"!==a))for(a=a.split(" "),c=0;c<a.length;c++){var e=a[c],f=O(e,"(");f&&(e=O(e,"(",")").split(","),2<e.length&&(f=f.replace("3d",""),d[f+"Z"]=e[2]),1<e.length?(d[f+"X"]=e[0],d[f+"Y"]=e[1]):d[f]=e[0])}return d[b]}function ja(a,b,c,d){var e="_"+d,f=a[e];f||(c=c||G(a,d),a[e]=f=L(c,d,1));return f[b]}function R(a,
b){var c=a[b+"X"]||0,d=a[b+"Y"]||0;a=a[b+"Z"]||0;return c||d||a?a&&z(a)?b+"3d("+c+","+d+","+a+") ":b+"("+c+","+d+") ":""}function O(a,b,c){var d=a.indexOf(b);return-1!==d?c?a.substring(d+b.length,a.indexOf(c)):a.substring(0,d):""}function ka(a){if(a){var b;if(B(a)){if(b=O(a,"bezier(",")")){b=b.replace(/ /g,"");var c=b.split(",")}}else a.constructor===Array&&(b=a.join(","),c=a);b&&(E[b]||(E[b]=W(c[0],c[1],c[2],c[3])),a=b)}return a}function aa(a,b,c){if(a&&b){if(c){var d=c.engine;if("css"===d)return this.transition(a,
b,c);if("native"===d)return this.native(a,b,c)}else c={};a=P(a);if(b.constructor===Array){var e=b;b=b[0]}d=a.length;var f=c.duration||400,g=c.callback||e&&function(){},N=c.step||!1,q=c.delay||0,k=c.force||!1,m=this.F||c.init,h=c.loop;c=ka(c.ease)||"";for(var r=Object.keys(b),M=r.length,v,w,A,l,n=M;0<n--;){var u=r[n];if(!v&&ba[u])v=u;else{var p=ca[u];if(p)if(0>p){p=b[u];"object"===typeof p&&(p=p.to);var t=L(p,u),x=p=void 0;r.unshift(p=u+"R");b[p]=t[p];r.unshift(p=u+"G");b[p]=t[p];r.unshift(p=u+"B");
b[p]=t[p];if(u=!C(x=t[p=u+"A"]))r.unshift(p),b[p]=x;n+=u?4:3;M+=u?4:3}else w||1!==p?A||2!==p?l||3!==p||(l=u):A=u:w=u}}for(n=0;n<M;n++){var z=t=x=p=u=void 0,B=n===M-1,y=r[n],K="_fat_"+y+this.id,H=b[y],E=void 0,F=void 0,G=void 0,J=void 0;"object"===typeof H&&(J=H.delay,G=H.duration,F=H.ease,E=H.from,H=H.to);u=ba[y]&&v;var D=ca[y];if(D){if(0>D)continue;1===D?(p=w,z="color"):2===D?(x=A,z="backgroundColor"):3===D&&(t=l,z="borderColor")}for(D=0;D<d;D++){var I=a[D];B&&e&&(I.A=e,I.w=0);m&&0===n&&(I.I=null,
v?I.u=null:w?I.U=null:A?I.S=null:l&&(I.T=null));this.handle(I,y,K,E,H,k,G||f,F||c,B&&g,B&&N,J||q,h,u,p||x||t,z)}}m&&(this.F=!1);this.exec||(this.exec=requestAnimationFrame(this.K))}return this}function y(a,b,c,d){a.setProperty(b,c,d?"important":void 0)}var F=Math.max(screen.width,screen.height),da=F,V={},E={},l=function(){var a=getComputedStyle(document.body);if(C(a.transform))for(var b=["ms","moz","webkit","o"],c=0,d;c<b.length;c++){if(!C(a[(d=b[c])+"Transform"]))return d}else return""}(),Q=l&&l+
"Transform",la=l&&"-"+Q.replace("T","-t"),T=l&&l+"Transition",ma=l&&"-"+T.replace("T","-t"),z=parseFloat,ea=0,X=0,ha={easeIn:[.55,.085,.68,.53],easeOut:[.25,.46,.45,.94],easeInOut:[.455,.03,.515,.955],cubicIn:[.55,.055,.675,.19],cubicOut:[.215,.61,.355,1],cubicInOut:[.645,.045,.355,1],quartIn:[.895,.03,.685,.22],quartOut:[.165,.84,.44,1],quartInOut:[.77,0,.175,1],quintIn:[.755,.05,.855,.06],quintOut:[.23,1,.32,1],quintInOut:[.86,0,.07,1],expoIn:[.95,.05,.795,.035],expoOut:[.19,1,.22,1],expoInOut:[1,
0,0,1],circIn:[.6,.04,.98,.335],circOut:[.075,.82,.165,1],circInOut:[.785,.135,.15,.86],sineIn:[.47,0,.745,.715],sineOut:[.39,.575,.565,1],sineInOut:[.445,.05,.55,.95],backIn:[.6,-.28,.735,.045],backOut:[.175,.885,.32,1.275],backInOut:[.68,-.55,.265,1.55],snap:[.1,1,.1,1]},W=function(){function a(a,c,d){return(((1-3*d+3*c)*a+(3*d-6*c))*a+3*c)*a}return function(b,c,d,e){if(0<=b&&1>=b&&0<=d&&1>=d){var f=new Float32Array(11);if(b!==c||d!==e)for(var g=0;11>g;++g)f[g]=a(.1*g,b,d);return function(g){if(b!==
c||d!==e)if(0===g)g=0;else if(1===g)g=1;else{for(var q=0,k=1;10!==k&&f[k]<=g;++k)q+=.1;--k;k=q+(g-f[k])/(f[k+1]-f[k])*.1;var m=3*(1-3*d+3*b)*k*k+2*(3*d-6*b)*k+3*b;if(.001<=m){for(q=0;4>q;++q){m=3*(1-3*d+3*b)*k*k+2*(3*d-6*b)*k+3*b;if(0===m)break;k-=(a(k,b,d)-g)/m}g=k}else if(0===m)g=k;else{k=q;q+=.1;var h=0;do{var r=k+(q-k)/2;m=a(r,b,d)-g;0<m?q=r:k=r}while(1E-7<Math.abs(m)&&10>++h);g=r}g=a(g,c,e)}return g}}}}();l=K.prototype;l.animate=function(a,b,c){var d=this.a===this.c,e=this.l;b=Math.max((a-(this.start||
(this.start=a)))*b,0);a=b>=this.duration;if(!d)if(a)var f=c?this.c:this.a;else this.ease?f=this.ease.length?(this.c-this.a)*this.ease[F/this.duration*b+.5>>0]/1E4:(this.c-this.a)*b/this.duration:f=1===this.j.length?this.j(b/this.duration):this.j(b,this.a,this.c,this.duration),c?f=this.a+f:f=this.c-f,f=this.L?(f*da+.5>>0)/da:f+.5>>0;c=this.style;if(b=this.h!==f)this.h=f,this.transform?e.u[c]=f+this.s:this.B?e["_"+this.G][c]=f:this.P(c,f);c===this.transform&&(f=this.N());c===this.B&&(f=this.R(this.G));
(b||d)&&this.v&&this.v.call(e,f);if(a&&(this.start=-1,this.o)){if(d=e.A){f=++e.w;this.C&&f>=d.length&&(this.C--,e.w=f=0);if(f<d.length)return;e.A=null}this.o.call(e)}};l.O=function(a,b){if(-1===this.start){if(this.o){b=this.l;var c=b.A;if(c&&(a.animate(b,c[b.w],{duration:this.duration,ease:this.j,callback:this.o,step:this.v,force:this.m,loop:this.C}),0===this.start))return!0}this.l[this.M]=null}else{c=b-X;if(this.i){if(0<(this.i-=c))return!0;this.i=0}if(!a.D)return this.start+=c,!0;this.animate(b,
a.ratio,a.direction);return!0}};l.P=function(a,b){"scrollTop"===a?this.l.scrollTop=b:y(this.H,a,b+this.s,this.m)};l.seek=function(a,b){b=this.duration/b;this.start+=(this.h-this.a)/(this.c-this.a)*b-a*b};l.update=function(a){if(this.h===a)return!1;B(a)?a=z(a):C(a)&&(a=this.a);-1!==this.start&&(this.a=a);this.h=a;this.s&&(a+=this.s);return a};var ca=function(a){function b(b,d){a[b]=-d;a[b+"R"]=d;a[b+"G"]=d;a[b+"B"]=d;a[b+"A"]=d}b("color",1);b("backgroundColor",2);b("borderColor",3);return a}({}),ba=
function(a){function b(b){a[b]=1;a[b+"X"]=1;a[b+"Y"]=1;a[b+"Z"]=1;a[b+"3d"]=1}b("scale");b("skew");b("translate");b("rotate");return a}({}),Z={"+=":1,"-=":1,"*=":1,"/=":1};var x={};var S=Array(255);for(var h=0;256>h;h++){var J=h.toString(16);J.length%2&&(J="0"+J);x[J]=h;S[h]=J}l.N=function(){var a=this.l.u;y(this.H,la||"transform",R(a,"rotate")+R(a,"scale")+R(a,"skew")+R(a,"translate"),this.m);return a};l.R=function(a){var b=this.l["_"+a],c=this.H,d=a.replace("C","-c"),e=b[a+"R"]||0,f=b[a+"G"]||0,
g=b[a+"B"]||0;a=b[a+"A"];"%"===this.s&&(e=2.55*e+.5>>0,f=2.55*f+.5>>0,g=2.55*g+.5>>0,a&&(a/=100));y(c,d,1===a||C(a)?"#"+S[e]+S[f]+S[g]:"rgba("+e+","+f+","+g+","+a+")",this.m);return b};h=n.prototype;h.handle=function(a,b,c,d,e,f,g,h,q,k,m,l,r,n,v){var w=a[c];if(w)w.handle(d,e,f,g,h,q,k,m,r,n,v);else{w=""+(r?ia:n?ja:G)(a,b,d,v);"auto"===w&&(w="0");d=z(w);var A=""+e;if(B(e)){var N=e[0]+e[1];Z[N]?(A=A.substring(2),e=Y(d,A,N)):e=z(e)}(A=A.substring((""+e).length))||(A=w.substring((""+d).length));b=new K(a,
b,c,d,e,A,f,g,h,q,k,m,l,r,n,v);this.stack[this.stack.length]=b;a[c]=b}};h.animate=aa;h.destroy=function(){this.exec&&(this.exec=0,this.stack=[]);return this};h.init=function(){this.F=!0;return this};h.ease=E;h.transform=aa;h.transition=function(a,b,c){if(a&&b){c||(c={});a=P(a);var d=Object.keys(b),e=d.length,f=(c.duration||400)+"ms",g=c.ease||"linear",h=c.callback||!1,q=(c.delay||0)+"ms",k=c.force;if(Q)for(c=0;c<e;c++)"transform"===d[c]&&(d[c]=Q);c=T?T+"End":"transitionend";for(var m={},n=0,r=a.length;n<
r;m={b:m.b},n++){m.b=a[n];var l=m.b.J;h&&h===l||(l&&(m.b.removeEventListener(c,l,!1),m.b.J=null),h&&(m.b.J=h,m.b.addEventListener(c,h,!1)));requestAnimationFrame(function(a){return function(){var c=" "+f+" "+g+" "+q,h=d.join(c+",")+c;c=a.b.g||(a.b.g=a.b.style);y(c,ma||"transition",h,k);for(h=0;h<e;h++){var m=d[h];y(c,m,b[m],k)}}}(m))}}return this};h.native=function(a,b,c){if(a&&b){c||(c={});var d=Object.keys(b);a=P(a);var e=c.duration||400,f=c.ease||"linear",g=c.callback,h=c.cancel;c=c.delay||0;for(var q=
d.length,k={},m=0,n=a.length;m<n;k={f:k.f},m++){k.f=a[m];for(var l={},t=0;t<q;t++){var v=d[t];l[v]=[G(k.f,v),b[v]]}l=k.f.animate(l,{i:c,duration:e,ease:f});g&&(l.W=function(a){return function(){for(var c=0;c<q;c++){var e=d[c];y(a.f.g,e,b[e])}g.call(a.f)}}(k));h&&(l.V=function(a){return function(){h.call(a.f)}}(k))}}return this};h.update=function(a,b,c,d){a=P(a);if(B(b))for(var e=0,f=a.length;e<f;e++){var g=a[e],h=g["_fat_"+b+this.id],l=!0;h?l=h.update(c,d):G(g,b)===c&&(l=!1);l&&(g=g.g||(g.g=g.style),
y(g,b,c,d))}else for(d=Object.keys(b),e=0,f=d.length;e<f;e++)g=d[e],this.update(a,g,b[g],c);return this};h.seek=function(a){for(var b=this.stack,c=this.ratio,d=0,e=b.length;d<e;b[d++].seek(a,c));return this};h.pause=function(){this.D=!1;return this};h.start=function(){this.D=!0;return this};h.stop=function(){return this.reset().pause()};h.speed=function(a){this.ratio=a;return this};h.reset=function(){return this.seek(0)};h.finish=function(){return this.seek(1)};h.reverse=function(a){this.direction=
C(a)?!this.direction:!a;return this};h.create=function(){return new n};l.handle=function(a,b,c,d,e,f,g,h,l,k,m){C(a)?a=this.h:a=z(a);B(b)&&(b=Y(a,b));this.a=a;this.c=b;this.duration=d;this.start=0;this.m=c;this.j!==e&&(this.ease=U(e),this.j=e);this.o=f;this.v=g;this.i=h;l&&(this.transform=l);k&&(this.B=k,this.G=m)};return new n}(),this);
