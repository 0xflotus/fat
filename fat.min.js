/*
 FAT v0.6.1
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(D,Q,r){var u;(u=r.define)&&u.amd?u([],function(){return Q}):(u=r.modules)?u[D.toLowerCase()]=Q:"object"===typeof exports?module.exports=Q:r[D]=Q})("Fat",function(){function D(a,b,c,d,f,g,e,h,q,v,l,ma,k,n,w,m,t,p){this.b=a;this.v=a.o;this.style=b;this.T=M(b);this.a=d;this.c=f;this.g=d;this.j=g;this.h=e;this.duration=h;this.i=q;this.ease=ca(q);this.start=0;this.l=v;this.u=l;this.S=c;this.s=ma;this.G=k;this.R=t?"%"===g||-1!==b.indexOf("A"):"px"!==g;this.N=n;t&&(this.w=t,this.H=
p);w&&(this.transform=w);m&&(this.filter=m)}function Q(a,b,c){var d=c||-1,f;if("#"===a[0])if(a=a.toLowerCase(),4===a.length){c=x[(f=a[1])+f];var g=x[(f=a[2])+f];var e=x[(f=a[3])+f]}else c=x[a[1]+a[2]],g=x[a[3]+a[4]],e=x[a[5]+a[6]];else f=y(a,"(",")").split(","),c=parseInt(f[0],10),g=parseInt(f[1],10),e=parseInt(f[2],10),3<f.length&&(d=z(f[3])),-1!==a.indexOf("hsl")&&(0===g?g=e=a=e:(a=.5>e?e*(1+g):e+g-e*g,f=2*e-a,g=r(f,a,c+1/3),e=r(f,a,c),a=r(f,a,c-1/3)),c=255*g+.5>>0,g=255*e+.5>>0,e=255*a+.5>>0);
a={};a[b+"R"]=c;a[b+"G"]=g;a[b+"B"]=e;-1!==d&&(a[b+"A"]=d);return a}function r(a,b,c){0>c?c+=1:1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function u(a){this.id=++na;this.stack=[];this.M=oa.bind(this);this.exec=0;this.F=!a||!1!==a.autostart;this.direction=!0;this.ratio=1}function U(a){N(a)?a=document.querySelectorAll(a):a.length||(a=[a]);return a}function ca(a){if(N(a))if(a){var b;if(!(b=da[a])){if(b=R[a]||(R[a]=V.apply(V,pa[a]))){for(var c=new (Int16Array||Array)(F),d=0;d<
F;d++)c[d]=1E4*b(d/F)+.5>>0;b=c}else b=[];b=da[a]=b}a=b}else a=[];else a=null;return a}function oa(a){var b=this.stack.length;if(b){this.exec=requestAnimationFrame(this.M);Y&&(O?O===this.id&&(W={}):(W={},O=this.id));for(var c=!1,d=0;d<b;d++){var f=this.stack[d];f&&(c=!0,f.X(this,a)||(this.stack[d]=null))}ea=a;c||this.destroy()}}function N(a){return"string"===typeof a}function B(a){return"undefined"===typeof a}function fa(a,b,c){b=z(b);"+"===c?b=a+b:"-"===c?b=a-b:"*"===c?b*=a:"/"===c?b=a/b:"!"===c&&
(b=a===b?0:b);return b}function I(a,b,c){if("scrollTop"===b||"scrollLeft"===b)return B(c)?a[b]:c;if("custom"===b)return c||0;var d=a.o||(a.o=a.style);return(c=B(c)?d[b]:c)?c:(a.J||(a.J=getComputedStyle(a)))[b]}function ha(a,b,c,d){if("none"===b)return b=a.substring(0,a.length-1),c[a]="scale"===b?1:0,d&&(d[d.length]=b),c;-1!==b.indexOf("matrix")&&(b=y(b,"(",")").split(","),b=a+"("+(parseFloat(b[qa[a]])||"")+")");a=b.replace(/, /g,",").split(" ");b={};for(var f=0,g=0;g<a.length;g++){var e=a[g],h=y(e,
"(");if(h){e=y(e,"(",")").split(",");var q=e.length;2<q&&(h=h.replace("3d",""),c[h+"Z"]=e[2]);1<q?(c[h+"X"]=e[0],c[h+"Y"]=e[1]):(c[h]=e[0],h=h.substring(0,h.length-1));b[h]||(d&&(d[f++]=h),b[h]=1)}}return c}function ia(a,b,c,d){if("none"===b)return c[a]=S[a]-1,d&&(d[d.length]=a),c;if(8>(""+b).length)return c[a]=b,d&&(d[d.length]=a),c;a=b.split(" ");b={};for(var f=0,g=0;g<a.length;g++){var e=a[g],h=y(e,"(");h&&(c[h]=y(e,"(",")"),h=h.substring(0,h.length),b[h]||(d&&(d[f++]=h),b[h]=1))}return c}function ra(a,
b,c){var d=a.B;if(d)var f=a.K;else a.B=d={},a.K=f=[];if(!d||B(d[b]))a=c||I(a,P||"transform"),ha(b,a,d,f);return d[b]}function sa(a,b,c){var d=a.A;if(d)var f=a.I;else a.A=d={},a.I=f=[];if(!d||B(d[b]))a=c||I(a,ja||"filter"),ia(b,a,d,f);return d[b]||S[b]-1}function ta(a,b,c,d){var f="_"+d,g=a[f];g||(c=c||I(a,d),a[f]=g=Q(c,d,1));return g[b]}function y(a,b,c){var d=a.indexOf(b);return-1!==d?c?a.substring(d+b.length,a.indexOf(c)):a.substring(0,d):""}function ua(a){if(a){var b;if(N(a)){if(b=y(a,"bezier(",
")")){b=b.replace(/ /g,"");var c=b.split(",")}}else a.constructor===Array&&(b=a.join(","),c=a);b&&(R[b]||(R[b]=V.apply(V,c)),a=b)}return a}function Z(a,b,c,d){if(a&&b){if(b.constructor===Array){var f=b;b=b[0]}if(N(b))if(-1===b.indexOf(" "))b=aa[b];else{b=b.split(" ");for(var g={},e=0,h=b.length;e<h;e++)for(var q=aa[b[e]],v=Object.keys(q),l=0;l<v.length;l++)g[v[l]]=q[v[l]];b=g}if(c)if("function"===typeof c)d=c,c={};else{g=c.engine;if("css"===g)return this.transition(a,b,c);if("native"===g)return this.native(a,
b,c)}else c={};a=U(a);g=c.delay||0;e=c.duration||400;h=ua(c.ease)||"";q=Object.keys(b);if(v=q.length){var k=q[0];if("%"===k[k.length-1]){f=Array(v);for(l=0;l<v;l++){k=q[l];var n=parseInt(k,10)-(0<l?parseInt(q[l-1],10):0);k=b[k];for(var L=Object.keys(k),w=L.length,m=0;m<w;m++){var t=L[m],p=k[t];B(p.to)&&(k[t]=p={to:p});p.duration=e/100*n+1>>0}f[l]=k}b=f[0];q=Object.keys(b);v=q.length}}d=d||c.callback||f&&function(){};l=c.step||0;n=c.force||0;k=c.strict||0;L=c.init;c=c.loop;var u,z,A;for(w=v;0<w--;)if(m=
q[w],"transform"===m){var r=ha(m,b[m],{});m=Object.keys(r);for(t=0;t<m.length;t++)p=m[t],q.push(p),b[p]=r[p],v++;r=m[m.length-1]}else if(!r&&ka[m])r=m;else if("filter"===m)for(m=ia(m,b[m],{}),t=Object.keys(m),p=0;p<t.length;p++){var J=t[p];"hue"===J&&(J="hue-rotate");q.push(J);b[J]=m[J];v++}else if("hue"===m&&(m="hue-rotate"),!J&&S[m])J=m;else if(t=la[m]){if(0>t){p=b[m];"object"===typeof p&&(p=p.to);var G=Q(p,m),x=p=void 0;q.push(p=m+"R");b[p]=G[p];q.push(p=m+"G");b[p]=G[p];q.push(p=m+"B");b[p]=G[p];
(G=!B(x=G[p=m+"A"]))?(q.push(p),b[p]=x,m=p):m+="B";v+=G?4:3;t*=-1}u||1!==t?z||2!==t?A||3!==t||(A=m):z=m:u=m}for(w=0;w<v;w++){var y=G=x=p=t=m=void 0,E=q[w],H=b[E],F=void 0,I=void 0,D=w===v-1,M="_fat_"+E+this.id;"object"===typeof H&&(g=H.delay||g,e=H.duration||e,h=H.ease||h,F=H.from,I=H.unit,H=H.to);if("transform"!==E&&(m=ka[E]&&r,"filter"!==E)){"hue"===E&&(E="hue-rotate");t=S[E]&&J;var K=la[E];if(K){if(0>K)continue;1===K?(p=u,y="color"):2===K?(x=z,y="backgroundColor"):3===K&&(G=A,y="borderColor")}K=
0;for(var R=a.length;K<R;K++){var C=a[K],O=k&&E+(C._id||(C._id=Y++));D&&f&&(C.D=f,C.C=0);L&&0===w&&(C.J=null,r?C.B=null:u?C.aa=null:z?C.Z=null:A?C.$=null:J&&(C.A=null));var P=!L&&!O&&C[M];P?P.V(F,H,n,e,h,D&&d,D&&l,g,m,t,p||x||G,y):this.W(C,E,M,F,H,I,n,e,h,D&&d,D&&l,g,c,O,m,t,p||x||G,y)}}}this.exec||(this.exec=requestAnimationFrame(this.M))}return this}function M(a){return a.replace(/([A-Z])/g,"-$1").toLowerCase()}function A(a,b,c,d){a.setProperty(b,c,d?"important":void 0)}var F=Math.max(screen.width,
screen.height),da={},R={},W,n=function(){var a=getComputedStyle(document.body);if(B(a.transform))for(var b=["webkit","moz","ms","o"],c=0,d;c<b.length;c++){if(!B(a[(d=b[c])+"Transform"]))return d}else return""}(),P=n&&n+"Transform",va=n&&"-"+M(P),ba=n&&n+"Transition",wa=n&&"-"+M(ba),ja=n&&n+"Filter",xa=n&&"-"+M(ja),z=parseFloat,O,na=0,Y=0,ea=0,pa={easeIn:[.55,.085,.68,.53],easeOut:[.25,.46,.45,.94],easeInOut:[.455,.03,.515,.955],cubicIn:[.55,.055,.675,.19],cubicOut:[.215,.61,.355,1],cubicInOut:[.645,
.045,.355,1],quartIn:[.895,.03,.685,.22],quartOut:[.165,.84,.44,1],quartInOut:[.77,0,.175,1],quintIn:[.755,.05,.855,.06],quintOut:[.23,1,.32,1],quintInOut:[.86,0,.07,1],expoIn:[.95,.05,.795,.035],expoOut:[.19,1,.22,1],expoInOut:[1,0,0,1],circIn:[.6,.04,.98,.335],circOut:[.075,.82,.165,1],circInOut:[.785,.135,.15,.86],sineIn:[.47,0,.745,.715],sineOut:[.39,.575,.565,1],sineInOut:[.445,.05,.55,.95],backIn:[.6,-.28,.735,.045],backOut:[.175,.885,.32,1.275],backInOut:[.68,-.55,.265,1.55],snap:[.1,1,.1,
1]},V=function(){function a(a,c,d,f){this.a=a;this.j=c;this.b=d;this.l=f}a.prototype.c=function(a,c){return 1-3*c+3*a};a.prototype.g=function(a,c){return 3*c-6*a};a.prototype.h=function(a){return 3*a};a.prototype.i=function(a,c,d){return((this.c(c,d)*a+this.g(c,d))*a+this.h(c))*a};a.prototype.u=function(a,c,d){return 3*this.c(c,d)*a*a+2*this.g(c,d)*a+this.h(c)};a.prototype.v=function(a){for(var b=a,d=0;4>d;++d){var f=this.u(b,this.a,this.b);if(0===f)break;b-=(this.i(b,this.a,this.b)-a)/f}return b};
a.prototype.w=function(a){return 0===a||1===a||this.a===this.j&&this.b===this.l?a:this.i(this.v(a),this.j,this.l)};return function(b,c,d,f){b=new a(b,c,d,f);return b.w.bind(b)}}(),aa={fadeIn:{opacity:1},fadeOut:{opacity:0},fadeToggle:{opacity:"!=1"},slideUp:{translateY:0},slideDown:{translateY:"100%"},slideToggle:{translateY:"!=100%"},slideInLeft:{translateX:0},slideOutLeft:{translateX:"-100%"},slideToggleLeft:{translateX:"!=-100%"},slideInRight:{translateX:0},slideOutRight:{translateX:"100%"},slideToggleRight:{translateX:"!=100%"},
slideInTop:{translateY:0},slideOutTop:{translateY:"-100%"},slideToggleTop:{translateY:"!=-100%"},slideInBottom:{translateY:0},slideOutBottom:{translateY:"100%"},slideToggleBottom:{translateY:"!=100%"},zoomIn:{scaleX:1,scaleY:1},zoomOut:{scaleX:0,scaleY:0},zoomToggle:{scaleX:"!=1",scaleY:"!=1"},rollIn:{rotateZ:"0deg"},rollOut:{rotateZ:"720deg"},rollToggle:{rotateZ:"!=720deg"},blurIn:{blur:"0em"},blurOut:{blur:"5em"},blurToggle:{blur:"!=5em"}};n=D.prototype;n.animate=function(a,b,c){var d=this.N,f=
this.a===this.c||d&&W[d],g=this.b;a=Math.max((a-(this.start||(this.start=a)))*b,0);b=a>=this.duration;if(!f)if(d&&(W[d]=1),b)var e=c?this.c:this.a;else this.ease?e=this.ease.length?(this.c-this.a)*this.ease[F/this.duration*a+.5>>0]/1E4:(this.c-this.a)*a/this.duration:e=1===this.i.length?this.i(a/this.duration):this.i(a,this.a,this.c,this.duration),c?e=this.a+e:e=this.c-e,e=this.R?(e*F+.5>>0)/F:e+.5>>0;c=this.style;f||this.g===e||(this.g=e,this.transform?g.B[c]=e+this.j:this.filter?g.A[c]=e+this.j:
this.w?g["_"+this.H][c]=e:(e+=this.j,"custom"!==c&&this.Y(c,e)));c===this.transform?e=this.U():c===this.filter?e=this.P():c===this.w&&(e=this.O(this.H));this.u&&this.u.call(g,b?1:a/this.duration,e);if(b&&(this.start=-1,this.l)){if(f=g.D){e=++g.C;this.G&&e>=f.length&&(this.G--,g.C=e=0);if(e<f.length)return;g.D=null}this.l.call(g)}};n.X=function(a,b){if(-1===this.start){if(this.l){b=this.b;var c=b.D;if(c&&(a.animate(b,c[b.C],{duration:this.duration,ease:this.i,callback:this.l,step:this.u,force:this.h,
loop:this.G}),0===this.start))return!0}this.N||(this.b[this.S]=null)}else{c=b-ea;if(this.s){if(0<(this.s-=c))return!0;this.s=0}if(!a.F)return this.start+=c,!0;this.animate(b,a.ratio,a.direction);return!0}};n.Y=function(a,b){"scrollTop"===a||"scrollLeft"===a?this.b[a]=b:A(this.v,this.T,b,this.h)};n.seek=function(a,b){b=this.duration/b;this.start+=(this.g-this.a)/(this.c-this.a)*b-a*b};n.update=function(a){if(this.g===a)return!1;N(a)?a=z(a):B(a)&&(a=this.a);-1!==this.start&&(this.a=a);this.g=a;this.j&&
(a+=this.j);return a};var la=function(a){function b(b,d){a[b]=-d;a[b+"R"]=d;a[b+"G"]=d;a[b+"B"]=d;a[b+"A"]=d}b("color",1);b("backgroundColor",2);b("borderColor",3);return a}({}),ka=function(a){function b(b,d){a[b]=d;a[b+"X"]=d;a[b+"Y"]=d;a[b+"Z"]=d;a[b+"3d"]=d}b("translate",1);b("scale",2);b("rotate",3);b("skew",4);return a}({}),qa={scaleX:0,skewY:1,skewX:2,scaleY:3,translateX:4,translateY:5},S={blur:1,brightness:2,contrast:2,grayscale:1,"hue-rotate":1,invert:1,saturate:2,sepia:1};var x={};var X=
Array(255);for(var k=0;256>k;k++){var T=k.toString(16);T.length%2&&(T="0"+T);x[T]=k;X[k]=T}n.U=function(){for(var a=this.b.B,b=this.v,c=this.b.K,d="",f=0,g=c.length;f<g;f++){var e=c[f],h="scale"===e?1:0,q=a[e+"X"],k=a[e+"Y"],l=a[e+"Z"];if(q||k||l)"rotate"===e&&(q&&(d+=e+"X("+(q||h)+") "),k&&(d+=e+"Y("+(k||h)+") ")),l&&z(l)!==h?d="rotate"===e?d+(e+"Z("+(l||h)+") "):d+(e+"3d("+(q||h)+","+(k||h)+","+l+") "):"rotate"!==e&&(d+=e+"("+(q||h)+","+(k||h)+") ")}A(b,va||"transform",d,this.h);return a};n.P=function(){for(var a=
this.b.A,b=this.b.I,c="",d=0,f=b.length;d<f;d++){var g=b[d],e=(S[g]||1)-1,h=a[g];h&&h!==e&&(c+=g+"("+h+") ")}A(this.v,xa||"filter",c,this.h);return a};n.O=function(a){var b=this.b["_"+a],c=this.v,d=a.replace("C","-c"),f=b[a+"R"]||0,g=b[a+"G"]||0,e=b[a+"B"]||0;a=b[a+"A"];"%"===this.j&&(f=2.55*f+.5>>0,g=2.55*g+.5>>0,e=2.55*e+.5>>0,a&&(a/=100));A(c,d,1===a||B(a)?"#"+X[f]+X[g]+X[e]:"rgba("+f+","+g+","+e+","+a+")",this.h);return b};k=u.prototype;k.W=function(a,b,c,d,f,g,e,h,k,v,l,n,r,L,w,m,t,p){var q=
""+(w?ra:m?sa:t?ta:I)(a,b,d,p);"auto"===q&&(q="0");d=z(q);if(N(f)){var u=f;f="="===f[1]?fa(d,u=f.substring(2),f[0]):z(f);g||(g=u.substring((""+f).length));"%"===g&&("scrollTop"===b?(f*=(a.scrollHeight-a.clientHeight)/100,g=""):"scrollLeft"===b&&(f*=(a.scrollWidth-a.clientWidth)/100,g=""))}g||(g=q.substring((""+d).length)||"");b=new D(a,b,c,d,f,g,e,h,k,v,l,n,r,L,w,m,t,p);this.stack[this.stack.length]=b;L||(a[c]=b)};k.animate=Z;k.destroy=function(){this.exec&&(this.exec=0,this.stack=[],Y&&O===this.id&&
(O=0));return this};k.create=function(){return new u};k.ease=R;k.preset=aa;k.transform=Z;k.filter=Z;k.update=function(a,b,c,d){a=U(a);if(N(b))for(var f=0,g=a.length;f<g;f++){var e=a[f],h=e["_fat_"+b+this.id],k=!0;h?k=h.update(c,d):I(e,b)===c&&(k=!1);k&&(e=e.o||(e.o=e.style),A(e,b,c,d))}else for(d=Object.keys(b),f=0,g=d.length;f<g;f++)e=d[f],this.update(a,e,b[e],c);return this};k.seek=function(a){for(var b=this.stack,c=this.ratio,d=0,f=b.length;d<f;b[d++].seek(a,c));return this};k.pause=function(){this.F=
!1;return this};k.start=function(){this.F=!0;return this};k.stop=function(){return this.reset().pause()};k.speed=function(a){this.ratio=a;return this};k.reset=function(){return this.seek(0)};k.finish=function(){return this.seek(1)};k.reverse=function(a){this.direction=B(a)?!this.direction:!a;return this};k.transition=function(a,b,c){if(a&&b){c||(c={});a=U(a);var d=Object.keys(b),f=d.length,g=(c.duration||400)+"ms",e=c.ease||"linear",h=c.callback||!1,k=(c.delay||0)+"ms",v=c.force;for(c=0;c<f;c++){var l=
d[c];if(P&&"transform"===l)b[P]=b[l],d[c]=P;else{var n=M(l);b[n]=b[l];d[c]=n}}c=ba?ba+"End":"transitionend";l={};n=0;for(var r=a.length;n<r;l={f:l.f},n++){l.f=a[n];var u=l.f.L;h&&h===u||(u&&(l.f.removeEventListener(c,u,!1),l.f.L=null),h&&(l.f.L=h,l.f.addEventListener(c,h,!1)));requestAnimationFrame(function(a){return function(){var c=" "+g+" "+e+" "+k,h=d.join(c+",")+c;c=a.f.o||(a.f.o=a.f.style);A(c,wa||"transition",h,v);for(h=0;h<f;h++){var l=d[h];A(c,l,b[l],v)}}}(l))}}return this};k.native=function(a,
b,c){if(a&&b){c||(c={});var d=Object.keys(b);a=U(a);var f=c.duration||400,g=c.ease||"linear",e=c.callback,h=c.cancel;c=c.delay||0;for(var k=d.length,n={},l=0,u=a.length;l<u;n={m:n.m},l++){n.m=a[l];for(var r={},x=0;x<k;x++){var w=d[x];r[w]=[I(n.m,w),b[w]]}r=n.m.animate(r,{s:c,duration:f,ease:g});e&&(r.ca=function(a){return function(){for(var c=0;c<k;c++){var f=d[c];A(a.m.o,f,b[f])}e.call(a.m)}}(n));h&&(r.ba=function(a){return function(){h.call(a.m)}}(n))}}return this};n.V=function(a,b,c,d,f,g,e,h,
k,n,l,r){B(a)?a=this.g:a=z(a);N(b)&&(b="="===b[1]?fa(a,b.substring(2),b[0]):z(b));this.a=a;this.c=b;this.duration=d;this.start=0;this.h=c;this.i!==f&&(this.ease=ca(f),this.i=f);this.l=g;this.u=e;this.s=h;k&&(this.transform=k);l&&(this.w=l,this.H=r);n&&(this.filter=n)};return new u}(),this);
