/*
 FAT v0.3.3
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(H,J,x){var n;(n=x.define)&&n.amd?n([],function(){return J}):(n=x.modules)?n[H.toLowerCase()]=J:"object"===typeof exports?module.exports=J:x[H]=J})("Fat",function(){function H(a,b,c,d,f,g,e,M,N,k,m,h,q,t,u,y,B){this.l=a;this.H=a.g;this.style=b;this.a=d;this.c=f;this.h=d;this.m=g;this.o=e;this.duration=M;this.j=N;this.ease=Y(N);this.start=0;this.s=k;this.v=m;this.P=c;this.L=h;this.i=q;this.C=t;this.N=y?"%"===g||-1!==b.indexOf("A"):"px"!==g;y&&(this.B=y,this.G=B);u&&(this.transform=
u)}function J(a,b,c){var d=c||-1,f;if("#"===a[0])if(4===a.length){c=A[(f=a[1])+f];var g=A[(f=a[2])+f];var e=A[(f=a[3])+f]}else c=A[a[1]+a[2]],g=A[a[3]+a[4]],e=A[a[5]+a[6]];else f=Q(a,"(",")").split(","),c=parseInt(f[0],10),g=parseInt(f[1],10),e=parseInt(f[2],10),3<f.length&&(d=v(f[3])),-1!==a.indexOf("hsl")&&(0===g?g=e=a=e:(a=.5>e?e*(1+g):e+g-e*g,f=2*e-a,g=x(f,a,c+1/3),e=x(f,a,c),a=x(f,a,c-1/3)),c=255*g+.5>>0,g=255*e+.5>>0,e=255*a+.5>>0);a={};a[b+"R"]=c;a[b+"G"]=g;a[b+"B"]=e;-1!==d&&(a[b+"A"]=d);
return a}function x(a,b,c){0>c?c+=1:1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function n(a){this.id=++ia;this.stack=[];this.K=ja.bind(this);this.exec=0;this.F=!1;this.D=!a||!1!==a.autostart;this.direction=!0;this.ratio=1}function R(a){w(a)?a=document.querySelectorAll(a):a.length||(a=[a]);return a}function Y(a){if(w(a))if(a){var b;if(!(b=Z[a])){if(b=I[a]||(I[a]=aa.apply(null,ka[a]))){for(var c=new (Int16Array||Array)(K),d=0;d<K;d++)c[d]=1E4*b(d/K)+.5>>0;b=c}else b=[];b=Z[a]=
b}a=b}else a=[];else a=null;return a}function ja(a){var b=this.stack.length;if(b){this.exec=requestAnimationFrame(this.K);W&&(L?L===this.id&&(S={}):(S={},L=this.id));for(var c=!1,d=0;d<b;d++){var f=this.stack[d];f&&(f.S(this,a)?c=!0:this.stack[d]=null)}ba=a;c||this.destroy()}}function w(a){return"string"===typeof a}function D(a){return"undefined"===typeof a}function ca(a,b,c){b=v(b);"+"===c?b=a+b:"-"===c?b=a-b:"*"===c?b*=a:"/"===c&&(b=a/b);return b}function O(a,b,c){if("scrollTop"===b)return D(c)?
a.scrollTop:c;var d=a.g||(a.g=a.style);return(c=D(c)?d[b]:c)?c:(a.I||(a.I=getComputedStyle(a)))[b]}function la(a,b,c){var d=a.u;if(!d&&(a.u=d={},(a=c||O(a,T||"transform"))&&"none"!==a))for(a=a.split(" "),c=0;c<a.length;c++){var f=a[c],g=Q(f,"(");g&&(f=Q(f,"(",")").split(","),2<f.length&&(g=g.replace("3d",""),d[g+"Z"]=f[2]),1<f.length?(d[g+"X"]=f[0],d[g+"Y"]=f[1]):d[g]=f[0])}return d[b]}function ma(a,b,c,d){var f="_"+d,g=a[f];g||(c=c||O(a,d),a[f]=g=J(c,d,1));return g[b]}function U(a,b){var c=a[b+"X"]||
0,d=a[b+"Y"]||0;a=a[b+"Z"]||0;return c||d||a?a&&v(a)?b+"3d("+c+","+d+","+a+") ":b+"("+c+","+d+") ":""}function Q(a,b,c){var d=a.indexOf(b);return-1!==d?c?a.substring(d+b.length,a.indexOf(c)):a.substring(0,d):""}function na(a){if(a){var b;if(w(a)){if(b=Q(a,"bezier(",")")){b=b.replace(/ /g,"");var c=b.split(",")}}else a.constructor===Array&&(b=a.join(","),c=a);b&&(I[b]||(I[b]=aa(c[0],c[1],c[2],c[3])),a=b)}return a}function da(a,b,c){if(a&&b){if(c){var d=c.engine;if("css"===d)return this.transition(a,
b,c);if("native"===d)return this.native(a,b,c)}else c={};a=R(a);if(b.constructor===Array){var f=b;b=b[0]}d=c.callback||f&&function(){};var g=c.step||0,e=c.force||0,M=c.strict||0,N=this.F||c.init,k=c.loop,m=c.delay||0,h=c.duration||400;c=na(c.ease)||"";for(var q=Object.keys(b),t=q.length,u,y,B,z,l=t;0<l--;){var r=q[l];if(!u&&ea[r])u=r;else{var p=fa[r];if(p)if(0>p){p=b[r];"object"===typeof p&&(p=p.to);var n=J(p,r),v=p=void 0;q.unshift(p=r+"R");b[p]=n[p];q.unshift(p=r+"G");b[p]=n[p];q.unshift(p=r+"B");
b[p]=n[p];if(r=!D(v=n[p=r+"A"]))q.unshift(p),b[p]=v;l+=r?4:3;t+=r?4:3}else y||1!==p?B||2!==p?z||3!==p||(z=r):B=r:y=r}}for(l=0;l<t;l++){var x=n=v=p=r=void 0,A=l===t-1,w=q[l],G="_fat_"+w+this.id,E=b[w],H=void 0,I=void 0;"object"===typeof E&&(m=E.delay||m,h=E.duration||h,c=E.ease||c,H=E.from,E=E.to,I=E.unit);r=ea[w]&&u;var F=fa[w];if(F){if(0>F)continue;1===F?(p=y,x="color"):2===F?(v=B,x="backgroundColor"):3===F&&(n=z,x="borderColor")}F=0;for(var K=a.length;F<K;F++){var C=a[F],L=M&&w+(C._id||(C._id=W++));
A&&f&&(C.A=f,C.w=0);N&&0===l&&(C.I=null,u?C.u=null:y?C.W=null:B?C.U=null:z&&(C.V=null));this.handle(C,w,G,H,E,I,e,h,c,A&&d,A&&g,L,m,k,r,p||v||n,x)}}N&&(this.F=!1);this.exec||(this.exec=requestAnimationFrame(this.K))}return this}function G(a,b,c,d){a.setProperty(b,c,d?"important":void 0)}var K=Math.max(screen.width,screen.height),ha=K,Z={},I={},S,l=function(){var a=getComputedStyle(document.body);if(D(a.transform))for(var b=["ms","moz","webkit","o"],c=0,d;c<b.length;c++){if(!D(a[(d=b[c])+"Transform"]))return d}else return""}(),
T=l&&l+"Transform",oa=l&&"-"+T.replace("T","-t"),X=l&&l+"Transition",pa=l&&"-"+X.replace("T","-t"),v=parseFloat,L,ia=0,W=0,ba=0,ka={easeIn:[.55,.085,.68,.53],easeOut:[.25,.46,.45,.94],easeInOut:[.455,.03,.515,.955],cubicIn:[.55,.055,.675,.19],cubicOut:[.215,.61,.355,1],cubicInOut:[.645,.045,.355,1],quartIn:[.895,.03,.685,.22],quartOut:[.165,.84,.44,1],quartInOut:[.77,0,.175,1],quintIn:[.755,.05,.855,.06],quintOut:[.23,1,.32,1],quintInOut:[.86,0,.07,1],expoIn:[.95,.05,.795,.035],expoOut:[.19,1,.22,
1],expoInOut:[1,0,0,1],circIn:[.6,.04,.98,.335],circOut:[.075,.82,.165,1],circInOut:[.785,.135,.15,.86],sineIn:[.47,0,.745,.715],sineOut:[.39,.575,.565,1],sineInOut:[.445,.05,.55,.95],backIn:[.6,-.28,.735,.045],backOut:[.175,.885,.32,1.275],backInOut:[.68,-.55,.265,1.55],snap:[.1,1,.1,1]},aa=function(){function a(a,c,d){return(((1-3*d+3*c)*a+(3*d-6*c))*a+3*c)*a}return function(b,c,d,f){if(0<=b&&1>=b&&0<=d&&1>=d){var g=new Float32Array(11);if(b!==c||d!==f)for(var e=0;11>e;++e)g[e]=a(.1*e,b,d);return function(e){if(b!==
c||d!==f)if(0===e)e=0;else if(1===e)e=1;else{for(var h=0,k=1;10!==k&&g[k]<=e;++k)h+=.1;--k;k=h+(e-g[k])/(g[k+1]-g[k])*.1;var m=3*(1-3*d+3*b)*k*k+2*(3*d-6*b)*k+3*b;if(.001<=m){for(h=0;4>h;++h){m=3*(1-3*d+3*b)*k*k+2*(3*d-6*b)*k+3*b;if(0===m)break;k-=(a(k,b,d)-e)/m}e=k}else if(0===m)e=k;else{k=h;h+=.1;var l=0;do{var q=k+(h-k)/2;m=a(q,b,d)-e;0<m?h=q:k=q}while(1E-7<Math.abs(m)&&10>++l);e=q}e=a(e,c,f)}return e}}}}();l=H.prototype;l.animate=function(a,b,c){var d=this.L,f=this.a===this.c||d&&S[d],g=this.l;
b=Math.max((a-(this.start||(this.start=a)))*b,0);a=b>=this.duration;if(!f)if(d&&(S[d]=1),a)var e=c?this.c:this.a;else this.ease?e=this.ease.length?(this.c-this.a)*this.ease[K/this.duration*b+.5>>0]/1E4:(this.c-this.a)*b/this.duration:e=1===this.j.length?this.j(b/this.duration):this.j(b,this.a,this.c,this.duration),c?e=this.a+e:e=this.c-e,e=this.N?(e*ha+.5>>0)/ha:e+.5>>0;c=this.style;f||this.h===e||(this.h=e,this.transform?g.u[c]=e+this.m:this.B?g["_"+this.G][c]=e:this.T(c,e),c===this.transform&&(e=
this.R()),c===this.B&&(e=this.M(this.G)),this.v&&this.v.call(g,e));if(a&&(this.start=-1,this.s)){if(f=g.A){e=++g.w;this.C&&e>=f.length&&(this.C--,g.w=e=0);if(e<f.length)return;g.A=null}this.s.call(g)}};l.S=function(a,b){if(-1===this.start){if(this.s){b=this.l;var c=b.A;if(c&&(a.animate(b,c[b.w],{duration:this.duration,ease:this.j,callback:this.s,step:this.v,force:this.o,loop:this.C}),0===this.start))return!0}this.L||(this.l[this.P]=null)}else{c=b-ba;if(this.i){if(0<(this.i-=c))return!0;this.i=0}if(!a.D)return this.start+=
c,!0;this.animate(b,a.ratio,a.direction);return!0}};l.T=function(a,b){"scrollTop"===a?this.l.scrollTop=b:G(this.H,a,b+this.m,this.o)};l.seek=function(a,b){b=this.duration/b;this.start+=(this.h-this.a)/(this.c-this.a)*b-a*b};l.update=function(a){if(this.h===a)return!1;w(a)?a=v(a):D(a)&&(a=this.a);-1!==this.start&&(this.a=a);this.h=a;this.m&&(a+=this.m);return a};var fa=function(a){function b(b,d){a[b]=-d;a[b+"R"]=d;a[b+"G"]=d;a[b+"B"]=d;a[b+"A"]=d}b("color",1);b("backgroundColor",2);b("borderColor",
3);return a}({}),ea=function(a){function b(b){a[b]=1;a[b+"X"]=1;a[b+"Y"]=1;a[b+"Z"]=1;a[b+"3d"]=1}b("scale");b("skew");b("translate");b("rotate");return a}({});var A={};var V=Array(255);for(var h=0;256>h;h++){var P=h.toString(16);P.length%2&&(P="0"+P);A[P]=h;V[h]=P}l.R=function(){var a=this.l.u;G(this.H,oa||"transform",U(a,"rotate")+U(a,"scale")+U(a,"skew")+U(a,"translate"),this.o);return a};l.M=function(a){var b=this.l["_"+a],c=this.H,d=a.replace("C","-c"),f=b[a+"R"]||0,g=b[a+"G"]||0,e=b[a+"B"]||
0;a=b[a+"A"];"%"===this.m&&(f=2.55*f+.5>>0,g=2.55*g+.5>>0,e=2.55*e+.5>>0,a&&(a/=100));G(c,d,1===a||D(a)?"#"+V[f]+V[g]+V[e]:"rgba("+f+","+g+","+e+","+a+")",this.o);return b};h=n.prototype;h.handle=function(a,b,c,d,f,g,e,h,l,k,m,n,q,t,u,y,B){var z=a[c];if(z&&!n)z.O(d,f,g,e,h,l,k,m,q,u,y,B);else{z=""+(u?la:y?ma:O)(a,b,d,B);"auto"===z&&(z="0");d=v(z);if(w(f)){var M=f;f="="===f[1]?ca(d,M=f.substring(2),f[0]):v(f);g||(g=M.substring((""+f).length))}g||(g=z.substring((""+d).length)||"");b=new H(a,b,c,d,f,
g,e,h,l,k,m,n,q,t,u,y,B);this.stack[this.stack.length]=b;n||(a[c]=b)}};h.animate=da;h.destroy=function(){this.exec&&(this.exec=0,this.stack=[],W&&L===this.id&&(L=0));return this};h.init=function(){this.F=!0;return this};h.ease=I;h.transform=da;h.transition=function(a,b,c){if(a&&b){c||(c={});a=R(a);var d=Object.keys(b),f=d.length,g=(c.duration||400)+"ms",e=c.ease||"linear",h=c.callback||!1,l=(c.delay||0)+"ms",k=c.force;if(T)for(c=0;c<f;c++)"transform"===d[c]&&(d[c]=T);c=X?X+"End":"transitionend";for(var m=
{},n=0,q=a.length;n<q;m={b:m.b},n++){m.b=a[n];var t=m.b.J;h&&h===t||(t&&(m.b.removeEventListener(c,t,!1),m.b.J=null),h&&(m.b.J=h,m.b.addEventListener(c,h,!1)));requestAnimationFrame(function(a){return function(){var c=" "+g+" "+e+" "+l,h=d.join(c+",")+c;c=a.b.g||(a.b.g=a.b.style);G(c,pa||"transition",h,k);for(h=0;h<f;h++){var m=d[h];G(c,m,b[m],k)}}}(m))}}return this};h.native=function(a,b,c){if(a&&b){c||(c={});var d=Object.keys(b);a=R(a);var f=c.duration||400,g=c.ease||"linear",e=c.callback,h=c.cancel;
c=c.delay||0;for(var l=d.length,k={},m=0,n=a.length;m<n;k={f:k.f},m++){k.f=a[m];for(var q={},t=0;t<l;t++){var u=d[t];q[u]=[O(k.f,u),b[u]]}q=k.f.animate(q,{i:c,duration:f,ease:g});e&&(q.Y=function(a){return function(){for(var c=0;c<l;c++){var f=d[c];G(a.f.g,f,b[f])}e.call(a.f)}}(k));h&&(q.X=function(a){return function(){h.call(a.f)}}(k))}}return this};h.update=function(a,b,c,d){a=R(a);if(w(b))for(var f=0,g=a.length;f<g;f++){var e=a[f],h=e["_fat_"+b+this.id],l=!0;h?l=h.update(c,d):O(e,b)===c&&(l=!1);
l&&(e=e.g||(e.g=e.style),G(e,b,c,d))}else for(d=Object.keys(b),f=0,g=d.length;f<g;f++)e=d[f],this.update(a,e,b[e],c);return this};h.seek=function(a){for(var b=this.stack,c=this.ratio,d=0,f=b.length;d<f;b[d++].seek(a,c));return this};h.pause=function(){this.D=!1;return this};h.start=function(){this.D=!0;return this};h.stop=function(){return this.reset().pause()};h.speed=function(a){this.ratio=a;return this};h.reset=function(){return this.seek(0)};h.finish=function(){return this.seek(1)};h.reverse=
function(a){this.direction=D(a)?!this.direction:!a;return this};h.create=function(){return new n};l.O=function(a,b,c,d,f,g,e,h,l,k,m,n){D(a)?a=this.h:a=v(a);w(b)&&(b="="===b[1]?ca(a,b.substring(2),b[0]):v(b));this.a=a;this.c=b;this.duration=f;this.start=0;this.o=d;this.j!==g&&(this.ease=Y(g),this.j=g);this.s=e;this.v=h;this.i=l;c&&(this.m=c);k&&(this.transform=k);m&&(this.B=m,this.G=n)};return new n}(),this);
