/*
 FAT v0.6.1
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(L,P,t){var w;(w=t.define)&&w.amd?w([],function(){return P}):(w=t.modules)?w[L.toLowerCase()]=P:"object"===typeof exports?module.exports=P:t[L]=P})("Fat",function(){function L(a,b,c,d,e,g,f,h,q,n,k,l,p,H,v,m,u,R){this.b=a;this.v=a.o;this.style=b;this.T=Q(b);this.a=d;this.c=e;this.g=d;this.j=g;this.h=f;this.duration=h;this.i=q;this.ease=da(q);this.start=0;this.l=n;this.u=k;this.S=c;this.s=l;this.G=p;this.R=u?"%"===g||-1!==b.indexOf("A"):"px"!==g;this.N=H;u&&(this.w=u,this.H=R);
v&&(this.transform=v);m&&(this.filter=m)}function P(a,b,c){var d=c||-1,e;if("#"===a[0])if(a=a.toLowerCase(),4===a.length){c=y[(e=a[1])+e];var g=y[(e=a[2])+e];var f=y[(e=a[3])+e]}else c=y[a[1]+a[2]],g=y[a[3]+a[4]],f=y[a[5]+a[6]];else e=D(a,"(",")").split(","),c=parseInt(e[0],10),g=parseInt(e[1],10),f=parseInt(e[2],10),3<e.length&&(d=z(e[3])),-1!==a.indexOf("hsl")&&(0===g?g=f=a=f:(a=.5>f?f*(1+g):f+g-f*g,e=2*f-a,g=t(e,a,c+1/3),f=t(e,a,c),a=t(e,a,c-1/3)),c=255*g+.5>>0,g=255*f+.5>>0,f=255*a+.5>>0);a={};
a[b+"R"]=c;a[b+"G"]=g;a[b+"B"]=f;-1!==d&&(a[b+"A"]=d);return a}function t(a,b,c){0>c?c+=1:1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function w(a){this.id=++na;this.stack=[];this.M=oa.bind(this);this.exec=0;this.F=!a||!1!==a.autostart;this.direction=!0;this.ratio=1}function V(a){M(a)?a=document.querySelectorAll(a):a.length||(a=[a]);return a}function da(a){if(M(a))if(a){var b;if(!(b=ea[a])){if(b=N[a]||(N[a]=W.apply(W,pa[a]))){for(var c=new (Int16Array||Array)(I),d=0;d<I;d++)c[d]=
1E4*b(d/I)+.5>>0;b=c}else b=[];b=ea[a]=b}a=b}else a=[];else a=null;return a}function oa(a){var b=this.stack.length;if(b){this.exec=requestAnimationFrame(this.M);Z&&(O?O===this.id&&(X={}):(X={},O=this.id));for(var c=!1,d=0;d<b;d++){var e=this.stack[d];e&&(c=!0,e.X(this,a)||(this.stack[d]=null))}fa=a;c||this.destroy()}}function M(a){return"string"===typeof a}function A(a){return"undefined"===typeof a}function ha(a,b,c){b=z(b);"+"===c?b=a+b:"-"===c?b=a-b:"*"===c?b*=a:"/"===c?b=a/b:"!"===c&&(b=a===b?
0:b);return b}function B(a,b,c){if("scrollTop"===b||"scrollLeft"===b)return A(c)?a[b]:c;if("custom"===b)return c||0;var d=a.o||(a.o=a.style);return(c=A(c)?d[b]:c)?c:(a.J||(a.J=getComputedStyle(a)))[b]}function ia(a,b,c,d){if("none"===b)return b=a.substring(0,a.length-1),c[a]="scale"===b?1:0,d&&(d[d.length]=b),c;-1!==b.indexOf("matrix")&&(b=D(b,"(",")").split(","),b=a+"("+(parseFloat(b[qa[a]])||"")+")");a=b.replace(/, /g,",").split(" ");b={};for(var e=0,g=0;g<a.length;g++){var f=a[g],h=D(f,"(");if(h){f=
D(f,"(",")").split(",");var q=f.length;2<q&&(h=h.replace("3d",""),c[h+"Z"]=f[2]);1<q?(c[h+"X"]=f[0],c[h+"Y"]=f[1]):(c[h]=f[0],h=h.substring(0,h.length-1));b[h]||(d&&(d[e++]=h),b[h]=1)}}return c}function ja(a,b,c,d){if("none"===b)return c[a]=S[a]-1,d&&(d[d.length]=a),c;if(8>(""+b).length)return c[a]=b,d&&(d[d.length]=a),c;a=b.split(" ");b={};for(var e=0,g=0;g<a.length;g++){var f=a[g],h=D(f,"(");h&&(c[h]=D(f,"(",")"),h=h.substring(0,h.length),b[h]||(d&&(d[e++]=h),b[h]=1))}return c}function ra(a,b,c){var d=
a.B;if(d)var e=a.K;else a.B=d={},a.K=e=[];if(!d||A(d[b]))a=c||B(a,T||"transform"),ia(b,a,d,e);return d[b]}function sa(a,b,c){var d=a.A;if(d)var e=a.I;else a.A=d={},a.I=e=[];if(!d||A(d[b]))a=c||B(a,ka||"filter"),ja(b,a,d,e);return d[b]||S[b]-1}function ta(a,b,c,d){var e="_"+d,g=a[e];g||(c=c||B(a,d),a[e]=g=P(c,d,1));return g[b]}function D(a,b,c){var d=a.indexOf(b);return-1!==d?c?a.substring(d+b.length,a.indexOf(c)):a.substring(0,d):""}function ua(a){if(a){var b;if(M(a)){if(b=D(a,"bezier(",")")){b=b.replace(/ /g,
"");var c=b.split(",")}}else a.constructor===Array&&(b=a.join(","),c=a);b&&(N[b]||(N[b]=W.apply(W,c)),a=b)}return a}function aa(a,b,c){if(a&&b){if(b.constructor===Array){var d=b;b=b[0]}if(M(b))if(-1===b.indexOf(" "))b=ba[b];else{b=b.split(" ");for(var e={},g=0,f=b.length;g<f;g++)for(var h=ba[b[g]],q=Object.keys(h),n=0;n<q.length;n++)e[q[n]]=h[q[n]];b=e}if(c)if("function"===typeof c)c={callback:c};else{e=c.engine;if("css"===e)return this.transition(a,b,c);if("native"===e)return this.native(a,b,c)}else c=
{};a=V(a);e=c.delay||0;g=c.duration||400;f=ua(c.ease)||"";h=Object.keys(b);if(q=h.length){var k=h[0];if("%"===k[k.length-1]){d=Array(q);for(n=0;n<q;n++){k=h[n];var l=parseInt(k,10)-(0<n?parseInt(h[n-1],10):0);k=b[k];for(var p=Object.keys(k),H=p.length,v=0;v<H;v++){var m=p[v],u=k[m];A(u.to)&&(k[m]=u={to:u});u.duration=g/100*l+1>>0}d[n]=k}b=d[0];h=Object.keys(b);q=h.length}}n=c.callback||d&&function(){};l=c.step||0;k=c.force||0;p=c.strict||0;H=c.init;c=c.loop;var R,w,z;for(v=q;0<v--;)if(m=h[v],"transform"===
m){var x=ia(m,b[m],{});m=Object.keys(x);for(u=0;u<m.length;u++){var r=m[u];h.push(r);b[r]=x[r];q++}x=m[m.length-1]}else if(!x&&la[m])x=m;else if("filter"===m)for(m=ja(m,b[m],{}),u=Object.keys(m),r=0;r<u.length;r++){var J=u[r];"hue"===J&&(J="hue-rotate");h.push(J);b[J]=m[J];q++}else if("hue"===m&&(m="hue-rotate"),!J&&S[m])J=m;else if(u=ma[m]){if(0>u){r=b[m];"object"===typeof r&&(r=r.to);var F=P(r,m),t=r=void 0;h.push(r=m+"R");b[r]=F[r];h.push(r=m+"G");b[r]=F[r];h.push(r=m+"B");b[r]=F[r];(F=!A(t=F[r=
m+"A"]))?(h.push(r),b[r]=t,m=r):m+="B";q+=F?4:3;u*=-1}R||1!==u?w||2!==u?z||3!==u||(z=m):w=m:R=m}for(v=0;v<q;v++){var y=F=t=r=u=m=void 0,E=h[v],G=b[E],D=void 0,I=void 0,B=v===q-1,L="_fat_"+E+this.id;"object"===typeof G&&(e=G.delay||e,g=G.duration||g,f=G.ease||f,D=G.from,I=G.unit,G=G.to);if("transform"!==E&&(m=la[E]&&x,"filter"!==E)){"hue"===E&&(E="hue-rotate");u=S[E]&&J;var K=ma[E];if(K){if(0>K)continue;1===K?(r=R,y="color"):2===K?(t=w,y="backgroundColor"):3===K&&(F=z,y="borderColor")}K=0;for(var Q=
a.length;K<Q;K++){var C=a[K],N=p&&E+(C._id||(C._id=Z++));B&&d&&(C.D=d,C.C=0);H&&0===v&&(C.J=null,x?C.B=null:R?C.aa=null:w?C.Z=null:z?C.$=null:J&&(C.A=null));var O=!H&&!N&&C[L];O?O.V(D,G,k,g,f,B&&n,B&&l,e,m,u,r||t||F,y):this.W(C,E,L,D,G,I,k,g,f,B&&n,B&&l,e,c,N,m,u,r||t||F,y)}}}this.exec||(this.exec=requestAnimationFrame(this.M))}return this}function Q(a){return a.replace(/([A-Z])/g,"-$1").toLowerCase()}function x(a,b,c,d){a.setProperty(b,c,d?"important":void 0)}var I=Math.max(screen.width,screen.height),
ea={},N={},X,p=function(){var a=getComputedStyle(document.body);if(A(a.transform))for(var b=["webkit","moz","ms","o"],c=0,d;c<b.length;c++){if(!A(a[(d=b[c])+"Transform"]))return d}else return""}(),T=p&&p+"Transform",va=p&&"-"+Q(T),ca=p&&p+"Transition",wa=p&&"-"+Q(ca),ka=p&&p+"Filter",xa=p&&"-"+Q(ka),z=parseFloat,O,na=0,Z=0,fa=0,pa={easeIn:[.55,.085,.68,.53],easeOut:[.25,.46,.45,.94],easeInOut:[.455,.03,.515,.955],cubicIn:[.55,.055,.675,.19],cubicOut:[.215,.61,.355,1],cubicInOut:[.645,.045,.355,1],
quartIn:[.895,.03,.685,.22],quartOut:[.165,.84,.44,1],quartInOut:[.77,0,.175,1],quintIn:[.755,.05,.855,.06],quintOut:[.23,1,.32,1],quintInOut:[.86,0,.07,1],expoIn:[.95,.05,.795,.035],expoOut:[.19,1,.22,1],expoInOut:[1,0,0,1],circIn:[.6,.04,.98,.335],circOut:[.075,.82,.165,1],circInOut:[.785,.135,.15,.86],sineIn:[.47,0,.745,.715],sineOut:[.39,.575,.565,1],sineInOut:[.445,.05,.55,.95],backIn:[.6,-.28,.735,.045],backOut:[.175,.885,.32,1.275],backInOut:[.68,-.55,.265,1.55],snap:[.1,1,.1,1]},W=function(){function a(a,
c,d,e){this.a=a;this.j=c;this.b=d;this.l=e}a.prototype.c=function(a,c){return 1-3*c+3*a};a.prototype.g=function(a,c){return 3*c-6*a};a.prototype.h=function(a){return 3*a};a.prototype.i=function(a,c,d){return((this.c(c,d)*a+this.g(c,d))*a+this.h(c))*a};a.prototype.u=function(a,c,d){return 3*this.c(c,d)*a*a+2*this.g(c,d)*a+this.h(c)};a.prototype.v=function(a){for(var b=a,d=0;4>d;++d){var e=this.u(b,this.a,this.b);if(0===e)break;b-=(this.i(b,this.a,this.b)-a)/e}return b};a.prototype.w=function(a){return 0===
a||1===a||this.a===this.j&&this.b===this.l?a:this.i(this.v(a),this.j,this.l)};return function(b,c,d,e){b=new a(b,c,d,e);return b.w.bind(b)}}(),ba={fadeIn:{opacity:1},fadeOut:{opacity:0},fadeToggle:{opacity:"!=1"},slideUp:{translateY:0},slideDown:{translateY:"100%"},slideToggle:{translateY:"!=100%"},slideInLeft:{translateX:0},slideOutLeft:{translateX:"-100%"},slideToggleLeft:{translateX:"!=-100%"},slideInRight:{translateX:0},slideOutRight:{translateX:"100%"},slideToggleRight:{translateX:"!=100%"},
slideInTop:{translateY:0},slideOutTop:{translateY:"-100%"},slideToggleTop:{translateY:"!=-100%"},slideInBottom:{translateY:0},slideOutBottom:{translateY:"100%"},slideToggleBottom:{translateY:"!=100%"},zoomIn:{scaleX:1,scaleY:1},zoomOut:{scaleX:0,scaleY:0},zoomToggle:{scaleX:"!=1",scaleY:"!=1"},rollIn:{rotateZ:"0deg"},rollOut:{rotateZ:"720deg"},rollToggle:{rotateZ:"!=720deg"},blurIn:{blur:"0em"},blurOut:{blur:"5em"},blurToggle:{blur:"!=5em"}};p=L.prototype;p.animate=function(a,b,c){var d=this.N,e=
this.a===this.c||d&&X[d],g=this.b;a=Math.max((a-(this.start||(this.start=a)))*b,0);b=a>=this.duration;if(!e)if(d&&(X[d]=1),b)var f=c?this.c:this.a;else this.ease?f=this.ease.length?(this.c-this.a)*this.ease[I/this.duration*a+.5>>0]/1E4:(this.c-this.a)*a/this.duration:f=1===this.i.length?this.i(a/this.duration):this.i(a,this.a,this.c,this.duration),c?f=this.a+f:f=this.c-f,f=this.R?(f*I+.5>>0)/I:f+.5>>0;c=this.style;e||this.g===f||(this.g=f,this.transform?g.B[c]=f+this.j:this.filter?g.A[c]=f+this.j:
this.w?g["_"+this.H][c]=f:(f+=this.j,"custom"!==c&&this.Y(c,f)));c===this.transform?f=this.U():c===this.filter?f=this.P():c===this.w&&(f=this.O(this.H));this.u&&this.u.call(g,b?1:a/this.duration,f);if(b&&(this.start=-1,this.l)){if(e=g.D){f=++g.C;this.G&&f>=e.length&&(this.G--,g.C=f=0);if(f<e.length)return;g.D=null}this.l.call(g)}};p.X=function(a,b){if(-1===this.start){if(this.l){b=this.b;var c=b.D;if(c&&(a.animate(b,c[b.C],{duration:this.duration,ease:this.i,callback:this.l,step:this.u,force:this.h,
loop:this.G}),0===this.start))return!0}this.N||(this.b[this.S]=null)}else{c=b-fa;if(this.s){if(0<(this.s-=c))return!0;this.s=0}if(!a.F)return this.start+=c,!0;this.animate(b,a.ratio,a.direction);return!0}};p.Y=function(a,b){"scrollTop"===a||"scrollLeft"===a?this.b[a]=b:x(this.v,this.T,b,this.h)};p.seek=function(a,b){b=this.duration/b;this.start+=(this.g-this.a)/(this.c-this.a)*b-a*b};p.update=function(a){if(this.g===a)return!1;M(a)?a=z(a):A(a)&&(a=this.a);-1!==this.start&&(this.a=a);this.g=a;this.j&&
(a+=this.j);return a};var ma=function(a){function b(b,d){a[b]=-d;a[b+"R"]=d;a[b+"G"]=d;a[b+"B"]=d;a[b+"A"]=d}b("color",1);b("backgroundColor",2);b("borderColor",3);return a}({}),la=function(a){function b(b,d){a[b]=d;a[b+"X"]=d;a[b+"Y"]=d;a[b+"Z"]=d;a[b+"3d"]=d}b("translate",1);b("scale",2);b("rotate",3);b("skew",4);return a}({}),qa={scaleX:0,skewY:1,skewX:2,scaleY:3,translateX:4,translateY:5},S={blur:1,brightness:2,contrast:2,grayscale:1,"hue-rotate":1,invert:1,saturate:2,sepia:1};var y={};var Y=
Array(255);for(var l=0;256>l;l++){var U=l.toString(16);U.length%2&&(U="0"+U);y[U]=l;Y[l]=U}p.U=function(){for(var a=this.b.B,b=this.v,c=this.b.K,d="",e=0,g=c.length;e<g;e++){var f=c[e],h="scale"===f?1:0,q=a[f+"X"],n=a[f+"Y"],k=a[f+"Z"];if(q||n||k)"rotate"===f&&(q&&(d+=f+"X("+(q||h)+") "),n&&(d+=f+"Y("+(n||h)+") ")),k&&z(k)!==h?d="rotate"===f?d+(f+"Z("+(k||h)+") "):d+(f+"3d("+(q||h)+","+(n||h)+","+k+") "):"rotate"!==f&&(d+=f+"("+(q||h)+","+(n||h)+") ")}x(b,va||"transform",d,this.h);return a};p.P=function(){for(var a=
this.b.A,b=this.b.I,c="",d=0,e=b.length;d<e;d++){var g=b[d],f=(S[g]||1)-1,h=a[g];h&&h!==f&&(c+=g+"("+h+") ")}x(this.v,xa||"filter",c,this.h);return a};p.O=function(a){var b=this.b["_"+a],c=this.v,d=a.replace("C","-c"),e=b[a+"R"]||0,g=b[a+"G"]||0,f=b[a+"B"]||0;a=b[a+"A"];"%"===this.j&&(e=2.55*e+.5>>0,g=2.55*g+.5>>0,f=2.55*f+.5>>0,a&&(a/=100));x(c,d,1===a||A(a)?"#"+Y[e]+Y[g]+Y[f]:"rgba("+e+","+g+","+f+","+a+")",this.h);return b};l=w.prototype;l.W=function(a,b,c,d,e,g,f,h,q,n,k,l,p,H,v,m,u,x){var t=
""+(v?ra:m?sa:u?ta:B)(a,b,d,x);"auto"===t&&(t="0");d=z(t);if(M(e)){var w=e;e="="===e[1]?ha(d,w=e.substring(2),e[0]):z(e);g||(g=w.substring((""+e).length));"%"===g&&("scrollTop"===b?(e*=(a.scrollHeight-a.clientHeight)/100,g=""):"scrollLeft"===b&&(e*=(a.scrollWidth-a.clientWidth)/100,g=""))}g||(g=t.substring((""+d).length)||"");b=new L(a,b,c,d,e,g,f,h,q,n,k,l,p,H,v,m,u,x);this.stack[this.stack.length]=b;H||(a[c]=b)};l.animate=aa;l.destroy=function(){this.exec&&(this.exec=0,this.stack=[],Z&&O===this.id&&
(O=0));return this};l.create=function(){return new w};l.ease=N;l.preset=ba;l.transform=aa;l.filter=aa;l.update=function(a,b,c,d){a=V(a);if(M(b))for(var e=0,g=a.length;e<g;e++){var f=a[e],h=f["_fat_"+b+this.id],q=!0;h?q=h.update(c,d):B(f,b)===c&&(q=!1);q&&(f=f.o||(f.o=f.style),x(f,b,c,d))}else for(d=Object.keys(b),e=0,g=d.length;e<g;e++)f=d[e],this.update(a,f,b[f],c);return this};l.seek=function(a){for(var b=this.stack,c=this.ratio,d=0,e=b.length;d<e;b[d++].seek(a,c));return this};l.pause=function(){this.F=
!1;return this};l.start=function(){this.F=!0;return this};l.stop=function(){return this.reset().pause()};l.speed=function(a){this.ratio=a;return this};l.reset=function(){return this.seek(0)};l.finish=function(){return this.seek(1)};l.reverse=function(a){this.direction=A(a)?!this.direction:!a;return this};l.transition=function(a,b,c){if(a&&b){c||(c={});a=V(a);var d=Object.keys(b),e=d.length,g=(c.duration||400)+"ms",f=c.ease||"linear",h=c.callback||!1,q=(c.delay||0)+"ms",n=c.force;for(c=0;c<e;c++){var k=
d[c];if(T&&"transform"===k)b[T]=b[k],d[c]=T;else{var l=Q(k);b[l]=b[k];d[c]=l}}c=ca?ca+"End":"transitionend";k={};l=0;for(var p=a.length;l<p;k={f:k.f},l++){k.f=a[l];var t=k.f.L;h&&h===t||(t&&(k.f.removeEventListener(c,t,!1),k.f.L=null),h&&(k.f.L=h,k.f.addEventListener(c,h,!1)));requestAnimationFrame(function(a){return function(){var c=" "+g+" "+f+" "+q,h=d.join(c+",")+c;c=a.f.o||(a.f.o=a.f.style);x(c,wa||"transition",h,n);for(h=0;h<e;h++){var k=d[h];x(c,k,b[k],n)}}}(k))}}return this};l.native=function(a,
b,c){if(a&&b){c||(c={});var d=Object.keys(b);a=V(a);var e=c.duration||400,g=c.ease||"linear",f=c.callback,h=c.cancel;c=c.delay||0;for(var l=d.length,n={},k=0,p=a.length;k<p;n={m:n.m},k++){n.m=a[k];for(var t={},w=0;w<l;w++){var v=d[w];t[v]=[B(n.m,v),b[v]]}t=n.m.animate(t,{s:c,duration:e,ease:g});f&&(t.ca=function(a){return function(){for(var c=0;c<l;c++){var e=d[c];x(a.m.o,e,b[e])}f.call(a.m)}}(n));h&&(t.ba=function(a){return function(){h.call(a.m)}}(n))}}return this};p.V=function(a,b,c,d,e,g,f,h,
l,n,k,p){A(a)?a=this.g:a=z(a);M(b)&&(b="="===b[1]?ha(a,b.substring(2),b[0]):z(b));this.a=a;this.c=b;this.duration=d;this.start=0;this.h=c;this.i!==e&&(this.ease=da(e),this.i=e);this.l=g;this.u=f;this.s=h;l&&(this.transform=l);k&&(this.w=k,this.H=p);n&&(this.filter=n)};return new w}(),this);
