/*
 FAT v0.6.0
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(M,R,C){var q;(q=C.define)&&q.amd?q([],function(){return R}):(q=C.modules)?q[M.toLowerCase()]=R:"object"===typeof exports?module.exports=R:C[M]=R})("Fat",function(){function M(a,b,c,d,e,g,f,h,v,x,m,k,r,l,u,y,D,J){this.b=a;this.v=a.o;this.style=b;this.T=N(b);this.a=d;this.c=e;this.h=d;this.g=g;this.i=f;this.duration=h;this.j=v;this.ease=fa(v);this.start=0;this.l=x;this.u=m;this.S=c;this.s=k;this.G=r;this.R=D?"%"===g||-1!==b.indexOf("A"):"px"!==g;this.N=l;D&&(this.w=D,this.H=J);
u&&(this.transform=u);y&&(this.filter=y)}function R(a,b,c){var d=c||-1,e;if("#"===a[0])if(a=a.toLowerCase(),4===a.length){c=E[(e=a[1])+e];var g=E[(e=a[2])+e];var f=E[(e=a[3])+e]}else c=E[a[1]+a[2]],g=E[a[3]+a[4]],f=E[a[5]+a[6]];else e=A(a,"(",")").split(","),c=parseInt(e[0],10),g=parseInt(e[1],10),f=parseInt(e[2],10),3<e.length&&(d=t(e[3])),-1!==a.indexOf("hsl")&&(0===g?g=f=a=f:(a=.5>f?f*(1+g):f+g-f*g,e=2*f-a,g=C(e,a,c+1/3),f=C(e,a,c),a=C(e,a,c-1/3)),c=255*g+.5>>0,g=255*f+.5>>0,f=255*a+.5>>0);a={};
a[b+"R"]=c;a[b+"G"]=g;a[b+"B"]=f;-1!==d&&(a[b+"A"]=d);return a}function C(a,b,c){0>c?c+=1:1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function q(a){this.id=++pa;this.stack=[];this.M=qa.bind(this);this.exec=0;this.F=!a||!1!==a.autostart;this.direction=!0;this.ratio=1}function X(a){O(a)?a=document.querySelectorAll(a):a.length||(a=[a]);return a}function fa(a){if(O(a))if(a){var b;if(!(b=ha[a])){if(b=S[a]||(S[a]=Y.apply(Y,ra[a]))){for(var c=new (Int16Array||Array)(K),d=0;d<K;d++)c[d]=
1E4*b(d/K)+.5>>0;b=c}else b=[];b=ha[a]=b}a=b}else a=[];else a=null;return a}function qa(a){var b=this.stack.length;if(b){this.exec=requestAnimationFrame(this.M);ba&&(T?T===this.id&&(Z={}):(Z={},T=this.id));for(var c=!1,d=0;d<b;d++){var e=this.stack[d];e&&(c=!0,e.X(this,a)||(this.stack[d]=null))}ia=a;c||this.destroy()}}function O(a){return"string"===typeof a}function F(a){return"undefined"===typeof a}function ja(a,b,c){b=t(b);"+"===c?b=a+b:"-"===c?b=a-b:"*"===c?b*=a:"/"===c?b=a/b:"!"===c&&(b=a===b?
0:b);return b}function P(a,b,c){if("scrollTop"===b||"scrollLeft"===b)return F(c)?a[b]:c;if("custom"===b)return c||0;var d=a.o||(a.o=a.style);return(c=F(c)?d[b]:c)?c:(a.J||(a.J=getComputedStyle(a)))[b]}function ka(a,b,c,d){if("none"===b)return b=a.substring(0,a.length-1),c[a]="scale"===b?1:0,d&&(d[d.length]=b),c;-1!==b.indexOf("matrix")&&(b=A(b,"(",")").split(","),b=a+"("+(parseFloat(b[sa[a]])||"")+")");a=b.replace(/, /g,",").split(" ");b={};for(var e=0,g=0;g<a.length;g++){var f=a[g],h=A(f,"(");if(h){f=
A(f,"(",")").split(",");var v=f.length;2<v&&(h=h.replace("3d",""),c[h+"Z"]=f[2]);1<v?(c[h+"X"]=f[0],c[h+"Y"]=f[1]):(c[h]=f[0],h=h.substring(0,h.length-1));b[h]||(d&&(d[e++]=h),b[h]=1)}}return c}function la(a,b,c,d){if("none"===b)return c[a]=U[a]-1,d&&(d[d.length]=a),c;if(8>(""+b).length)return c[a]=b,d&&(d[d.length]=a),c;a=b.split(" ");b={};for(var e=0,g=0;g<a.length;g++){var f=a[g],h=A(f,"(");h&&(c[h]=A(f,"(",")"),h=h.substring(0,h.length),b[h]||(d&&(d[e++]=h),b[h]=1))}return c}function ta(a,b,c){var d=
a.B;if(d)var e=a.K;else a.B=d={},a.K=e=[];if(!d||F(d[b]))a=c||P(a,V||"transform"),ka(b,a,d,e);return d[b]}function ua(a,b,c){var d=a.A;if(d)var e=a.I;else a.A=d={},a.I=e=[];if(!d||F(d[b]))a=c||P(a,ma||"filter"),la(b,a,d,e);return d[b]||U[b]-1}function va(a,b,c,d){var e="_"+d,g=a[e];g||(c=c||P(a,d),a[e]=g=R(c,d,1));return g[b]}function A(a,b,c){var d=a.indexOf(b);return-1!==d?c?a.substring(d+b.length,a.indexOf(c)):a.substring(0,d):""}function wa(a){if(a){var b;if(O(a)){if(b=A(a,"bezier(",")")){b=b.replace(/ /g,
"");var c=b.split(",")}}else a.constructor===Array&&(b=a.join(","),c=a);b&&(S[b]||(S[b]=Y.apply(Y,c)),a=b)}return a}function ca(a,b,c){if(a&&b){if(b.constructor===Array){var d=b;b=b[0]}if(O(b))if(-1===b.indexOf(" "))b=da[b];else{b=b.split(" ");for(var e={},g=0,f=b.length;g<f;g++)for(var h=da[b[g]],v=Object.keys(h),x=0;x<v.length;x++)e[v[x]]=h[v[x]];b=e}if(c)if("function"===typeof c)c={callback:c};else{e=c.engine;if("css"===e)return this.transition(a,b,c);if("native"===e)return this.native(a,b,c)}else c=
{};a=X(a);e=c.callback||d&&function(){};g=c.step||0;f=c.force||0;h=c.strict||0;v=c.init;x=c.loop;var m=c.delay||0,k=c.duration||400;c=wa(c.ease)||"";for(var r=Object.keys(b),l=r.length,u,y,D,J,q,Q=l;0<Q--;){var n=r[Q];if("transform"===n){u=ka(n,b[n],{});n=Object.keys(u);for(var z=0;z<n.length;z++){var p=n[z];r.push(p);b[p]=u[p];l++}u=n[n.length-1]}else if(!u&&na[n])u=n;else if("filter"===n)for(n=la(n,b[n],{}),z=Object.keys(n),p=0;p<z.length;p++)y=z[p],"hue"===y&&(y="hue-rotate"),r.push(y),b[y]=n[y],
l++;else if("hue"===n&&(n="hue-rotate"),!y&&U[n])y=n;else if(z=oa[n]){if(0>z){p=b[n];"object"===typeof p&&(p=p.to);var H=R(p,n),t=p=void 0;r.push(p=n+"R");b[p]=H[p];r.push(p=n+"G");b[p]=H[p];r.push(p=n+"B");b[p]=H[p];(H=!F(t=H[p=n+"A"]))?(r.push(p),b[p]=t,n=p):n+="B";l+=H?4:3;z*=-1}D||1!==z?J||2!==z?q||3!==z||(q=n):J=n:D=n}}for(Q=0;Q<l;Q++){var w=H=t=p=z=n=void 0,G=r[Q],I=b[G],C=void 0,E=void 0,A=Q===l-1,K="_fat_"+G+this.id;"object"===typeof I&&(m=I.delay||m,k=I.duration||k,c=I.ease||c,C=I.from,E=
I.unit,I=I.to);if("transform"!==G&&(n=na[G]&&u,"filter"!==G)){"hue"===G&&(G="hue-rotate");z=U[G]&&y;var L=oa[G];if(L){if(0>L)continue;1===L?(p=D,w="color"):2===L?(t=J,w="backgroundColor"):3===L&&(H=q,w="borderColor")}L=0;for(var P=a.length;L<P;L++){var B=a[L],M=h&&G+(B._id||(B._id=ba++));A&&d&&(B.D=d,B.C=0);v&&0===Q&&(B.J=null,u?B.B=null:D?B.aa=null:J?B.Z=null:q?B.$=null:y&&(B.A=null));var N=!v&&!M&&B[K];N?N.V(C,I,E,f,k,c,A&&e,A&&g,m,n,z,p||t||H,w):this.W(B,G,K,C,I,E,f,k,c,A&&e,A&&g,m,x,M,n,z,p||
t||H,w)}}}this.exec||(this.exec=requestAnimationFrame(this.M))}return this}function N(a){return a.replace(/([A-Z])/g,"-$1").toLowerCase()}function w(a,b,c,d){a.setProperty(b,c,d?"important":void 0)}var K=Math.max(screen.width,screen.height),ha={},S={},Z,l=function(){var a=getComputedStyle(document.body);if(F(a.transform))for(var b=["webkit","moz","ms","o"],c=0,d;c<b.length;c++){if(!F(a[(d=b[c])+"Transform"]))return d}else return""}(),V=l&&l+"Transform",xa=l&&"-"+N(V),ea=l&&l+"Transition",ya=l&&"-"+
N(ea),ma=l&&l+"Filter",za=l&&"-"+N(ma),t=parseFloat,T,pa=0,ba=0,ia=0,ra={easeIn:[.55,.085,.68,.53],easeOut:[.25,.46,.45,.94],easeInOut:[.455,.03,.515,.955],cubicIn:[.55,.055,.675,.19],cubicOut:[.215,.61,.355,1],cubicInOut:[.645,.045,.355,1],quartIn:[.895,.03,.685,.22],quartOut:[.165,.84,.44,1],quartInOut:[.77,0,.175,1],quintIn:[.755,.05,.855,.06],quintOut:[.23,1,.32,1],quintInOut:[.86,0,.07,1],expoIn:[.95,.05,.795,.035],expoOut:[.19,1,.22,1],expoInOut:[1,0,0,1],circIn:[.6,.04,.98,.335],circOut:[.075,
.82,.165,1],circInOut:[.785,.135,.15,.86],sineIn:[.47,0,.745,.715],sineOut:[.39,.575,.565,1],sineInOut:[.445,.05,.55,.95],backIn:[.6,-.28,.735,.045],backOut:[.175,.885,.32,1.275],backInOut:[.68,-.55,.265,1.55],snap:[.1,1,.1,1]},Y=function(){function a(a,c,d,e){this.a=a;this.j=c;this.b=d;this.l=e}a.prototype.c=function(a,c){return 1-3*c+3*a};a.prototype.g=function(a,c){return 3*c-6*a};a.prototype.h=function(a){return 3*a};a.prototype.i=function(a,c,d){return((this.c(c,d)*a+this.g(c,d))*a+this.h(c))*
a};a.prototype.u=function(a,c,d){return 3*this.c(c,d)*a*a+2*this.g(c,d)*a+this.h(c)};a.prototype.v=function(a){for(var b=a,d=0;4>d;++d){var e=this.u(b,this.a,this.b);if(0===e)break;b-=(this.i(b,this.a,this.b)-a)/e}return b};a.prototype.w=function(a){return 0===a||1===a||this.a===this.j&&this.b===this.l?a:this.i(this.v(a),this.j,this.l)};return function(b,c,d,e){b=new a(b,c,d,e);return b.w.bind(b)}}(),da={fadeIn:{opacity:1},fadeOut:{opacity:0},fadeToggle:{opacity:"!=1"},slideUp:{translateY:0},slideDown:{translateY:"100%"},
slideToggle:{translateY:"!=100%"},slideInLeft:{translateX:0},slideOutLeft:{translateX:"-100%"},slideToggleLeft:{translateX:"!=-100%"},slideInRight:{translateX:0},slideOutRight:{translateX:"100%"},slideToggleRight:{translateX:"!=100%"},slideInTop:{translateY:0},slideOutTop:{translateY:"-100%"},slideToggleTop:{translateY:"!=-100%"},slideInBottom:{translateY:0},slideOutBottom:{translateY:"100%"},slideToggleBottom:{translateY:"!=100%"},zoomIn:{scaleX:1,scaleY:1},zoomOut:{scaleX:0,scaleY:0},zoomToggle:{scaleX:"!=1",
scaleY:"!=1"},rollIn:{rotateZ:"0deg"},rollOut:{rotateZ:"720deg"},rollToggle:{rotateZ:"!=720deg"},blurIn:{blur:"0em"},blurOut:{blur:"5em"},blurToggle:{blur:"!=5em"}};l=M.prototype;l.animate=function(a,b,c){var d=this.N,e=this.a===this.c||d&&Z[d],g=this.b;a=Math.max((a-(this.start||(this.start=a)))*b,0);b=a>=this.duration;if(!e)if(d&&(Z[d]=1),b)var f=c?this.c:this.a;else this.ease?f=this.ease.length?(this.c-this.a)*this.ease[K/this.duration*a+.5>>0]/1E4:(this.c-this.a)*a/this.duration:f=1===this.j.length?
this.j(a/this.duration):this.j(a,this.a,this.c,this.duration),c?f=this.a+f:f=this.c-f,f=this.R?(f*K+.5>>0)/K:f+.5>>0;c=this.style;e||this.h===f||(this.h=f,this.transform?g.B[c]=f+this.g:this.filter?g.A[c]=f+this.g:this.w?g["_"+this.H][c]=f:(f+=this.g,"custom"!==c&&this.Y(c,f)));c===this.transform?f=this.U():c===this.filter?f=this.P():c===this.w&&(f=this.O(this.H));this.u&&this.u.call(g,b?1:a/this.duration,f);if(b&&(this.start=-1,this.l)){if(e=g.D){f=++g.C;this.G&&f>=e.length&&(this.G--,g.C=f=0);if(f<
e.length)return;g.D=null}this.l.call(g)}};l.X=function(a,b){if(-1===this.start){if(this.l){b=this.b;var c=b.D;if(c&&(a.animate(b,c[b.C],{duration:this.duration,ease:this.j,callback:this.l,step:this.u,force:this.i,loop:this.G}),0===this.start))return!0}this.N||(this.b[this.S]=null)}else{c=b-ia;if(this.s){if(0<(this.s-=c))return!0;this.s=0}if(!a.F)return this.start+=c,!0;this.animate(b,a.ratio,a.direction);return!0}};l.Y=function(a,b){"scrollTop"===a||"scrollLeft"===a?this.b[a]=b:w(this.v,this.T,b,
this.i)};l.seek=function(a,b){b=this.duration/b;this.start+=(this.h-this.a)/(this.c-this.a)*b-a*b};l.update=function(a){if(this.h===a)return!1;O(a)?a=t(a):F(a)&&(a=this.a);-1!==this.start&&(this.a=a);this.h=a;this.g&&(a+=this.g);return a};var oa=function(a){function b(b,d){a[b]=-d;a[b+"R"]=d;a[b+"G"]=d;a[b+"B"]=d;a[b+"A"]=d}b("color",1);b("backgroundColor",2);b("borderColor",3);return a}({}),na=function(a){function b(b,d){a[b]=d;a[b+"X"]=d;a[b+"Y"]=d;a[b+"Z"]=d;a[b+"3d"]=d}b("translate",1);b("scale",
2);b("rotate",3);b("skew",4);return a}({}),sa={scaleX:0,skewY:1,skewX:2,scaleY:3,translateX:4,translateY:5},U={blur:1,brightness:2,contrast:2,grayscale:1,"hue-rotate":1,invert:1,saturate:2,sepia:1};var E={};var aa=Array(255);for(var k=0;256>k;k++){var W=k.toString(16);W.length%2&&(W="0"+W);E[W]=k;aa[k]=W}l.U=function(){for(var a=this.b.B,b=this.v,c=this.b.K,d="",e=0,g=c.length;e<g;e++){var f=c[e],h="scale"===f?1:0,k=a[f+"X"],x=a[f+"Y"],m=a[f+"Z"];if(k||x||m)"rotate"===f&&(k&&(d+=f+"X("+(k||h)+") "),
x&&(d+=f+"Y("+(x||h)+") ")),m&&t(m)!==h?d="rotate"===f?d+(f+"Z("+(m||h)+") "):d+(f+"3d("+(k||h)+","+(x||h)+","+m+") "):"rotate"!==f&&(d+=f+"("+(k||h)+","+(x||h)+") ")}w(b,xa||"transform",d,this.i);return a};l.P=function(){for(var a=this.b.A,b=this.b.I,c="",d=0,e=b.length;d<e;d++){var g=b[d],f=(U[g]||1)-1,h=a[g];h&&h!==f&&(c+=g+"("+h+") ")}w(this.v,za||"filter",c,this.i);return a};l.O=function(a){var b=this.b["_"+a],c=this.v,d=a.replace("C","-c"),e=b[a+"R"]||0,g=b[a+"G"]||0,f=b[a+"B"]||0;a=b[a+"A"];
"%"===this.g&&(e=2.55*e+.5>>0,g=2.55*g+.5>>0,f=2.55*f+.5>>0,a&&(a/=100));w(c,d,1===a||F(a)?"#"+aa[e]+aa[g]+aa[f]:"rgba("+e+","+g+","+f+","+a+")",this.i);return b};k=q.prototype;k.W=function(a,b,c,d,e,g,f,h,k,x,m,l,r,q,u,y,D,J){var v=""+(u?ta:y?ua:D?va:P)(a,b,d,J);"auto"===v&&(v="0");d=t(v);if(O(e)){var w=e;e="="===e[1]?ja(d,w=e.substring(2),e[0]):t(e);g||(g=w.substring((""+e).length));"%"===g&&("scrollTop"===b?(e*=(a.scrollHeight-a.clientHeight)/100,g=""):"scrollLeft"===b&&(e*=(a.scrollWidth-a.clientWidth)/
100,g=""))}g||(g=v.substring((""+d).length)||"");b=new M(a,b,c,d,e,g,f,h,k,x,m,l,r,q,u,y,D,J);this.stack[this.stack.length]=b;q||(a[c]=b)};k.animate=ca;k.destroy=function(){this.exec&&(this.exec=0,this.stack=[],ba&&T===this.id&&(T=0));return this};k.create=function(){return new q};k.ease=S;k.preset=da;k.transform=ca;k.filter=ca;k.update=function(a,b,c,d){a=X(a);if(O(b))for(var e=0,g=a.length;e<g;e++){var f=a[e],h=f["_fat_"+b+this.id],k=!0;h?k=h.update(c,d):P(f,b)===c&&(k=!1);k&&(f=f.o||(f.o=f.style),
w(f,b,c,d))}else for(d=Object.keys(b),e=0,g=d.length;e<g;e++)f=d[e],this.update(a,f,b[f],c);return this};k.seek=function(a){for(var b=this.stack,c=this.ratio,d=0,e=b.length;d<e;b[d++].seek(a,c));return this};k.pause=function(){this.F=!1;return this};k.start=function(){this.F=!0;return this};k.stop=function(){return this.reset().pause()};k.speed=function(a){this.ratio=a;return this};k.reset=function(){return this.seek(0)};k.finish=function(){return this.seek(1)};k.reverse=function(a){this.direction=
F(a)?!this.direction:!a;return this};k.transition=function(a,b,c){if(a&&b){c||(c={});a=X(a);var d=Object.keys(b),e=d.length,g=(c.duration||400)+"ms",f=c.ease||"linear",h=c.callback||!1,k=(c.delay||0)+"ms",l=c.force;for(c=0;c<e;c++){var m=d[c];if(V&&"transform"===m)b[V]=b[m],d[c]=V;else{var q=N(m);b[q]=b[m];d[c]=q}}c=ea?ea+"End":"transitionend";m={};q=0;for(var r=a.length;q<r;m={f:m.f},q++){m.f=a[q];var t=m.f.L;h&&h===t||(t&&(m.f.removeEventListener(c,t,!1),m.f.L=null),h&&(m.f.L=h,m.f.addEventListener(c,
h,!1)));requestAnimationFrame(function(a){return function(){var c=" "+g+" "+f+" "+k,h=d.join(c+",")+c;c=a.f.o||(a.f.o=a.f.style);w(c,ya||"transition",h,l);for(h=0;h<e;h++){var m=d[h];w(c,m,b[m],l)}}}(m))}}return this};k.native=function(a,b,c){if(a&&b){c||(c={});var d=Object.keys(b);a=X(a);var e=c.duration||400,g=c.ease||"linear",f=c.callback,h=c.cancel;c=c.delay||0;for(var k=d.length,l={},m=0,q=a.length;m<q;l={m:l.m},m++){l.m=a[m];for(var r={},t=0;t<k;t++){var u=d[t];r[u]=[P(l.m,u),b[u]]}r=l.m.animate(r,
{s:c,duration:e,ease:g});f&&(r.ca=function(a){return function(){for(var c=0;c<k;c++){var e=d[c];w(a.m.o,e,b[e])}f.call(a.m)}}(l));h&&(r.ba=function(a){return function(){h.call(a.m)}}(l))}}return this};l.V=function(a,b,c,d,e,g,f,h,k,l,m,q,r){F(a)?a=this.h:a=t(a);O(b)&&(b="="===b[1]?ja(a,b.substring(2),b[0]):t(b));this.a=a;this.c=b;this.duration=e;this.start=0;this.i=d;this.j!==g&&(this.ease=fa(g),this.j=g);this.l=f;this.u=h;this.s=k;c&&(this.g=c);l&&(this.transform=l);q&&(this.w=q,this.H=r);m&&(this.filter=
m)};return new q}(),this);
