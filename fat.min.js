/*
 FAT v0.1.0
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(p,v,g){let n;(n=g.define)&&n.amd?n([],function(){return v}):(n=g.modules)?n[p.toLowerCase()]=v:"undefined"!==typeof module?module.exports=v:g[p]=v})("Fat",function(){function p(a,b,c,d,e,f,h,g,l,F,x,y,k,r,u){this.a=a;this.style=b;this.g=c;this.from=d;this.o=e;this.current=d;this.j=f;this.u=0===f.length?0:"%"===f?1:2;this.force=h;this.duration=g;this.A=l;this.i=B[l]||(B[l]=n(l));this.start=0;this.h=x;this.step=y;this.F="_fat_"+b;this.w=(e-d)/100;this.C=F/g;this.c=k;this.pause=
!1;this.transform=r;if(this.color=u)this.u=2}function v(a,b){let c,d,e=-1;var f;"#"===a[0]?4===a.length?(c=parseInt((f=a[1])+f,16),d=parseInt((f=a[2])+f,16),a=parseInt((f=a[3])+f,16)):(c=parseInt(a.substring(1,3),16),d=parseInt(a.substring(3,5),16),a=parseInt(a.substring(5,7),16)):(f=a.indexOf("("),f=a.substring(f+1,a.indexOf(")")).split(","),c=f[0],d=f[1],a=f[2],3<f.length&&(e=f[3]));f=m();f[b+"R"]=c;f[b+"G"]=d;f[b+"B"]=a;-1!==e&&(f[b+"Alpha"]=e);return f}function g(){this.stack=[];this.B=I.bind(this);
this.exec=0;this.m=!1;this.direction=this.l=!0;this.ratio=1}function n(a){const b=w(Int32Array)?Array(q):new Int32Array(q);a=t[a]||t.linear;for(let c=0;c<q;c++)b[c]=1E3*a(c,0,100,q)>>0;return b}function I(a){let b=this.stack.length;if(b){this.exec=requestAnimationFrame(this.B);const c=a-G;G=a;let d=!1;for(let e=0;e<b;e++){const b=this.stack[e];if(b)if(-1===b.start)b.a[b.F]=null,this.stack[e]=null;else{d=!0;if(b.c)if(0<(b.c-=c))continue;else b.c=0;this.l?b.animate(a,this.ratio,this.direction):b.start+=
c}}d||this.destroy()}}function w(a){return"undefined"===typeof a}function m(){return Object.create(null)}function C(a,b){if("scrollTop"===b)return a.scrollTop;const c=(a.b||(a.b=a.style))[b];return c?c:(a.s||(a.s=getComputedStyle(a,null)))[b]}function J(a,b){let c=a.f;if(!c){const b=C(a,"transform").split(" ");a.f=c=m();for(a=0;a<b.length;a++){var d=b[a];const e=d.indexOf("(");if(-1===e)continue;const h=d.substring(e+1,d.indexOf(")")).split(",");d=d.substring(0,e);2<h.length&&(d=d.replace("3d",""),
c[d+"Z"]=h[2]);1<h.length?(c[d+"X"]=h[0],c[d+"Y"]=h[1]):c[d]=h[0]}}return c[b]}function K(a,b){var c=D[b];let d=b;1===c?d="color":2===c?d="backgroundColor":3===c&&(d="borderColor");c="_"+d;var e=a[c];e||(e=C(a,d),a[c]=e=v(e,d));return e[b]}function E(a,b){const c=a[b+"X"]||0,d=a[b+"Y"]||0;a=a[b+"Z"]||0;return c||d||a?a&&parseFloat(a)?b+"3d("+c+","+d+","+a+") ":b+"("+c+","+d+") ":""}function L(a,b){const c=a[b+"R"]||0,d=a[b+"G"]||0,e=a[b+"B"]||0;a=a[b+"Alpha"]||0;return c||d||e||a?a&&255!==parseFloat(a)?
"rgba("+c+","+d+","+e+","+a+")":"rgb("+c+","+d+","+e+")":""}function H(a,b,c){if(a&&b){if(c){var d=c.engine;if("css"===d)return this.transition(a,b,c);if("native"===d)return this.native(a,b,c)}else c=m();"string"===typeof a&&(a=document.querySelectorAll(a));d=a.length;d||(a=[a],d=1);const l=Object.keys(b),F=c.duration||400,x=c.ease||"linear",y=c.callback||!1,k=c.step||!1,r=c.delay||0,u=c.force;c=this.m||c.init;let A=l.length,p,n;for(let m=A-1;0<=m;m--){var e=0===m,f=l[m],h=M[f]?f:"";let z=D[f]?f:
"";h&&(p?h="1":p=!0);z&&(n?z="1":n=!0);let q=""+b[f];var g=(""+q).indexOf("!");const t=-1!==g;t&&(q=q.substring(0,g));if(z&&0>D[f])h=v(q,f),l[A++]=e=f+"R",b[e]=h[e],l[A++]=e=f+"G",b[e]=h[e],l[A++]=e=f+"B",b[e]=h[e],e=f+"Alpha",w(f=h[e])||(l[A++]=e,b[e]=f);else for(g=0;g<d;g++){const b=a[g];c&&0===m&&(b.s=null,h&&(b.f=null),z&&(b.K=null,b.I=null,b.J=null));this.handle(b,f,q,F,x,e&&y,e&&k,r,h,z,u||t)}}c&&(this.m=!1);this.exec||(this.exec=requestAnimationFrame(this.B))}return this}const q=Math.max(screen.width,
screen.height),B=m();let G=0;const t={linear:function(a,b,c,d){return a/d*c+b},quadIn:function(a,b,c,d){return c*(a/=d)*a+b},quadOut:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},quadInOut:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},cubicIn:function(a,b,c,d){return c*(a/=d)*a*a+b},cubicOut:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},cubicInOut:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},quartIn:function(a,b,c,d){return c*(a/=d)*a*a*a+b},quartOut:function(a,
b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},quartInOut:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},quintIn:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},quintOut:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},quintInOut:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},sineIn:function(a,b,c,d){return-c*Math.cos(a/d*1.5708)+c+b},sineOut:function(a,b,c,d){return c*Math.sin(a/d*1.5708)+b},sineInOut:function(a,b,c,d){return-c/2*(Math.cos(3.1416*
a/d)-1)+b},expoIn:function(a,b,c,d){return 0===a?b:c*Math.pow(2,10*(a/d-1))+b},expoOut:function(a,b,c,d){return a===d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},expoInOut:function(a,b,c,d){return 0===a?b:a===d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},circIn:function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},circOut:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},circInOut:function(a,b,c,d){return 1>(a/=d/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+
1)+b},elasticIn:function(a,b,c,d,e){let f=0,h=c;if(0===a)return b;if(1===(a/=d))return b+c;f||(f=.3*d);h<Math.abs(c)?(h=c,e=f/4):e=f/6.2832*Math.asin(c/h);return-(h*Math.pow(2,10*--a)*Math.sin(6.2832*(a*d-e)/f))+b},elasticOut:function(a,b,c,d,e){let f=0,h=c;if(0===a)return b;if(1===(a/=d))return b+c;f||(f=.3*d);h<Math.abs(c)?(h=c,e=f/4):e=f/6.2832*Math.asin(c/h);return h*Math.pow(2,-10*a)*Math.sin(6.2832*(a*d-e)/f)+c+b},elasticInOut:function(a,b,c,d,e){let f=0,h=c;if(0===a)return b;if(2===(a/=d/2))return b+
c;f||(f=.45*d);h<Math.abs(c)?(h=c,e=f/4):e=f/6.2832*Math.asin(c/h);return 1>a?-.5*h*Math.pow(2,10*--a)*Math.sin(6.2832*(a*d-e)/f)+b:h*Math.pow(2,-10*--a)*Math.sin(6.2832*(a*d-e)/f)*.5+c+b},backIn:function(a,b,c,d,e){w(e)&&(e=1.70158);return c*(a/=d)*a*((e+1)*a-e)+b},backOut:function(a,b,c,d,e){w(e)&&(e=1.70158);return c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},backInOut:function(a,b,c,d,e){w(e)&&(e=1.70158);return 1>(a/=d/2)?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},bounceIn:function(a,
b,c,d){return c-t.easeOutBounce(d-a,0,c,d)+b},bounceOut:function(a,b,c,d){return(a/=d)<1/2.75?7.5625*c*a*a+b:.7273>a?c*(7.5625*(a-=.5454)*a+.75)+b:.9091>a?c*(7.5625*(a-=.8182)*a+.9375)+b:c*(7.5625*(a-=.9545)*a+.984375)+b},bounceInOut:function(a,b,c,d){return a<d/2?.5*t.easeInBounce(2*a,0,c,d)+b:.5*t.easeOutBounce(2*a-d,0,c,d)+.5*c+b},bezier:function(){}};p.prototype.animate=function(a,b,c){b=this.style;var d=Math.max(a-(this.start||(this.start=a)),0);(a=d>=this.duration)?d=c?this.o:this.from:(d=this.w*
this.i[this.C*d+.5>>0]/1E3,c?d=this.from+d:d=this.o-d,d=2>this.u?(1E3*d+.5>>0)/1E3:d+.5>>0);this.transform?this.current!==d&&(this.a.f[b]=d+this.j,this.current=d,b===this.transform&&this.H()):this.color?this.current!==d&&(this.current=this.a["_"+b]=d,b===this.color&&this.D(b)):this.G(b,d);a&&(this.start=-1,this.h&&this.h.call(this.a))};p.prototype.G=function(a,b){this.current!==b&&("scrollTop"===a?this.a.scrollTop=b:this.g.setProperty(a,b+this.j,this.force?"important":""),this.current=b,this.step&&
this.step.call(this.a,b))};const D=function(a){function b(b,d){a[b]=-d;a[b+"R"]=d;a[b+"G"]=d;a[b+"B"]=d;a[b+"Alpha"]=d}b("color",1);b("backgroundColor",2);b("borderColor",3);b("borderLeftColor",3);b("borderTopColor",3);b("borderRightColor",3);b("borderBottomColor",3);return a}(m()),M=function(a){function b(b){a[b]=1;a[b+"X"]=1;a[b+"Y"]=1;a[b+"Z"]=1;a[b+"3d"]=1}b("scale");b("skew");b("translate");b("rotate");return a}(m());p.prototype.H=function(){const a=this.a.f;this.g.setProperty("transform",E(a,
"rotate")+E(a,"scale")+E(a,"skew")+E(a,"translate"),this.force?"important":"");this.step&&this.step.call(this.a,a)};p.prototype.D=function(a){var b=D[a];1===b?a="color":2===b?a="backgroundColor":3===b&&(a="borderColor");b=this.a["_"+a];this.g.setProperty(a.replace("C","-c"),L(b,a),this.force?"important":"");this.step&&this.step.call(this.a,b)};g.prototype.handle=function(a,b,c,d,e,f,h,g,l,m,x){const y="_fat_"+b;var k=a[y];let r;if(k)k.from=r=k.current,k.o=c=parseFloat(c),k.duration=d,k.start=0,k.force=
x,k.A!==e&&(k.i=B[e]||(B[e]=n(e)),k.A=e),k.w=(c-r)/100,k.C=q/d,k.h=f,k.step=h,k.c=g,k.transform=l,k.color=m;else{k=""+(l?J:m?K:C)(a,b);const n=a.b;"auto"===k&&(k="0");r=parseFloat(k);var u=""+c;c=parseFloat(c);(u=u.substring((""+c).length))||(u=k.substring((""+r).length));b=new p(a,b,n,r,c,u,x,d,e,q,f,h,g,l,m);this.stack[this.stack.length]=b;a[y]=b}};g.prototype.animate=H;g.prototype.update=function(a,b,c){if(w(c)){c=Object.keys(b);for(let e=0;e<c.length;e++){var d=c[e];this.update(a,d,b[d])}}else(d=
a["_fat_"+b])&&d.current!==c&&(d.current=c,(a.b||(a.b=a.style)).setProperty(b,c+d.j,d.force?"important":""));return this};g.prototype.destroy=function(){this.exec&&(cancelAnimationFrame(this.exec),this.exec=0,this.stack=[]);return this};g.prototype.init=function(){this.m=!0;return this};g.prototype.easing=t;g.prototype.transform=H;g.prototype.transition=function(a,b,c){if(a&&b){c||(c=m());"string"===typeof a&&(a=document.querySelectorAll(a));let d=a.length;d||(a=[a],d=1);const e=Object.keys(b),f=
e.length,h=(c.duration||400)+"ms",g=c.ease||"linear",l=c.callback||!1;c=(c.delay||0)+"ms";const n=e.join(",");for(let m=0;m<d;m++){const d=a[m],k=d.b||(d.b=d.style),r=d.v;k.transitionProperty=n;k.transitionDuration=h;k.transitionDelay=c;k.transitionTimingFunction=g;l&&l===r||(r&&(d.v=null,d.removeEventListener("transitionend",r,!1)),l&&(d.v=l,d.addEventListener("transitionend",l,!1)));requestAnimationFrame(function(){for(let a=0;a<f;a++){const c=e[a];k[c]=b[c]}})}}return this};g.prototype.native=
function(a,b,c){if(a&&b){c||(c=m());const e=Object.keys(b);"string"===typeof a&&(a=document.querySelectorAll(a));let f=a.length;f||(a=[a],f=1);const h=c.duration||400,g=c.ease||"linear",l=c.callback,n=c.cancel;c=c.delay||0;const q=e.length;for(let p=0;p<f;p++){const f=a[p];var d=m();for(let a=0;a<q;a++){const c=e[a];d[c]=[C(f,c),b[c]]}d=f.animate(d,{c,duration:h,i:g});l&&(d.M=function(){for(let a=0;a<q;a++){const c=e[a];f.b[c]=b[c]}l.call(f)});n&&(d.L=function(){n.call(f)})}}return this};g.prototype.pause=
function(){this.l=!1};g.prototype.start=function(){this.l=!0};g.prototype.speed=function(a){this.ratio=a};g.prototype.reset=function(){};g.prototype.finish=function(){};g.prototype.seek=function(){};g.prototype.stop=function(){};g.prototype.reverse=function(a){this.direction=w(a)?!this.direction:!a};g.prototype.create=function(){return new g};return new g}(),this);
