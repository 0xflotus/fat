/*
 FAT v0.6.2
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(L,Q,G){var B;(B=G.define)&&B.amd?B([],function(){return Q}):(B=G.modules)?B[L.toLowerCase()]=Q:"object"===typeof exports?module.exports=Q:G[L]=Q})("Fat",function(){function L(a,b,c,d,f,g,e,h,n,r,m,k,q,p,w,y,H,M){this.b=a;this.v=a.s;this.style=b;this.U=R(b);this.a=d;this.c=f;this.g=d;this.j=g;this.h=e;this.duration=h;this.i=n;this.ease=da(n);this.start=0;this.m=r;this.u=m;this.T=c;this.l=k;this.I=q;this.S=H?"%"===g||-1!==b.indexOf("A"):"px"!==g;this.O=p;H&&(this.A=H,this.J=M);
w&&(this.transform=w);y&&(this.filter=y)}function Q(a,b,c){var d=c||-1,f;if("#"===a[0])if(a=a.toLowerCase(),4===a.length){c=C[(f=a[1])+f];var g=C[(f=a[2])+f];var e=C[(f=a[3])+f]}else c=C[a[1]+a[2]],g=C[a[3]+a[4]],e=C[a[5]+a[6]];else f=D(a,"(",")").split(","),c=parseInt(f[0],10),g=parseInt(f[1],10),e=parseInt(f[2],10),3<f.length&&(d=t(f[3])),-1!==a.indexOf("hsl")&&(0===g?g=e=a=e:(a=.5>e?e*(1+g):e+g-e*g,f=2*e-a,g=G(f,a,c+1/3),e=G(f,a,c),a=G(f,a,c-1/3)),c=255*g+.5>>0,g=255*e+.5>>0,e=255*a+.5>>0);a={};
a[b+"R"]=c;a[b+"G"]=g;a[b+"B"]=e;-1!==d&&(a[b+"A"]=d);return a}function G(a,b,c){0>c?c+=1:1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function B(a){this.id=++na;this.stack=[];this.H=oa.bind(this);this.exec=0;this.w=[];this.G=!a||!1!==a.autostart;this.direction=!0;this.ratio=1}function W(a){J(a)?a=document.querySelectorAll(a):a.length||(a=[a]);return a}function da(a){if(J(a))if(a){var b;if(!(b=ea[a])){if(b=O[a]||(O[a]=X.apply(X,pa[a]))){for(var c=new (Int16Array||Array)(K),d=
0;d<K;d++)c[d]=1E4*b(d/K)+.5>>0;b=c}else b=[];b=ea[a]=b}a=b}else a=[];else a=null;return a}function oa(a){var b=this.stack.length,c=this.w.length;if(b||c){this.exec=requestAnimationFrame(this.H);var d=!1;if(b){aa&&(P?P===this.id&&(Y={}):(Y={},P=this.id));for(var f=0;f<b;f++){var g=this.stack[f];g&&(d=!0,g.Y(this,a)||(this.stack[f]=null))}}if(c)for(b=0;b<c;b++)if(f=this.w[b])d=!0,f(a)||(this.w[b]=null);fa=a;d||this.destroy()}}function J(a){return"string"===typeof a}function z(a){return"undefined"===
typeof a}function ha(a,b,c){b=t(b);"+"===c?b=a+b:"-"===c?b=a-b:"*"===c?b*=a:"/"===c?b=a/b:"!"===c&&(b=a===b?0:b);return b}function N(a,b,c){if("scrollTop"===b||"scrollLeft"===b)return z(c)?a[b]:c;if("custom"===b)return c||0;var d=a.s||(a.s=a.style);return(c=z(c)?d[b]:c)?c:(a.L||(a.L=getComputedStyle(a)))[b]}function ia(a,b,c,d){if("none"===b)return b=a.substring(0,a.length-1),c[a]="scale"===b?1:0,d&&(d[d.length]=b),c;-1!==b.indexOf("matrix")&&(b=D(b,"(",")").split(","),b=a+"("+(parseFloat(b[qa[a]])||
"")+")");a=b.replace(/, /g,",").split(" ");b={};for(var f=0,g=0;g<a.length;g++){var e=a[g],h=D(e,"(");if(h){e=D(e,"(",")").split(",");var n=e.length;2<n&&(h=h.replace("3d",""),c[h+"Z"]=e[2]);1<n?(c[h+"X"]=e[0],c[h+"Y"]=e[1]):(c[h]=e[0],h=h.substring(0,h.length-1));b[h]||(d&&(d[f++]=h),b[h]=1)}}return c}function ja(a,b,c,d){if("none"===b)return c[a]=S[a]-1,d&&(d[d.length]=a),c;if(8>(""+b).length)return c[a]=b,d&&(d[d.length]=a),c;a=b.split(" ");b={};for(var f=0,g=0;g<a.length;g++){var e=a[g],h=D(e,
"(");h&&(c[h]=D(e,"(",")"),h=h.substring(0,h.length),b[h]||(d&&(d[f++]=h),b[h]=1))}return c}function ra(a,b,c){var d=a.C;if(d)var f=a.M;else a.C=d={},a.M=f=[];if(!d||z(d[b]))a=c||N(a,T||"transform"),ia(b,a,d,f);return d[b]}function sa(a,b,c){var d=a.B;if(d)var f=a.K;else a.B=d={},a.K=f=[];if(!d||z(d[b]))a=c||N(a,ka||"filter"),ja(b,a,d,f);return d[b]||S[b]-1}function ta(a,b,c,d){var f="_"+d,g=a[f];g||(c=c||N(a,d),a[f]=g=Q(c,d,1));return g[b]}function D(a,b,c){var d=a.indexOf(b);return-1!==d?c?a.substring(d+
b.length,a.indexOf(c)):a.substring(0,d):""}function ua(a){if(a){var b;if(J(a)){if(b=D(a,"bezier(",")")){b=b.replace(/ /g,"");var c=b.split(",")}}else a.constructor===Array&&(b=a.join(","),c=a);b&&(O[b]||(O[b]=X.apply(X,c)),a=b)}return a}function va(a,b,c,d){for(var f=Array(c),g=0;g<c;g++){var e=b[g],h=parseInt(e,10)-(0<g?parseInt(b[g-1],10):0);e=a[e];for(var n=Object.keys(e),r=n.length,m=0;m<r;m++){var k=n[m],q=e[k];z(q.to)&&(e[k]=q={to:q});q.duration=d/100*h+1>>0}f[g]=e}return f}function R(a){return a.replace(/([A-Z])/g,
"-$1").toLowerCase()}function A(a,b,c,d){d?a.setProperty(b,c,"important"):a.setProperty(b,c)}var K=Math.max(screen.width,screen.height),ea={},O={},Y,p=function(){var a=getComputedStyle(document.body);if(z(a.transform))for(var b=["webkit","moz","ms","o"],c=0,d;c<b.length;c++){if(!z(a[(d=b[c])+"Transform"]))return d}else return""}(),T=p&&p+"Transform",wa=p&&"-"+R(T),ba=p&&p+"Transition",xa=p&&"-"+R(ba),ka=p&&p+"Filter",ya=p&&"-"+R(ka),t=parseFloat,P,na=0,aa=0,fa=0,pa={easeIn:[.55,.085,.68,.53],easeOut:[.25,
.46,.45,.94],easeInOut:[.455,.03,.515,.955],cubicIn:[.55,.055,.675,.19],cubicOut:[.215,.61,.355,1],cubicInOut:[.645,.045,.355,1],quartIn:[.895,.03,.685,.22],quartOut:[.165,.84,.44,1],quartInOut:[.77,0,.175,1],quintIn:[.755,.05,.855,.06],quintOut:[.23,1,.32,1],quintInOut:[.86,0,.07,1],expoIn:[.95,.05,.795,.035],expoOut:[.19,1,.22,1],expoInOut:[1,0,0,1],circIn:[.6,.04,.98,.335],circOut:[.075,.82,.165,1],circInOut:[.785,.135,.15,.86],sineIn:[.47,0,.745,.715],sineOut:[.39,.575,.565,1],sineInOut:[.445,
.05,.55,.95],backIn:[.6,-.28,.735,.045],backOut:[.175,.885,.32,1.275],backInOut:[.68,-.55,.265,1.55],snap:[.1,1,.1,1]},X=function(){function a(a,c,d,f){this.a=a;this.j=c;this.b=d;this.m=f}a.prototype.c=function(a,c){return 1-3*c+3*a};a.prototype.g=function(a,c){return 3*c-6*a};a.prototype.h=function(a){return 3*a};a.prototype.i=function(a,c,d){return((this.c(c,d)*a+this.g(c,d))*a+this.h(c))*a};a.prototype.u=function(a,c,d){return 3*this.c(c,d)*a*a+2*this.g(c,d)*a+this.h(c)};a.prototype.v=function(a){for(var b=
a,d=0;4>d;++d){var f=this.u(b,this.a,this.b);if(0===f)break;b-=(this.i(b,this.a,this.b)-a)/f}return b};a.prototype.A=function(a){return 0===a||1===a||this.a===this.j&&this.b===this.m?a:this.i(this.v(a),this.j,this.m)};return function(b,c,d,f){b=new a(b,c,d,f);return b.A.bind(b)}}(),q={fadeIn:{opacity:1},fadeOut:{opacity:0},fadeToggle:{opacity:"!=1"},slideInLeft:{translateX:0},slideOutLeft:{translateX:"-100%"},slideToggleLeft:{translateX:"!=-100%"},slideOutRight:{translateX:"100%"},slideToggleRight:{translateX:"!=100%"},
slideInTop:{translateY:0},slideOutTop:{translateY:"-100%"},slideToggleTop:{translateY:"!=-100%"},slideOutBottom:{translateY:"100%"},slideToggleBottom:{translateY:"!=100%"},zoomIn:{scaleX:1,scaleY:1},zoomOut:{scaleX:0,scaleY:0},zoomToggle:{scaleX:"!=1",scaleY:"!=1"}};q.slideUp=q.slideOutTop;q.slideDown=q.slideOutBottom;q.slideIn=q.slideInBottom=q.slideInTop;q.slideInRight=q.slideInLeft;q.rollIn={rotateZ:"0deg"};q.rollOut={rotateZ:"720deg"};q.rollToggle={rotateZ:"!=720deg"};q.blurIn={blur:"0em"};q.blurOut=
{blur:"5em"};q.blurToggle={blur:"!=5em"};q.scrollUp={scrollTop:0};q.scrollDown={scrollTop:"100%"};q.scrollLeft={scrollLeft:0};q.scrollRight={scrollLeft:"100%"};p=L.prototype;p.animate=function(a,b,c){var d=this.O,f=this.a===this.c||d&&Y[d],g=this.b;a=Math.max((a-(this.start||(this.start=a)))*b,0);b=a>=this.duration;if(!f)if(d&&(Y[d]=1),b)var e=c?this.c:this.a;else this.ease?e=this.ease.length?(this.c-this.a)*this.ease[K/this.duration*a+.5>>0]/1E4:(this.c-this.a)*a/this.duration:e=1===this.i.length?
this.i(a/this.duration):this.i(a,this.a,this.c,this.duration),c?e=this.a+e:e=this.c-e,e=this.S?(e*K+.5>>0)/K:e+.5>>0;c=this.style;f||this.g===e||(this.g=e,this.transform?g.C[c]=e+this.j:this.filter?g.B[c]=e+this.j:this.A?g["_"+this.J][c]=e:(e+=this.j,"custom"!==c&&this.Z(c,e)));c===this.transform?e=this.V():c===this.filter?e=this.R():c===this.A&&(e=this.P(this.J));this.u&&this.u.call(g,b?1:a/this.duration,e);if(b&&(this.start=-1,this.m)){if(f=g.F){e=++g.D;this.I&&e>=f.length&&(this.I--,g.D=e=0);if(e<
f.length)return;g.F=null}this.m.call(g)}};p.Y=function(a,b){if(-1===this.start){if(this.m){b=this.b;var c=b.F;if(c&&(a.animate(b,c[b.D],{duration:this.duration,ease:this.i,callback:this.m,step:this.u,force:this.h,loop:this.I}),0===this.start))return!0}this.O||(this.b[this.T]=null)}else{c=b-fa;if(this.l)if("view"===this.l){var d=this.b.getBoundingClientRect();if(0<=d.top&&d.bottom<=window.innerHeight)this.l=0;else return!0}else{if(0<(this.l-=c))return!0;this.l=0}if(!a.G)return this.start+=c,!0;this.animate(b,
a.ratio,a.direction);return!0}};p.Z=function(a,b){"scrollTop"===a||"scrollLeft"===a?this.b[a]=b:A(this.v,this.U,b,this.h)};p.seek=function(a,b){b=this.duration/b;this.start+=(this.g-this.a)/(this.c-this.a)*b-a*b};p.update=function(a){if(this.g===a)return!1;J(a)?a=t(a):z(a)&&(a=this.a);-1!==this.start&&(this.a=a);this.g=a;this.j&&(a+=this.j);return a};var la=function(a){function b(b,d){a[b]=-d;a[b+"R"]=d;a[b+"G"]=d;a[b+"B"]=d;a[b+"A"]=d}b("color",1);b("backgroundColor",2);b("borderColor",3);return a}({}),
ma=function(a){function b(b,d){a[b]=d;a[b+"X"]=d;a[b+"Y"]=d;a[b+"Z"]=d;a[b+"3d"]=d}b("translate",1);b("scale",2);b("rotate",3);b("skew",4);return a}({}),qa={scaleX:0,skewY:1,skewX:2,scaleY:3,translateX:4,translateY:5},S={blur:1,brightness:2,contrast:2,grayscale:1,"hue-rotate":1,invert:1,saturate:2,sepia:1};var C={};var Z=Array(255);for(var k=0;256>k;k++){var U=k.toString(16);U.length%2&&(U="0"+U);C[U]=k;Z[k]=U}p.V=function(){for(var a=this.b.C,b=this.v,c=this.b.M,d="",f=0,g=c.length;f<g;f++){var e=
c[f],h="scale"===e?1:0,n=a[e+"X"],r=a[e+"Y"],m=a[e+"Z"];if(n||r||m)"rotate"===e&&(n&&(d+=e+"X("+(n||h)+") "),r&&(d+=e+"Y("+(r||h)+") ")),m&&t(m)!==h?d="rotate"===e?d+(e+"Z("+(m||h)+") "):d+(e+"3d("+(n||h)+","+(r||h)+","+m+") "):"rotate"!==e&&(d+=e+"("+(n||h)+","+(r||h)+") ")}A(b,wa||"transform",d,this.h);return a};p.R=function(){for(var a=this.b.B,b=this.b.K,c="",d=0,f=b.length;d<f;d++){var g=b[d],e=(S[g]||1)-1,h=a[g];h&&h!==e&&(c+=g+"("+h+") ")}A(this.v,ya||"filter",c,this.h);return a};p.P=function(a){var b=
this.b["_"+a],c=this.v,d=a.replace("C","-c"),f=b[a+"R"]||0,g=b[a+"G"]||0,e=b[a+"B"]||0;a=b[a+"A"];"%"===this.j&&(f=2.55*f+.5>>0,g=2.55*g+.5>>0,e=2.55*e+.5>>0,a&&(a/=100));A(c,d,1===a||z(a)?"#"+Z[f]+Z[g]+Z[e]:"rgba("+f+","+g+","+e+","+a+")",this.h);return b};k=B.prototype;k.X=function(a,b,c,d,f,g,e,h,n,r,m,k,q,p,w,y,H,M){var V=""+(w?ra:y?sa:H?ta:N)(a,b,d,M);"auto"===V&&(V="0");d=t(V);if(J(f)){var z=f;f="="===f[1]?ha(d,z=f.substring(2),f[0]):t(f);g||(g=z.substring((""+f).length));"%"===g&&("scrollTop"===
b?(f*=(a.scrollHeight-a.clientHeight)/100,g=""):"scrollLeft"===b&&(f*=(a.scrollWidth-a.clientWidth)/100,g=""))}g||(g=V.substring((""+d).length)||"");b=new L(a,b,c,d,f,g,e,h,n,r,m,k,q,p,w,y,H,M);this.stack[this.stack.length]=b;p||(a[c]=b)};k.animate=function(a,b,c,d){if(a&&b){if(b.constructor===Array){var f=b;b=b[0]}if(J(b))if(-1===b.indexOf(" "))b=q[b];else{b=b.split(" ");for(var g={},e=0,h=b.length;e<h;e++)for(var n=q[b[e]],r=Object.keys(n),m=0;m<r.length;m++)g[r[m]]=n[r[m]];b=g}if(c)if("function"===
typeof c)d=c,c={};else{g=c.engine;if("css"===g)return this.transition(a,b,c);if("native"===g)return this.native(a,b,c)}else c={};a=W(a);g=c.delay;e=c.duration||400;h=ua(c.ease)||"";n=Object.keys(b);if(r=n.length)m=n[0],"%"===m[m.length-1]&&(f=va(b,n,r,e),b=f[0],n=Object.keys(b),r=n.length);d=d||c.callback||f&&function(){};m=c.step;var k=c.force,p=c.strict,ca=c.init;c=c.loop;for(var w,y,H,M,B,t=r;0<t--;){var l=n[t];if("transform"===l){w=ia(l,b[l],{});l=Object.keys(w);for(var u=0;u<l.length;u++){var v=
l[u];n[r++]=v;b[v]=w[v]}w=l[l.length-1]}else if(!w&&ma[l])w=l;else if("filter"===l)for(l=ja(l,b[l],{}),u=Object.keys(l),v=0;v<u.length;v++)y=u[v],"hue"===y&&(y="hue-rotate"),n[r++]=y,b[y]=l[y];else if("hue"===l&&(l="hue-rotate"),!y&&S[l])y=l;else if(u=la[l]){if(0>u){v=b[l];"object"===typeof v&&(v=v.to);v=Q(v,l);var x=void 0,A=void 0;n[r++]=x=l+"R";b[x]=v[x];n[r++]=x=l+"G";b[x]=v[x];n[r++]=x=l+"B";b[x]=v[x];z(A=v[x=l+"A"])?l+="B":(n[r++]=x,b[x]=A,l=x);u*=-1}H||1!==u?M||2!==u?B||3!==u||(B=l):M=l:H=
l}}for(t=0;t<r;t++){var G=A=x=v=u=void 0,C=void 0,E=n[t];l=b[E];var D=void 0,K=void 0;"object"===typeof l&&(g=l.delay||g,e=l.duration||e,h=l.ease||h,D=l.from,K=l.unit,l=l.to);if("transform"!==E&&(u=ma[E]&&w,"filter"!==E)){"hue"===E&&(E="hue-rotate");v=S[E]&&y;var I=la[E];if(I){if(0>I)continue;1===I?(x=H,C="color"):2===I?(A=M,C="backgroundColor"):3===I&&(G=B,C="borderColor")}if(l.constructor===Array){if("scroll"===E){u=void 0;n[r++]=u="scrollLeft";b[u]=l[0];n[r++]=u="scrollTop";b[u]=l[1];continue}D=
l[0];K=l[2];l=l[1]}I=t===r-1;for(var N="_fat_"+E+this.id,L=0,R=a.length;L<R;L++){var F=a[L],O=p&&E+(F._id||(F._id=aa++));I&&f&&(F.F=f,F.D=0);ca&&0===t&&(F.L=null,w?F.C=null:H?F.ba=null:M?F.$=null:B?F.aa=null:y&&(F.B=null));var P=!ca&&!O&&F[N];P?P.W(D,l,k,e,h,I&&d,I&&m,g,u,v,x||A||G,C):this.X(F,E,N,D,l,K,k,e,h,I&&d,I&&m,g,c,O,u,v,x||A||G,C)}}}this.exec||(this.exec=requestAnimationFrame(this.H))}return this};k.destroy=function(){this.exec&&(this.exec=0,this.stack=[],this.w=[],aa&&P===this.id&&(P=0));
return this};k.create=function(){return new B};k.paint=function(a){this.w[this.w.length]=a;this.exec||(this.exec=requestAnimationFrame(this.H))};k.ease=O;k.preset=q;k.transform=function(a,b,c,d){J(b)&&(b={transform:b});return this.animate(a,b,c,d)};k.filter=function(a,b,c,d){J(b)&&(b={filter:b});return this.animate(a,b,c,d)};k.update=function(a,b,c,d){a=W(a);if(J(b))for(var f=0,g=a.length;f<g;f++){var e=a[f],h=e["_fat_"+b+this.id],n=!0;h?n=h.update(c,d):N(e,b)===c&&(n=!1);n&&(e=e.s||(e.s=e.style),
A(e,b,c,d))}else for(d=Object.keys(b),f=0,g=d.length;f<g;f++)e=d[f],this.update(a,e,b[e],c);return this};k.seek=function(a){for(var b=this.stack,c=this.ratio,d=0,f=b.length;d<f;b[d++].seek(a,c));return this};k.pause=function(){this.G=!1;return this};k.start=function(){this.G=!0;return this};k.stop=function(){return this.reset().pause()};k.speed=function(a){this.ratio=a;return this};k.reset=function(){return this.seek(0)};k.finish=function(){return this.seek(1)};k.reverse=function(a){this.direction=
z(a)?!this.direction:!a;return this};k.transition=function(a,b,c){if(a&&b){c||(c={});a=W(a);var d=Object.keys(b),f=d.length,g=(c.duration||400)+"ms",e=c.ease||"linear",h=c.callback||!1,n=(c.delay||0)+"ms",r=c.force;for(c=0;c<f;c++){var m=d[c];if(T&&"transform"===m)b[T]=b[m],d[c]=T;else{var k=R(m);b[k]=b[m];d[c]=k}}c=ba?ba+"End":"transitionend";m={};k=0;for(var q=a.length;k<q;m={f:m.f},k++){m.f=a[k];var p=m.f.N;h&&h===p||(p&&(m.f.removeEventListener(c,p,!1),m.f.N=null),h&&(m.f.N=h,m.f.addEventListener(c,
h,!1)));requestAnimationFrame(function(a){return function(){var c=" "+g+" "+e+" "+n,h=d.join(c+",")+c;c=a.f.s||(a.f.s=a.f.style);A(c,xa||"transition",h,r);for(h=0;h<f;h++){var m=d[h];A(c,m,b[m],r)}}}(m))}}return this};k.native=function(a,b,c){if(a&&b){c||(c={});var d=Object.keys(b);a=W(a);var f=c.duration||400,g=c.ease||"linear",e=c.callback,h=c.cancel;c=c.delay||0;for(var n=d.length,k={},m=0,q=a.length;m<q;k={o:k.o},m++){k.o=a[m];for(var p={},t=0;t<n;t++){var w=d[t];p[w]=[N(k.o,w),b[w]]}p=k.o.animate(p,
{l:c,duration:f,ease:g});e&&(p.da=function(a){return function(){for(var c=0;c<n;c++){var f=d[c];A(a.o.s,f,b[f])}e.call(a.o)}}(k));h&&(p.ca=function(a){return function(){h.call(a.o)}}(k))}}return this};p.W=function(a,b,c,d,f,g,e,h,k,p,m,q){z(a)?a=this.g:a=t(a);J(b)&&(b="="===b[1]?ha(a,b.substring(2),b[0]):t(b));this.a=a;this.c=b;this.duration=d;this.start=0;this.h=c;this.i!==f&&(this.ease=da(f),this.i=f);this.m=g;this.u=e;this.l=h;k&&(this.transform=k);m&&(this.A=m,this.J=q);p&&(this.filter=p)};return new B}(),
this);
