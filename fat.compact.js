/*
 FAT v0.6.6
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(B,G,y){var p;(p=y.define)&&p.amd?p([],function(){return G}):(p=y.modules)?p[B.toLowerCase()]=G:"object"===typeof exports?module.exports=G:y[B]=G})("Fat",function(){function B(a,b,c,d,e,h,f,g,k,l,u,P,p,D,E,r,m,q,n){this.b=a;this.j=a.B;this.style=b;this.J=b.replace(/([A-Z])/g,"-$1").toLowerCase();this.F=d;this.G=e;this.g=d;this.s=h;this.c=f;this.duration=g;this.m=k;this.ease=R(k);this.time=0;this.i=l;this.h=u;this.I=c;this.a=P;this.H=q?"%"===h||-1!==b.indexOf("A"):"px"!==h;q&&
(this.f=q,this.o=n);r&&(this.transform=r)}function G(a,b,c){var d=c||-1,e;if("#"===a[0])if(a=a.toLowerCase(),4===a.length){c=x[(e=a[1])+e];var h=x[(e=a[2])+e];var f=x[(e=a[3])+e]}else c=x[a[1]+a[2]],h=x[a[3]+a[4]],f=x[a[5]+a[6]];else e=M(a,"(",")").split(","),c=parseInt(e[0],10),h=parseInt(e[1],10),f=parseInt(e[2],10),3<e.length&&(d=v(e[3])),-1!==a.indexOf("hsl")&&(0===h?h=f=a=f:(a=.5>f?f*(1+h):f+h-f*h,e=2*f-a,h=y(e,a,c+1/3),f=y(e,a,c),a=y(e,a,c-1/3)),c=255*h+.5>>0,h=255*f+.5>>0,f=255*a+.5>>0);a=
{};a[b+"R"]=c;a[b+"G"]=h;a[b+"B"]=f;-1!==d&&(a[b+"A"]=d);return a}function y(a,b,c){0>c?c+=1:1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function p(){this.id=++Y;this.stack=[];this.A=Z.bind(this);this.exec=this.l=0;this.u=[]}function J(a,b,c,d){d?a.setProperty(b,c,"important"):a.setProperty(b,c)}function R(a){if(K(a))if(a){var b;if(!(b=S[a])){if(b=N[a]||(N[a]=O.apply(O,aa[a]))){for(var c=new (Int16Array||Array)(z),d=0;d<z;d++)c[d]=1E4*b(d/z)+.5>>0;b=c}else b=[];b=S[a]=b}a=b}else a=
[];else a=null;return a}function Z(a){var b=this.stack,c=this.u,d=b.length,e=c.length;if(d||e){this.exec=requestAnimationFrame(this.A);var h=this.l||(this.l=a),f=!1;if(d)for(var g=0;g<d;g++){var k=b[g];k&&(f=!0,k.N(this,a)||(b[g]=null))}if(e)for(b=0;b<e;b++)if(d=c[b])if(f=!0,!d.w||0>=(d.w-=a-h))d(a)||(c[b]=null);this.l=a;f||this.destroy()}}function K(a){return"string"===typeof a}function H(a){return"undefined"===typeof a}function T(a,b,c){b=v(b);"+"===c?b=a+b:"-"===c?b=a-b:"*"===c?b*=a:"/"===c?b=
a/b:"!"===c&&(b=a===b?0:b);return b}function Q(a,b,c){if("custom"===b)return c||0;var d=a.B||(a.B=a.style);return(c=H(c)?d[b]:c)?c:(a.C||(a.C=getComputedStyle(a)))[b]}function U(a,b,c,d){if("none"===b)return b=a.substring(0,a.length-1),c[a]="scale"===b?1:0,d&&!c[b]&&(d[d.length]=b,c[b]=1),c;-1!==b.indexOf("matrix")&&(b=M(b,"(",")").split(","),b=a+"("+(parseFloat(b[ba[a]])||0)+")");a=b.replace(/, /g,",").split(" ");b={};for(var e=0,h=0;h<a.length;h++){var f=a[h],g=M(f,"(");if(g){f=M(f,"(",")").split(",");
var k=f.length;2<k&&(g=g.replace("3d",""),c[g+"Z"]=f[2]);1<k?(c[g+"X"]=f[0],c[g+"Y"]=f[1]):(c[g]=f[0],g=g.substring(0,g.length-1));b[g]||(d&&(d[e++]=g),b[g]=1)}}return c}function ca(a,b,c){var d=a.v;if(d)var e=a.D;else a.v=d={},a.D=e=[];if(!d||H(d[b]))a=c||Q(a,V||"transform"),U(b,a,d,e);return d[b]}function da(a,b,c,d){var e="_"+d,h=a[e];h||(c=c||Q(a,d),a[e]=h=G(c,d,1));return h[b]}function M(a,b,c){var d=a.indexOf(b);return-1!==d?c?a.substring(d+b.length,a.indexOf(c)):a.substring(0,d):""}var z=Math.max(screen.width,
screen.height),S={},N={},l=function(){var a=getComputedStyle(document.body);if(H(a.transform))for(var b=["webkit","moz","ms","o"],c=0,d;c<b.length;c++){if(!H(a[(d=b[c])+"Transform"]))return d}else return""}(),V=l&&l+"Transform",ea=l&&"-"+V.replace(/([A-Z])/g,"-$1").toLowerCase(),v=parseFloat,Y=0,aa={easeIn:[.55,.085,.68,.53],easeOut:[.25,.46,.45,.94],easeInOut:[.455,.03,.515,.955],cubicIn:[.55,.055,.675,.19],cubicOut:[.215,.61,.355,1],cubicInOut:[.645,.045,.355,1],quartIn:[.895,.03,.685,.22],quartOut:[.165,
.84,.44,1],quartInOut:[.77,0,.175,1],quintIn:[.755,.05,.855,.06],quintOut:[.23,1,.32,1],quintInOut:[.86,0,.07,1],expoIn:[.95,.05,.795,.035],expoOut:[.19,1,.22,1],expoInOut:[1,0,0,1],circIn:[.6,.04,.98,.335],circOut:[.075,.82,.165,1],circInOut:[.785,.135,.15,.86],sineIn:[.47,0,.745,.715],sineOut:[.39,.575,.565,1],sineInOut:[.445,.05,.55,.95],backIn:[.6,-.28,.735,.045],backOut:[.175,.885,.32,1.275],backInOut:[.68,-.55,.265,1.55],snap:[.1,1,.1,1]},O=function(){function a(a,c,d,e){this.a=a;this.i=c;this.b=
d;this.j=e}a.prototype.c=function(a,c){return 1-3*c+3*a};a.prototype.f=function(a,c){return 3*c-6*a};a.prototype.g=function(a){return 3*a};a.prototype.h=function(a,c,d){return((this.c(c,d)*a+this.f(c,d))*a+this.g(c))*a};a.prototype.m=function(a,c,d){return 3*this.c(c,d)*a*a+2*this.f(c,d)*a+this.g(c)};a.prototype.o=function(a){for(var b=a,d=0;4>d;++d){var e=this.m(b,this.a,this.b);if(0===e)break;b-=(this.h(b,this.a,this.b)-a)/e}return b};a.prototype.s=function(a){return 0===a||1===a||this.a===this.i&&
this.b===this.j?a:this.h(this.o(a),this.i,this.j)};return function(b,c,d,e){b=new a(b,c,d,e);return b.s.bind(b)}}();l=B.prototype;l.animate=function(a,b){var c=this.F,d=this.G,e=this.duration,h=this.b,f=c===d||!1;a=this.time+=a-(b||a);b=a>=e;if(!f)if(b)var g=d;else{var k;if(k=this.ease)g=k.length?(d-c)*k[z/e*a+.5>>0]/1E4:(d-c)*a/e;else if(k=this.m)g=1===k.length?k(a/e):k(a,c,d,e);g=c+g;g=this.H?(g*z+.5>>0)/z:g+.5>>0}c=this.style;f||this.g===g||(this.g=g,this.transform?h.v[c]=g+this.s:this.f?h["_"+
this.o][c]=g:(g+=this.s,"custom"!==c&&this.O(g)));c===this.transform?g=this.K():c===this.f&&(g=this.P(this.o));this.h&&this.h.call(h,b?1:a/e,g);b&&(this.time=-1,this.i&&this.i.call(h))};l.N=function(a,b){if(-1===this.time)this.b[this.I]=null;else{var c=b-a.l;if(this.a)if("view"===this.a)if(c=this.b.getBoundingClientRect(),0<=c.top&&c.bottom<=window.innerHeight)this.a=0;else return!0;else{if(0<(this.a-=c))return!0;this.a=0}this.animate(b,a.l);return!0}};l.O=function(a){J(this.j,this.J,a,this.c)};var W=
function(a){function b(b,d){a[b]=-d;a[b+"R"]=d;a[b+"G"]=d;a[b+"B"]=d;a[b+"A"]=d}b("color",1);b("backgroundColor",2);b("borderColor",3);return a}({}),X=function(a){function b(b,d){a[b]=d;a[b+"X"]=d;a[b+"Y"]=d;a[b+"Z"]=d;a[b+"3d"]=d}b("translate",1);b("scale",2);b("rotate",3);b("skew",4);return a}({}),ba={scaleX:0,skewY:1,skewX:2,scaleY:3,translateX:4,translateY:5};var x={};var L=Array(255);for(var F=0;256>F;F++){var C=F.toString(16);C.length%2&&(C="0"+C);x[C]=F;L[F]=C}l.K=function(){for(var a=this.b.v,
b=this.j,c=this.b.D,d="",e=0,h=c.length;e<h;e++){var f=c[e],g="scale"===f?1:0,k=a[f+"X"],l=a[f+"Y"],u=a[f+"Z"];if(k||l||u)"rotate"===f&&(k&&(d+=f+"X("+(k||g)+") "),l&&(d+=f+"Y("+(l||g)+") ")),u&&v(u)!==g?d="rotate"===f?d+(f+"Z("+(u||g)+") "):d+(f+"3d("+(k||g)+","+(l||g)+","+u+") "):"rotate"!==f&&(d+=f+"("+(k||g)+","+(l||g)+") ")}J(b,ea||"transform",d,this.c);return a};l.P=function(a){var b=this.b["_"+a],c=this.j,d=a.replace("C","-c"),e=b[a+"R"]||0,h=b[a+"G"]||0,f=b[a+"B"]||0;a=b[a+"A"];"%"===this.s&&
(e=2.55*e+.5>>0,h=2.55*h+.5>>0,f=2.55*f+.5>>0,a&&(a/=100));J(c,d,1===a||H(a)?"#"+L[e]+L[h]+L[f]:"rgba("+e+","+h+","+f+","+a+")",this.c);return b};l.L=function(a,b,c,d,e,h,f,g,k,l,u){H(a)?a=this.g:a=v(a);K(b)&&(b="="===b[1]?T(a,b.substring(2),b[0]):v(b));this.F=a;this.G=b;this.duration=d;this.time=0;this.c=c;this.m!==e&&(this.ease=R(e),this.m=e);this.i=h;this.h=f;this.a=g;k&&(this.transform=k);l&&(this.f=l,this.o=u)};l=p.prototype;l.M=function(a,b,c,d,e,h,f,g,k,l,u,P,p,D,E){var r=""+(p?ca:D?da:Q)(a,
b,d,E);"auto"===r&&(r="0");d=v(r);if(K(e)){var m=e;e="="===e[1]?T(d,m=e.substring(2),e[0]):v(e);h||(h=m.substring((""+e).length))}h||(h=r.substring((""+d).length));b=new B(a,b,c,d,e,h,f,g,k,l,u,P,!1,!1,!1,p,void 0,D,E);this.stack[this.stack.length]=b;a[c]=b};l.animate=function(a,b,c,d){c?"function"===typeof c&&(d=c,c={}):c={};K(a)?a=document.querySelectorAll(a):a.length||(a=[a]);var e=c.delay,h=c.duration||400,f=c.ease;if(f){var g;if(K(f)){if(g=M(f,"bezier(",")")){g=g.replace(/ /g,"");var k=g.split(",")}}else f.constructor===
Array&&(g=f.join(","),k=f);g&&(N[g]||(N[g]=O.apply(O,k)),f=g)}g=f||"";k=Object.keys(b);f=k.length;d=d||c.callback||!1;var l=c.step,u=c.force;c=c.init;for(var p,y,D,E,r=f;0<r--;){var m=k[r];if("transform"===m){p=U(m,b[m],{});m=Object.keys(p);for(var q=0,n=m.length;q<n;q++){var w=m[q];k[f++]=w;b[w]=p[w]}p=m[m.length-1]}else if(!p&&X[m])p=m;else if(q=W[m])0>q&&(n=b[m],"object"===typeof n&&(n=n.to),w=G(n,m),k[f++]=n=m+"R",b[n]=w[n],k[f++]=n=m+"G",b[n]=w[n],k[f++]=n=m+"B",b[n]=w[n],H(w=w[n=m+"A"])?m+=
"B":(k[f++]=n,b[n]=w,m=n),q*=-1),y||1!==q?D||2!==q?E||3!==q||(E=m):D=m:y=m}for(r=0;r<f;r++){var x=w=n=q=void 0,v=k[r],t=b[v],z=void 0,B=void 0;if("transform"!==v){m=X[v]&&p;var A=W[v];if(A){if(0>A)continue;1===A?(q=y,x="color"):2===A?(n=D,x="backgroundColor"):3===A&&(w=E,x="borderColor")}t.constructor===Array?(z=t[0],B=t[2],t=t[1]):"object"===typeof t&&(e=t.delay||e,h=t.duration||h,g=t.ease||g,z=t.from,B=t.unit,t=t.to);A=r===f-1;for(var F="_fat_"+v+this.id,C=0,L=a.length;C<L;C++){var I=a[C];c&&0===
r&&(I.C=null,p?I.v=null:y?I.T=null:D?I.R=null:E&&(I.S=null));var J=!c&&I[F];J?J.L(z,t,u,h,g,A&&d,A&&l,e,m,q||n||w,x):this.M(I,v,F,z,t,B,u,h,g,A&&d,A&&l,e,m,q||n||w,x)}}}this.exec||(this.exec=requestAnimationFrame(this.A));return this};l.destroy=function(){this.exec&&(this.exec=0,this.stack=[],this.l=0,this.u=[]);return this};l.create=function(a){return new p(a)};l.paint=function(a,b){b&&(a.w=b);b=this.u.length;this.u[b]=a;this.exec||(this.exec=requestAnimationFrame(this.A));return b};l.cancel=function(a){this.u[a]=
null};l.ease=N;l.transform=function(a,b,c,d){K(b)&&(b={transform:b});return this.animate(a,b,c,d)};return new p}(),this);
