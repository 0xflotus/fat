/*
 FAT v0.6.0
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(E,G,u){var q;(q=u.define)&&q.amd?q([],function(){return G}):(q=u.modules)?q[E.toLowerCase()]=G:"object"===typeof exports?module.exports=G:u[E]=G})("Fat",function(){function E(a,b,c,d,e,f,g,h,t,l,n,A,p,r,H,w,k,v){this.b=a;this.u=a.w;this.style=b;this.G=b.replace(/([A-Z])/g,"-$1").toLowerCase();this.a=d;this.c=e;this.l=d;this.i=f;this.h=g;this.duration=h;this.g=t;this.ease=Q(t);this.start=0;this.o=l;this.m=n;this.F=c;this.f=A;this.D=k?"%"===f||-1!==b.indexOf("A"):"px"!==f;k&&
(this.j=k,this.v=v);H&&(this.transform=H)}function G(a,b,c){var d=c||-1,e;if("#"===a[0])if(a=a.toLowerCase(),4===a.length){c=x[(e=a[1])+e];var f=x[(e=a[2])+e];var g=x[(e=a[3])+e]}else c=x[a[1]+a[2]],f=x[a[3]+a[4]],g=x[a[5]+a[6]];else e=L(a,"(",")").split(","),c=parseInt(e[0],10),f=parseInt(e[1],10),g=parseInt(e[2],10),3<e.length&&(d=y(e[3])),-1!==a.indexOf("hsl")&&(0===f?f=g=a=g:(a=.5>g?g*(1+f):g+f-g*f,e=2*g-a,f=u(e,a,c+1/3),g=u(e,a,c),a=u(e,a,c-1/3)),c=255*f+.5>>0,f=255*g+.5>>0,g=255*a+.5>>0);a=
{};a[b+"R"]=c;a[b+"G"]=f;a[b+"B"]=g;-1!==d&&(a[b+"A"]=d);return a}function u(a,b,c){0>c?c+=1:1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function q(){this.id=++Z;this.stack=[];this.C=aa.bind(this);this.exec=0}function Q(a){if(M(a))if(a){var b;if(!(b=R[a])){if(b=N[a]||(N[a]=O.apply(O,ba[a]))){for(var c=new (Int16Array||Array)(z),d=0;d<z;d++)c[d]=1E4*b(d/z)+.5>>0;b=c}else b=[];b=R[a]=b}a=b}else a=[];else a=null;return a}function aa(a){var b=this.stack.length;if(b){this.exec=requestAnimationFrame(this.C);
for(var c=!1,d=0;d<b;d++){var e=this.stack[d];e&&(c=!0,e.K(a)||(this.stack[d]=null))}S=a;c||this.destroy()}}function M(a){return"string"===typeof a}function F(a){return"undefined"===typeof a}function T(a,b,c){b=y(b);"+"===c?b=a+b:"-"===c?b=a-b:"*"===c?b*=a:"/"===c?b=a/b:"!"===c&&(b=a===b?0:b);return b}function P(a,b,c){if("scrollTop"===b||"scrollLeft"===b)return F(c)?a[b]:c;if("custom"===b)return c||0;var d=a.w||(a.w=a.style);return(c=F(c)?d[b]:c)?c:(a.A||(a.A=getComputedStyle(a)))[b]}function U(a,
b,c,d){if("none"===b)return b=a.substring(0,a.length-1),c[a]="scale"===b?1:0,d&&(d[d.length]=b),c;-1!==b.indexOf("matrix")&&(b=L(b,"(",")").split(","),b=a+"("+(parseFloat(b[ca[a]])||"")+")");a=b.replace(/, /g,",").split(" ");b={};for(var e=0,f=0;f<a.length;f++){var g=a[f],h=L(g,"(");if(h){g=L(g,"(",")").split(",");var t=g.length;2<t&&(h=h.replace("3d",""),c[h+"Z"]=g[2]);1<t?(c[h+"X"]=g[0],c[h+"Y"]=g[1]):(c[h]=g[0],h=h.substring(0,h.length-1));b[h]||(d&&(d[e++]=h),b[h]=1)}}return c}function da(a,b,
c){var d=a.s;if(d)var e=a.B;else a.s=d={},a.B=e=[];if(!d||F(d[b]))a=c||P(a,V||"transform"),U(b,a,d,e);return d[b]}function ea(a,b,c,d){var e="_"+d,f=a[e];f||(c=c||P(a,d),a[e]=f=G(c,d,1));return f[b]}function L(a,b,c){var d=a.indexOf(b);return-1!==d?c?a.substring(d+b.length,a.indexOf(c)):a.substring(0,d):""}function W(a,b,c){if(a&&b){c?"function"===typeof c&&(c={callback:c}):c={};M(a)?a=document.querySelectorAll(a):a.length||(a=[a]);var d=c.callback||!1,e=c.step||0,f=c.force||0,g=c.init,h=c.delay||
0,t=c.duration||400;if(c=c.ease){var l;if(M(c)){if(l=L(c,"bezier(",")")){l=l.replace(/ /g,"");var n=l.split(",")}}else c.constructor===Array&&(l=c.join(","),n=c);l&&(N[l]||(N[l]=O.apply(O,n)),c=l)}l=c||"";n=Object.keys(b);c=n.length;for(var A,p,r,H,w=c;0<w--;){var k=n[w];if("transform"===k){A=U(k,b[k],{});k=Object.keys(A);for(var v=0;v<k.length;v++){var m=k[v];n.push(m);b[m]=A[m];c++}A=k[k.length-1]}else if(!A&&X[k])A=k;else if(v=Y[k]){if(0>v){m=b[k];"object"===typeof m&&(m=m.to);var B=G(m,k);n.push(m=
k+"R");b[m]=B[m];n.push(m=k+"G");b[m]=B[m];n.push(m=k+"B");b[m]=B[m];var q=!F(B=B[m=k+"A"]);q?(n.push(m),b[m]=B,k=m):k+="B";c+=q?4:3;v*=-1}p||1!==v?r||2!==v?H||3!==v||(H=k):r=k:p=k}}for(w=0;w<c;w++){q=B=m=v=void 0;var u=n[w],C=b[u],x=void 0,y=void 0,z=w===c-1,E="_fat_"+u+this.id;"object"===typeof C&&(h=C.delay||h,t=C.duration||t,l=C.ease||l,x=C.from,y=C.unit,C=C.to);if("transform"!==u){k=X[u]&&A;var D=Y[u];if(D){if(0>D)continue;1===D?(v=p,q="color"):2===D?(m=r,q="backgroundColor"):3===D&&(B=H,q="borderColor")}D=
0;for(var K=a.length;D<K;D++){var I=a[D];g&&0===w&&(I.A=null,A?I.s=null:p?I.P=null:r?I.N=null:H&&(I.O=null));var J=!g&&I[E];J?J.I(x,C,y,f,t,l,z&&d,z&&e,h,k,v||m||B,q):this.J(I,u,E,x,C,y,f,t,l,z&&d,z&&e,h,k,v||m||B,q)}}}this.exec||(this.exec=requestAnimationFrame(this.C))}return this}var z=Math.max(screen.width,screen.height),R={},N={},r=function(){var a=getComputedStyle(document.body);if(F(a.transform))for(var b=["webkit","moz","ms","o"],c=0,d;c<b.length;c++){if(!F(a[(d=b[c])+"Transform"]))return d}else return""}(),
V=r&&r+"Transform",fa=r&&"-"+V.replace(/([A-Z])/g,"-$1").toLowerCase(),y=parseFloat,Z=0,S=0,ba={easeIn:[.55,.085,.68,.53],easeOut:[.25,.46,.45,.94],easeInOut:[.455,.03,.515,.955],cubicIn:[.55,.055,.675,.19],cubicOut:[.215,.61,.355,1],cubicInOut:[.645,.045,.355,1],quartIn:[.895,.03,.685,.22],quartOut:[.165,.84,.44,1],quartInOut:[.77,0,.175,1],quintIn:[.755,.05,.855,.06],quintOut:[.23,1,.32,1],quintInOut:[.86,0,.07,1],expoIn:[.95,.05,.795,.035],expoOut:[.19,1,.22,1],expoInOut:[1,0,0,1],circIn:[.6,.04,
.98,.335],circOut:[.075,.82,.165,1],circInOut:[.785,.135,.15,.86],sineIn:[.47,0,.745,.715],sineOut:[.39,.575,.565,1],sineInOut:[.445,.05,.55,.95],backIn:[.6,-.28,.735,.045],backOut:[.175,.885,.32,1.275],backInOut:[.68,-.55,.265,1.55],snap:[.1,1,.1,1]},O=function(){function a(a,c,d,e){this.a=a;this.i=c;this.b=d;this.j=e}a.prototype.c=function(a,c){return 1-3*c+3*a};a.prototype.f=function(a,c){return 3*c-6*a};a.prototype.g=function(a){return 3*a};a.prototype.h=function(a,c,d){return((this.c(c,d)*a+
this.f(c,d))*a+this.g(c))*a};a.prototype.l=function(a,c,d){return 3*this.c(c,d)*a*a+2*this.f(c,d)*a+this.g(c)};a.prototype.m=function(a){for(var c=a,b=0;4>b;++b){var e=this.l(c,this.a,this.b);if(0===e)break;c-=(this.h(c,this.a,this.b)-a)/e}return c};a.prototype.o=function(a){return 0===a||1===a||this.a===this.i&&this.b===this.j?a:this.h(this.m(a),this.i,this.j)};return function(b,c,d,e){b=new a(b,c,d,e);return b.o.bind(b)}}();r=E.prototype;r.animate=function(a){var b=this.a===this.c||!1,c=this.b;
a=Math.max(a-(this.start||(this.start=a)),0);var d=a>=this.duration;if(!b)if(d)var e=this.c;else this.ease?e=this.ease.length?(this.c-this.a)*this.ease[z/this.duration*a+.5>>0]/1E4:(this.c-this.a)*a/this.duration:e=1===this.g.length?this.g(a/this.duration):this.g(a,this.a,this.c,this.duration),e=this.a+e,e=this.D?(e*z+.5>>0)/z:e+.5>>0;var f=this.style;b||this.l===e||(this.l=e,this.transform?c.s[f]=e+this.i:this.j?c["_"+this.v][f]=e:(e+=this.i,"custom"!==f&&this.L(f,e)));f===this.transform?e=this.H():
f===this.j&&(e=this.M(this.v));this.m&&this.m.call(c,d?1:a/this.duration,e);d&&(this.start=-1,this.o&&this.o.call(c))};r.K=function(a){if(-1===this.start)this.b[this.F]=null;else{var b=a-S;if(this.f){if(0<(this.f-=b))return!0;this.f=0}this.animate(a);return!0}};r.L=function(a,b){"scrollTop"===a||"scrollLeft"===a?this.b[a]=b:this.u.setProperty(this.G,b,this.h?"important":void 0)};var Y=function(a){function b(c,b){a[c]=-b;a[c+"R"]=b;a[c+"G"]=b;a[c+"B"]=b;a[c+"A"]=b}b("color",1);b("backgroundColor",
2);b("borderColor",3);return a}({}),X=function(a){function b(b,d){a[b]=d;a[b+"X"]=d;a[b+"Y"]=d;a[b+"Z"]=d;a[b+"3d"]=d}b("translate",1);b("scale",2);b("rotate",3);b("skew",4);return a}({}),ca={scaleX:0,skewY:1,skewX:2,scaleY:3,translateX:4,translateY:5};var x={};var J=Array(255);for(var p=0;256>p;p++){var K=p.toString(16);K.length%2&&(K="0"+K);x[K]=p;J[p]=K}r.H=function(){for(var a=this.b.s,b=this.u,c=this.b.B,d="",e=0,f=c.length;e<f;e++){var g=c[e],h="scale"===g?1:0,t=a[g+"X"],l=a[g+"Y"],n=a[g+"Z"];
if(t||l||n)"rotate"===g&&(t&&(d+=g+"X("+(t||h)+") "),l&&(d+=g+"Y("+(l||h)+") ")),n&&y(n)!==h?d="rotate"===g?d+(g+"Z("+(n||h)+") "):d+(g+"3d("+(t||h)+","+(l||h)+","+n+") "):"rotate"!==g&&(d+=g+"("+(t||h)+","+(l||h)+") ")}b.setProperty(fa||"transform",d,this.h?"important":void 0);return a};r.M=function(a){var b=this.b["_"+a],c=this.u,d=a.replace("C","-c"),e=b[a+"R"]||0,f=b[a+"G"]||0,g=b[a+"B"]||0;a=b[a+"A"];"%"===this.i&&(e=2.55*e+.5>>0,f=2.55*f+.5>>0,g=2.55*g+.5>>0,a&&(a/=100));c.setProperty(d,1===
a||F(a)?"#"+J[e]+J[f]+J[g]:"rgba("+e+","+f+","+g+","+a+")",this.h?"important":void 0);return b};p=q.prototype;p.J=function(a,b,c,d,e,f,g,h,t,l,n,q,p,r,u){var w=""+(p?da:r?ea:P)(a,b,d,u);"auto"===w&&(w="0");d=y(w);if(M(e)){var k=e;e="="===e[1]?T(d,k=e.substring(2),e[0]):y(e);f||(f=k.substring((""+e).length));"%"===f&&("scrollTop"===b?(e*=(a.scrollHeight-a.clientHeight)/100,f=""):"scrollLeft"===b&&(e*=(a.scrollWidth-a.clientWidth)/100,f=""))}f||(f=w.substring((""+d).length)||"");b=new E(a,b,c,d,e,f,
g,h,t,l,n,q,!1,!1,p,void 0,r,u);this.stack[this.stack.length]=b;a[c]=b};p.animate=W;p.destroy=function(){this.exec&&(this.exec=0,this.stack=[]);return this};p.create=function(){return new q};p.ease=N;p.transform=W;r.I=function(a,b,c,d,e,f,g,h,p,l,n,q){F(a)?a=this.l:a=y(a);M(b)&&(b="="===b[1]?T(a,b.substring(2),b[0]):y(b));this.a=a;this.c=b;this.duration=e;this.start=0;this.h=d;this.g!==f&&(this.ease=Q(f),this.g=f);this.o=g;this.m=h;this.f=p;c&&(this.i=c);l&&(this.transform=l);n&&(this.j=n,this.v=
q)};return new q}(),this);
