/*
 FAT v0.3.0
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(n,f,l){var g;(g=l.define)&&g.amd?g([],function(){return f}):(g=l.modules)?g[n.toLowerCase()]=f:"object"===typeof exports?module.exports=f:l[n]=f})("Fat",function(){function n(a,b,d,c,e,p,f,H,g,r,t,h){this.j=a;this.w=a.m;this.style=b;this.a=c;this.b=e;this.g=c;this.D=p;this.s=f;this.duration=H;this.f=g;this.ease=l(g);this.start=0;this.i=r;this.h=t;this.C=d;this.c=h;this.B="px"!==p}function f(){this.id=I++;this.stack=[];this.u=g.bind(this);this.exec=0;this.l=!1}function l(a){if(B(a))if(a){var b;
if(!(b=z[a])){if(b=A[a]||!1){for(var d=new (Int16Array||Array)(u),c=0;c<u;c++)d[c]=1E4*b(c/u)+.5>>0;b=d}else b=[];b=z[a]=b}a=b}else a=[];else a=null;return a}function g(a){var b=this.stack.length;if(b){this.exec=requestAnimationFrame(this.u);for(var d=!1,c=0;c<b;c++){var e=this.stack[c];e&&(e.A(a)?d=!0:this.stack[c]=null)}D=a;d||this.destroy()}}function B(a){return"string"===typeof a}function x(a){return"undefined"===typeof a}function E(a,b,d){if(3>b.length)return parseInt(b,10);d||(d=b[0]+b[1],F[d]&&
(b=b.substring(2)));b=v(b);"+="===d?b=a+b:"-="===d?b=a-b:"*="===d?b*=a:"/="===d&&(b=a/b);return b}var u=Math.max(screen.width,screen.height),G=u,z={},A={},v=parseFloat,I=0,D=0,w=n.prototype;w.animate=function(a){var b=this.a===this.b,d=this.j,c=Math.max(a-(this.start||(this.start=a)),0);a=c>=this.duration;if(!b)if(a)var e=this.b;else this.ease?e=this.ease.length?(this.b-this.a)*this.ease[u/this.duration*c+.5>>0]/1E4:(this.b-this.a)*c/this.duration:e=1===this.f.length?this.f(c/this.duration):this.f(c,
this.a,this.b,this.duration),e=this.a+e,e=this.B?(e*G+.5>>0)/G:e+.5>>0;c=this.style;var p=this.g!==e;p&&(this.g=e,this.v(c,e));(p||b)&&this.h&&this.h.call(d,e);a&&(this.start=-1,this.i&&this.i.call(d))};w.A=function(a){if(-1===this.start)this.j[this.C]=null;else{var b=a-D;if(this.c){if(0<(this.c-=b))return!0;this.c=0}this.animate(a);return!0}};w.v=function(a,b){"scrollTop"===a?this.j.scrollTop=b:this.w.setProperty(a,b+this.D,this.s?"important":void 0)};var F={"+=":1,"-=":1,"*=":1,"/=":1},h=f.prototype;
h.handle=function(a,b,d,c,e,p,f,g,h,r,t,l){var k=a[d];if(k)k.handle(c,e,p,f,g,h,r,t);else{"scrollTop"===b?c=x(c)?a.scrollTop:c:(k=a.m||(a.m=a.style),c=(c=x(c)?k[b]:c)?c:(a.o||(a.o=getComputedStyle(a)))[b]);k=""+c;"auto"===k&&(k="0");c=v(k);var m=""+e;if(B(e)){var y=e[0]+e[1];F[y]?(m=m.substring(2),e=E(c,m,y)):e=v(e)}(m=m.substring((""+e).length))||(m=k.substring((""+c).length));b=new n(a,b,d,c,e,m,p,f,g,h,r,t,l);this.stack[this.stack.length]=b;a[d]=b}};h.animate=function(a,b,d){if(a&&b){d||(d={});
B(a)?a=document.querySelectorAll(a):a.length||(a=[a]);var c=a.length,e=d.duration||400,f=d.callback||!1,g=d.step||!1,h=d.delay||0,l=d.force||!1,r=this.l||d.init;d=d.ease||"";for(var t=Object.keys(b),n=t.length,k=0;k<n;k++){var m=k===n-1,y=t[k],u="_fat_"+y+this.id,q=b[y],v=void 0,w=void 0,x=void 0,z=void 0;"object"===typeof q&&(z=q.delay,x=q.duration,w=q.ease,v=q.from,q=q.to);for(var C=0;C<c;C++){var A=a[C];r&&0===k&&(A.o=null);this.handle(A,y,u,v,q,l,x||e,w||d,m&&f,m&&g,z||h,!1)}}r&&(this.l=!1);this.exec||
(this.exec=requestAnimationFrame(this.u))}return this};h.destroy=function(){this.exec&&(this.exec=0,this.stack=[]);return this};h.init=function(){this.l=!0;return this};h.ease=A;h.create=function(){return new f};w.handle=function(a,b,d,c,e,f,g,h){x(a)?a=this.g:a=v(a);B(b)&&(b=E(a,b));this.a=a;this.b=b;this.duration=c;this.start=0;this.s=d;this.f!==e&&(this.ease=l(e),this.f=e);this.i=f;this.h=g;this.c=h};return new f}(),this);
