/*
 FAT v0.2.0
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(m,e,n){var l;(l=n.define)&&l.amd?l([],function(){return e}):(l=n.modules)?l[m.toLowerCase()]=e:"object"===typeof exports?module.exports=e:n[m]=e})("Fat",function(){function m(a,c,b,k,d,f,e,w,l,m,r){this.i=a;this.D=a.l;this.style=c;this.c=b;this.h=k;this.b=b;this.G=d;this.o=f;this.duration=e;this.v=w;this.u=u[w]||(u[w]=n(w));this.start=0;this.g=l;this.f=m;this.B="_fat_"+c;this.s=(k-b)/100;this.w=p/e;this.a=r;this.F="px"!==d}function e(){this.stack=[];this.A=l.bind(this);this.exec=
0;this.j=!1}function n(a){var c="undefined"===typeof Int32Array?Array(p):new Int32Array(p);a=q[a]||q.linear;for(var b=0;b<p;b++)c[b]=1E3*a(b,0,100,p)+.5>>0;return c}function l(a){var c=this.stack.length;if(c){this.exec=requestAnimationFrame(this.A);var b=a-v;v=a;for(var k=!1,d=0;d<c;d++){var f=this.stack[d];if(f)if(-1===f.start)f.i[f.B]=null,this.stack[d]=null;else{k=!0;if(f.a)if(0<(f.a-=b))continue;else f.a=0;f.animate(a)}}k||this.destroy()}}var p=Math.max(screen.width,screen.height),u=Object.create(null),
v=0,q={linear:function(a,c,b,k){return a/k*b+c}};m.prototype.animate=function(a){var c=this.c===this.h,b=this.i,k=Math.max(a-(this.start||(this.start=a)),0);a=k>=this.duration;if(!c)if(a)var d=this.h;else d=this.s*this.u[this.w*k+.5>>0]/1E3,d=this.c+d,d=this.F?(1E3*d+.5>>0)/1E3:d+.5>>0;k=this.style;var f=this.b!==d;f&&(this.b=d,this.C(k,d));(f||c)&&this.f&&this.f.call(b,d);a&&(this.start=-1,this.g&&this.g.call(b))};m.prototype.C=function(a,c){"scrollTop"===a?this.i.scrollTop=c:this.D.setProperty(a,
c+this.G,this.o?"important":void 0)};e.prototype.handle=function(a,c,b,k,d,f,e,l,y,q){var r="_fat_"+c,g=a[r],h;if(g)g.c=h=g.b,g.h=b=parseFloat(b),g.duration=d,g.start=0,g.o=k,g.v!==f&&(g.u=u[f]||(u[f]=n(f)),g.v=f),g.s=(b-h)/100,g.w=p/d,g.g=e,g.f=l,g.a=y;else{h="scrollTop"===c?a.scrollTop:(h=(a.l||(a.l=a.style))[c])?h:(a.m||(a.m=getComputedStyle(a)))[c];g=""+h;"auto"===g&&(g="0");h=parseFloat(g);var t=""+b;b=parseFloat(b);(t=t.substring((""+b).length))||(t=g.substring((""+h).length));c=new m(a,c,h,
b,t,k,d,f,e,l,y,q);this.stack[this.stack.length]=c;a[r]=c}};e.prototype.animate=function(a,c,b){if(a&&c){b||(b=Object.create(null));"string"===typeof a&&(a=document.querySelectorAll(a));var e=a.length;e||(a=[a],e=1);var d=b.duration||400,f=b.ease||"linear",l=b.callback||!1,m=b.step||!1,n=b.delay||0,p=b.force||!1;b=this.j||b.init;for(var r=Object.keys(c),g=r.length,h=0;h<g;h++)for(var t=h===g-1,q=r[h],u=c[q],x=0;x<e;x++){var v=a[x];b&&0===h&&(v.m=null);this.handle(v,q,u,p,d,f,t&&l,t&&m,n,!1)}b&&(this.j=
!1);this.exec||(this.exec=requestAnimationFrame(this.A))}return this};e.prototype.destroy=function(){this.exec&&(this.exec=0,this.stack=[]);return this};e.prototype.init=function(){this.j=!0;return this};e.prototype.easing=q;e.prototype.create=function(){return new e};return new e}(),this);
