/*
 FAT v0.1.0
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(m,d,p){var l;(l=p.define)&&l.amd?l([],function(){return d}):(l=p.modules)?l[m.toLowerCase()]=d:"undefined"!==typeof module?module.exports=d:p[m]=d})("Fat",function(){function m(b,c,a,e,g,h,d,l,v,m,n,q,f){this.c=b;this.style=c;this.v=a;this.from=e;this.u=g;this.current=e;this.m=h;this.w=0===h.length?0:"%"===h?1:2;this.force=d;this.duration=l;this.l=v;this.j=r[v]||(r[v]=p(v));this.start=0;this.f=n;this.step=q;this.B="_fat_"+c;this.i=(g-e)/100;this.s=m/l;this.a=f}function d(){this.stack=
[];this.o=l.bind(this);this.exec=0;this.g=!1}function p(b){var c="undefined"===typeof Int32Array?Array(n):new Int32Array(n);b=t[b]||t.linear;for(var a=0;a<n;a++)c[a]=1E3*b(a,0,100,n)>>0;return c}function l(b){var c=this.stack.length;if(c){this.exec=requestAnimationFrame(this.o);var a=b-x;x=b;for(var e=!1,g=0;g<c;g++){var h=this.stack[g];if(h)if(-1===h.start)h.c[h.B]=null,this.stack[g]=null;else{e=!0;if(h.a)if(0<(h.a-=a))continue;else h.a=0;h.animate(b)}}e||this.destroy()}}var n=Math.max(screen.width,
screen.height),r=Object.create(null),x=0,t={linear:function(b,c,a,e){return b/e*a+c}};m.prototype.animate=function(b){var c=this.style,a=Math.max(b-(this.start||(this.start=b)),0);(b=a>=this.duration)?a=this.u:(a=this.i*this.j[this.s*a+.5>>0]/1E3,a=this.from+a,a=2>this.w?(1E3*a+.5>>0)/1E3:a+.5>>0);this.current!==a&&(this.current=a,this.A(c,a));b&&(this.start=-1,this.f&&this.f.call(this.c))};m.prototype.A=function(b,c){"scrollTop"===b?this.c.scrollTop=c:this.v.setProperty(b,c+this.m,this.force?"important":
"");this.step&&this.step.call(this.c,c)};d.prototype.handle=function(b,c,a,e,g,h,d,l,v,t,B){var q="_fat_"+c,f=b[q],k;if(f)f.from=k=f.current,f.u=a=parseFloat(a),f.duration=e,f.start=0,f.force=B,f.l!==g&&(f.j=r[g]||(r[g]=p(g)),f.l=g),f.i=(a-k)/100,f.s=n/e,f.f=h,f.step=d,f.a=l;else{k="scrollTop"===c?b.scrollTop:(k=(b.b||(b.b=b.style))[c])?k:(b.h||(b.h=getComputedStyle(b,null)))[c];f=""+k;var C=b.b;"auto"===f&&(f="0");k=parseFloat(f);var u=""+a;a=parseFloat(a);(u=u.substring((""+a).length))||(u=f.substring((""+
k).length));c=new m(b,c,C,k,a,u,B,e,g,n,h,d,l,v,t);this.stack[this.stack.length]=c;b[q]=c}};d.prototype.animate=function(b,c,a){if(b&&c){a||(a=Object.create(null));"string"===typeof b&&(b=document.querySelectorAll(b));var e=b.length;e||(b=[b],e=1);var g=Object.keys(c),d=a.duration||400,l=a.ease||"linear",m=a.callback||!1,n=a.step||!1,p=a.delay||0,t=a.force;a=this.g||a.init;for(var q,f,k=g.length-1;0<=k;k--){var r=0===k,u=g[k],x=""+c[u],y="",z="";y&&(q?y="1":q=!0);z&&(f?z="1":f=!0);for(var A=0;A<e;A++){var w=
b[A];a&&0===k&&(w.h=null,y&&(w.G=null),z&&(w.F=null,w.C=null,w.D=null));this.handle(w,u,x,d,l,r&&m,r&&n,p,y,z,t)}}a&&(this.g=!1);this.exec||(this.exec=requestAnimationFrame(this.o))}return this};d.prototype.update=function(b,c,a){if("undefined"===typeof a){a=Object.keys(c);for(var e,d=0;d<a.length;d++)e=a[d],this.update(b,e,c[e])}else(e=b["_fat_"+c])&&e.current!==a&&(e.current=a,(b.b||(b.b=b.style)).setProperty(c,a+e.m,e.force?"important":""));return this};d.prototype.destroy=function(){this.exec&&
(cancelAnimationFrame(this.exec),this.exec=0,this.stack=[]);return this};d.prototype.init=function(){this.g=!0;return this};d.prototype.easing=t;d.prototype.create=function(){return new d};return new d}(),this);
