/*
 FAT v0.6.6
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/fat
*/
'use strict';(function(G,H,x){var r;(r=x.define)&&r.amd?r([],function(){return H}):(r=x.modules)?r[G.toLowerCase()]=H:"object"===typeof exports?module.exports=H:x[G]=H})("Fat",function(){function G(a,c,b,d,e,h,g,f,l,X,n,q,k,t,z,u,m,v,p){this.c=a;this.u=a.g;this.style=c;this.J=N(c);this.F=d;this.H=e;this.m=d;this.A=h;this.j=g;this.duration=f;this.v=l;this.ease=B(l)?[]:null;this.time=0;this.s=X;this.o=n;this.I=b;this.a=q;this.R=v?"%"===h||-1!==c.indexOf("A"):"px"!==h;v&&(this.l=v,this.w=p);u&&(this.transform=
u)}function H(a,c,b){var d=b||-1,e;if("#"===a[0])if(a=a.toLowerCase(),4===a.length){b=A[(e=a[1])+e];var h=A[(e=a[2])+e];var g=A[(e=a[3])+e]}else b=A[a[1]+a[2]],h=A[a[3]+a[4]],g=A[a[5]+a[6]];else e=O(a,"(",")").split(","),b=parseInt(e[0],10),h=parseInt(e[1],10),g=parseInt(e[2],10),3<e.length&&(d=E(e[3])),-1!==a.indexOf("hsl")&&(0===h?h=g=a=g:(a=.5>g?g*(1+h):g+h-g*h,e=2*g-a,h=x(e,a,b+1/3),g=x(e,a,b),a=x(e,a,b-1/3)),b=255*h+.5>>0,h=255*g+.5>>0,g=255*a+.5>>0);a={};a[c+"R"]=b;a[c+"G"]=h;a[c+"B"]=g;-1!==
d&&(a[c+"A"]=d);return a}function x(a,c,b){0>b?b+=1:1<b&&--b;return b<1/6?a+6*(c-a)*b:.5>b?c:b<2/3?a+(c-a)*(2/3-b)*6:a}function r(){this.id=++Y;this.stack=[];this.G=Z.bind(this);this.exec=this.f=0}function C(a,c,b,d){d?a.setProperty(c,b,"important"):a.setProperty(c,b)}function N(a){return a.replace(/([A-Z])/g,"-$1").toLowerCase()}function R(a){B(a)?a=document.querySelectorAll(a):a.length||(a=[a]);return a}function Z(a){var c=this.stack,b=c.length;if(b){this.exec=requestAnimationFrame(this.G);this.f||
(this.f=a);var d=!1;if(b)for(var e=0;e<b;e++){var h=c[e];h&&(d=!0,h.N(this,a)||(c[e]=null))}this.f=a;d||this.destroy()}}function B(a){return"string"===typeof a}function J(a){return"undefined"===typeof a}function P(a,c,b){if("custom"===c)return b||0;var d=a.g||(a.g=a.style);return(b=J(b)?d[c]:b)?b:(a.B||(a.B=getComputedStyle(a)))[c]}function U(a,c,b,d){if("none"===c)return c=a.substring(0,a.length-1),b[a]="scale"===c?1:0,d&&!b[c]&&(d[d.length]=c,b[c]=1),b;-1!==c.indexOf("matrix")&&(c=O(c,"(",")").split(","),
c=a+"("+(parseFloat(c[aa[a]])||0)+")");a=c.replace(/, /g,",").split(" ");c={};for(var e=0,h=0;h<a.length;h++){var g=a[h],f=O(g,"(");if(f){g=O(g,"(",")").split(",");var l=g.length;2<l&&(f=f.replace("3d",""),b[f+"Z"]=g[2]);1<l?(b[f+"X"]=g[0],b[f+"Y"]=g[1]):(b[f]=g[0],f=f.substring(0,f.length-1));c[f]||(d&&(d[e++]=f),c[f]=1)}}return b}function ba(a,c,b){var d=a.i;if(d)var e=a.C;else a.i=d={},a.C=e=[];if(!d||J(d[c]))a=b||P(a,F||"transform"),U(c,a,d,e);return d[c]}function ca(a,c,b,d){var e="_"+d,h=a[e];
h||(b=b||P(a,d),a[e]=h=H(b,d,1));return h[c]}function O(a,c,b){var d=a.indexOf(c);return-1!==d?b?a.substring(d+c.length,a.indexOf(b)):a.substring(0,d):""}var S=Math.max(screen.width,screen.height),k=function(){var a=getComputedStyle(document.body);if(J(a.transform))for(var c=["webkit","moz","ms","o"],b=0,d;b<c.length;b++){if(!J(a[(d=c[b])+"Transform"]))return d}else return""}(),F=k&&k+"Transform",da=k&&"-"+N(F),T=k&&k+"Transition",ea=k&&"-"+N(T),E=parseFloat,Y=0;k=G.prototype;k.animate=function(a,
c){var b=this.F,d=this.H,e=this.duration,h=this.c,g=b===d||!1;a=this.time+=a-(c||a);c=a>=e;if(!g)if(c)var f=d;else{var l;if(l=this.ease)f=l.length?(d-b)*l[S/e*a+.5>>0]/1E4:(d-b)*a/e;else if(l=this.v)f=1===l.length?l(a/e):l(a,b,d,e);f=b+f;f=this.R?(f*S+.5>>0)/S:f+.5>>0}b=this.style;g||this.m===f||(this.m=f,this.transform?h.i[b]=f+this.A:this.l?h["_"+this.w][b]=f:(f+=this.A,"custom"!==b&&this.O(f)));b===this.transform?f=this.K():b===this.l&&(f=this.P(this.w));this.o&&this.o.call(h,c?1:a/e,f);c&&(this.time=
-1,this.s&&this.s.call(h))};k.N=function(a,c){if(-1===this.time)this.c[this.I]=null;else{var b=c-a.f;if(this.a)if("view"===this.a)if(b=this.c.getBoundingClientRect(),0<=b.top&&b.bottom<=window.innerHeight)this.a=0;else return!0;else{if(0<(this.a-=b))return!0;this.a=0}this.animate(c,a.f);return!0}};k.O=function(a){C(this.u,this.J,a,this.j)};var V=function(a){function c(b,c){a[b]=-c;a[b+"R"]=c;a[b+"G"]=c;a[b+"B"]=c;a[b+"A"]=c}c("color",1);c("backgroundColor",2);c("borderColor",3);return a}({}),W=function(a){function c(b,
c){a[b]=c;a[b+"X"]=c;a[b+"Y"]=c;a[b+"Z"]=c;a[b+"3d"]=c}c("translate",1);c("scale",2);c("rotate",3);c("skew",4);return a}({}),aa={scaleX:0,skewY:1,skewX:2,scaleY:3,translateX:4,translateY:5};var A={};var Q=Array(255);for(var L=0;256>L;L++){var M=L.toString(16);M.length%2&&(M="0"+M);A[M]=L;Q[L]=M}k.K=function(){for(var a=this.c.i,c=this.u,b=this.c.C,d="",e=0,h=b.length;e<h;e++){var g=b[e],f="scale"===g?1:0,l=a[g+"X"],k=a[g+"Y"],n=a[g+"Z"];if(l||k||n)"rotate"===g&&(l&&(d+=g+"X("+(l||f)+") "),k&&(d+=
g+"Y("+(k||f)+") ")),n&&E(n)!==f?d="rotate"===g?d+(g+"Z("+(n||f)+") "):d+(g+"3d("+(l||f)+","+(k||f)+","+n+") "):"rotate"!==g&&(d+=g+"("+(l||f)+","+(k||f)+") ")}C(c,da||"transform",d,this.j);return a};k.P=function(a){var c=this.c["_"+a],b=this.u,d=a.replace("C","-c"),e=c[a+"R"]||0,h=c[a+"G"]||0,g=c[a+"B"]||0;a=c[a+"A"];"%"===this.A&&(e=2.55*e+.5>>0,h=2.55*h+.5>>0,g=2.55*g+.5>>0,a&&(a/=100));C(b,d,1===a||J(a)?"#"+Q[e]+Q[h]+Q[g]:"rgba("+e+","+h+","+g+","+a+")",this.j);return c};k.L=function(a,c,b,d,
e,h,g,f,l,k,n){J(a)?a=this.m:a=E(a);B(c)&&(c=E(c));this.F=a;this.H=c;this.duration=d;this.time=0;this.j=b;this.v!==e&&(this.ease=B(e)?[]:null,this.v=e);this.s=h;this.o=g;this.a=f;l&&(this.transform=l);k&&(this.l=k,this.w=n)};k=r.prototype;k.M=function(a,c,b,d,e,h,g,f,l,k,n,q,I,t,z){var u=""+(I?ba:t?ca:P)(a,c,d,z);"auto"===u&&(u="0");d=E(u);if(B(e)){var m=e;e=E(e);h||(h=m.substring((""+e).length))}h||(h=u.substring((""+d).length));c=new G(a,c,b,d,e,h,g,f,l,k,n,q,!1,!1,!1,I,void 0,t,z);this.stack[this.stack.length]=
c;a[b]=c};k.animate=function(a,c,b,d){if(b)if("function"===typeof b)d=b,b={};else{var e=b.engine;if("css"===e)return this.transition(a,c,b);if("native"===e)return this.native(a,c,b)}else b={};a=R(a);e=b.delay;var h=b.duration||400,g=b.ease||"",f=Object.keys(c),l=f.length;d=d||b.callback||!1;var k=b.step,n=b.force;b=b.init;for(var q,I,t,z,u=l;0<u--;){var m=f[u];if("transform"===m){q=U(m,c[m],{});m=Object.keys(q);for(var v=0,p=m.length;v<p;v++){var y=m[v];f[l++]=y;c[y]=q[y]}q=m[m.length-1]}else if(!q&&
W[m])q=m;else if(v=V[m])0>v&&(p=c[m],"object"===typeof p&&(p=p.to),y=H(p,m),f[l++]=p=m+"R",c[p]=y[p],f[l++]=p=m+"G",c[p]=y[p],f[l++]=p=m+"B",c[p]=y[p],J(y=y[p=m+"A"])?m+="B":(f[l++]=p,c[p]=y,m=p),v*=-1),I||1!==v?t||2!==v?z||3!==v||(z=m):t=m:I=m}for(u=0;u<l;u++){var r=y=p=v=void 0,x=f[u],w=c[x],A=void 0,B=void 0;if("transform"!==x){m=W[x]&&q;var D=V[x];if(D){if(0>D)continue;1===D?(v=I,r="color"):2===D?(p=t,r="backgroundColor"):3===D&&(y=z,r="borderColor")}w.constructor===Array?(A=w[0],B=w[2],w=w[1]):
"object"===typeof w&&(e=w.delay||e,h=w.duration||h,g=w.ease||g,A=w.from,B=w.unit,w=w.to);D=u===l-1;for(var E="_fat_"+x+this.id,C=0,G=a.length;C<G;C++){var K=a[C];b&&0===u&&(K.B=null,q?K.i=null:I?K.U=null:t?K.S=null:z&&(K.T=null));var F=!b&&K[E];F?F.L(A,w,n,h,g,D&&d,D&&k,e,m,v||p||y,r):this.M(K,x,E,A,w,B,n,h,g,D&&d,D&&k,e,m,v||p||y,r)}}}this.exec||(this.exec=requestAnimationFrame(this.G));return this};k.destroy=function(){this.exec&&(this.exec=0,this.stack=[],this.f=0);return this};k.create=function(a){return new r(a)};
k.transform=function(a,c,b,d){B(c)&&(c={transform:c});return this.animate(a,c,b,d)};k.transition=function(a,c,b){b||(b={});a=R(a);var d=Object.keys(c),e=d.length,h=(b.duration||400)+"ms",g=b.ease||"linear",f=b.callback||!1,l=(b.delay||0)+"ms",k=b.force;for(b=0;b<e;b++){var n=d[b];if(F&&"transform"===n)c[F]=c[n],d[b]=F;else{var q=N(n);c[q]=c[n];d[b]=q}}b=T?T+"End":"transitionend";n={};q=0;for(var r=a.length;q<r;n={h:n.h},q++){var t=a[q],z=t.D,u=" "+h+" "+g+" "+l;u=d.join(u+",")+u;n.h=t.g||(t.g=t.style);
C(n.h,ea||"transition",u,k);f&&f===z||(z&&(t.removeEventListener(b,z,!1),t.D=null),f&&(t.D=f,t.addEventListener(b,f,!1)));requestAnimationFrame(function(a){return function(){for(var b=0;b<e;b++){var f=d[b];C(a.h,f,c[f],k)}}}(n))}return this};k.native=function(a,c,b){b||(b={});var d=Object.keys(c);a=R(a);var e=b.duration||400,h=b.ease||"linear",g=b.callback;b=b.delay||0;for(var f=d.length,l={},k=0,n=a.length;k<n;l={b:l.b},k++){l.b=a[k];for(var q={},r=0;r<f;r++){var t=d[r];q[t]=[P(l.b,t),c[t]]}l.b.animate(q,
{a:b,duration:e,ease:h}).V=function(a){return function(){for(var b=0;b<f;b++){var e=d[b];C(a.b.g,e,c[e])}g&&g.call(a.b)}}(l)}return this};return new r}(),this);
